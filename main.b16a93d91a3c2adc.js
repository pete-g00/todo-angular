"use strict";(self.webpackChunktodo_angular=self.webpackChunktodo_angular||[]).push([[179],{210:()=>{function Ue(n){return"function"==typeof n}function mh(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Cg=mh(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function qc(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ct{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ue(i))try{i()}catch(s){e=s instanceof Cg?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{pL(s)}catch(o){e=e??[],o instanceof Cg?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Cg(e)}}add(e){var t;if(e&&e!==this)if(this.closed)pL(e);else{if(e instanceof Ct){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&qc(t,e)}remove(e){const{_finalizers:t}=this;t&&qc(t,e),e instanceof Ct&&e._removeParent(this)}}Ct.EMPTY=(()=>{const n=new Ct;return n.closed=!0,n})();const hL=Ct.EMPTY;function fL(n){return n instanceof Ct||n&&"closed"in n&&Ue(n.remove)&&Ue(n.add)&&Ue(n.unsubscribe)}function pL(n){Ue(n)?n():n.unsubscribe()}const hl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ig={setTimeout(n,e,...t){const{delegate:i}=Ig;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ig;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function mL(n){Ig.setTimeout(()=>{const{onUnhandledError:e}=hl;if(!e)throw n;e(n)})}function gh(){}const cee=aE("C",void 0,void 0);function aE(n,e,t){return{kind:n,value:e,error:t}}let fl=null;function Dg(n){if(hl.useDeprecatedSynchronousErrorHandling){const e=!fl;if(e&&(fl={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=fl;if(fl=null,t)throw i}}else n()}class lE extends Ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fL(e)&&e.add(this)):this.destination=gee}static create(e,t,i){return new _h(e,t,i)}next(e){this.isStopped?uE(function dee(n){return aE("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?uE(function uee(n){return aE("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?uE(cee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fee=Function.prototype.bind;function cE(n,e){return fee.call(n,e)}class pee{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Tg(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Tg(i)}else Tg(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Tg(t)}}}class _h extends lE{constructor(e,t,i){let r;if(super(),Ue(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&hl.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&cE(e.next,s),error:e.error&&cE(e.error,s),complete:e.complete&&cE(e.complete,s)}):r=e}this.destination=new pee(r)}}function Tg(n){hl.useDeprecatedSynchronousErrorHandling?function hee(n){hl.useDeprecatedSynchronousErrorHandling&&fl&&(fl.errorThrown=!0,fl.error=n)}(n):mL(n)}function uE(n,e){const{onStoppedNotification:t}=hl;t&&Ig.setTimeout(()=>t(n,e))}const gee={closed:!0,next:gh,error:function mee(n){throw n},complete:gh},dE="function"==typeof Symbol&&Symbol.observable||"@@observable";function io(n){return n}function gL(n){return 0===n.length?io:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Ke=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function vee(n){return n&&n instanceof lE||function yee(n){return n&&Ue(n.next)&&Ue(n.error)&&Ue(n.complete)}(n)&&fL(n)}(t)?t:new _h(t,i,r);return Dg(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=_L(i))((r,s)=>{const o=new _h({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[dE](){return this}pipe(...t){return gL(t)(this)}toPromise(t){return new(t=_L(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function _L(n){var e;return null!==(e=n??hl.Promise)&&void 0!==e?e:Promise}const bee=mh(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let se=(()=>{class n extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new yL(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new bee}next(t){Dg(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Dg(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Dg(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?hL:(this.currentObservers=null,s.push(t),new Ct(()=>{this.currentObservers=null,qc(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new Ke;return t.source=this,t}}return n.create=(e,t)=>new yL(e,t),n})();class yL extends se{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:hL}}class ai extends se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function vL(n){return Ue(n?.lift)}function mt(n){return e=>{if(vL(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(n,e,t,i,r){return new bL(n,e,t,i,r)}class bL extends lE{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function le(n,e){return mt((t,i)=>{let r=0;t.subscribe(Qe(i,s=>{i.next(n.call(e,s,r++))}))})}function pE(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function mE(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function Jo(n){return this instanceof Jo?(this.v=n,this):new Jo(n)}function CL(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function _E(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const yE=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function IL(n){return Ue(n?.then)}function DL(n){return Ue(n[dE])}function TL(n){return Symbol.asyncIterator&&Ue(n?.[Symbol.asyncIterator])}function SL(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xL=function Vee(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function AL(n){return Ue(n?.[xL])}function ML(n){return function EL(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Jo?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Jo(t.read());if(r)return yield Jo(void 0);yield yield Jo(i)}}finally{t.releaseLock()}})}function kL(n){return Ue(n?.getReader)}function yn(n){if(n instanceof Ke)return n;if(null!=n){if(DL(n))return function Bee(n){return new Ke(e=>{const t=n[dE]();if(Ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(yE(n))return function Uee(n){return new Ke(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(IL(n))return function jee(n){return new Ke(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,mL)})}(n);if(TL(n))return RL(n);if(AL(n))return function Hee(n){return new Ke(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(kL(n))return function $ee(n){return RL(ML(n))}(n)}throw SL(n)}function RL(n){return new Ke(e=>{(function zee(n,e){var t,i,r,s;return mE(this,void 0,void 0,function*(){try{for(t=CL(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ro(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Yt(n,e,t=1/0){return Ue(e)?Yt((i,r)=>le((s,o)=>e(i,s,r,o))(yn(n(i,r))),t):("number"==typeof e&&(t=e),mt((i,r)=>function Gee(n,e,t,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let g=!1;yn(t(m,u++)).subscribe(Qe(e,w=>{r?.(w),s?f(w):e.next(w)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const w=l.shift();o?ro(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return n.subscribe(Qe(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function Sg(n=1/0){return Yt(io,n)}const Er=new Ke(n=>n.complete());function NL(n){return n&&Ue(n.schedule)}function vE(n){return n[n.length-1]}function bE(n){return Ue(vE(n))?n.pop():void 0}function yh(n){return NL(vE(n))?n.pop():void 0}function vh(n,e=0){return mt((t,i)=>{t.subscribe(Qe(i,r=>ro(i,n,()=>i.next(r),e),()=>ro(i,n,()=>i.complete(),e),r=>ro(i,n,()=>i.error(r),e)))})}function xg(n,e=0){return mt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function OL(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ke(t=>{ro(t,e,()=>{const i=n[Symbol.asyncIterator]();ro(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function vn(n,e){return e?function Jee(n,e){if(null!=n){if(DL(n))return function Kee(n,e){return yn(n).pipe(xg(e),vh(e))}(n,e);if(yE(n))return function Qee(n,e){return new Ke(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(IL(n))return function Yee(n,e){return yn(n).pipe(xg(e),vh(e))}(n,e);if(TL(n))return OL(n,e);if(AL(n))return function Xee(n,e){return new Ke(t=>{let i;return ro(t,e,()=>{i=n[xL](),ro(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>Ue(i?.return)&&i.return()})}(n,e);if(kL(n))return function Zee(n,e){return OL(ML(n),e)}(n,e)}throw SL(n)}(n,e):yn(n)}function so(...n){const e=yh(n),t=function qee(n,e){return"number"==typeof vE(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?yn(i[0]):Sg(t)(vn(i,e)):Er}function Y(...n){return vn(n,yh(n))}function wE(n={}){const{connector:e=(()=>new se),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return mt((m,g)=>{c++,!d&&!u&&h();const w=l=l??e();g.add(()=>{c--,0===c&&!d&&!u&&(a=EE(p,r))}),w.subscribe(g),!o&&c>0&&(o=new _h({next:v=>w.next(v),error:v=>{d=!0,h(),a=EE(f,t,v),w.error(v)},complete:()=>{u=!0,h(),a=EE(f,i),w.complete()}}),yn(m).subscribe(o))})(s)}}function EE(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new _h({next:()=>{i.unsubscribe(),n()}});return yn(e(...t)).subscribe(i)}function Ag(n,e=io){return n=n??ete,mt((t,i)=>{let r,s=!0;t.subscribe(Qe(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function ete(n,e){return n===e}function dt(n){for(let e in n)if(n[e]===dt)return e;throw Error("Could not find renamed property on target object.")}function CE(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function bn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(bn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function IE(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const tte=dt({__forward_ref__:dt});function Xe(n){return n.__forward_ref__=Xe,n.toString=function(){return bn(this())},n}function pe(n){return DE(n)?n():n}function DE(n){return"function"==typeof n&&n.hasOwnProperty(tte)&&n.__forward_ref__===Xe}function TE(n){return n&&!!n.\u0275providers}class T extends Error{constructor(e,t){super(function Mg(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function _e(n){return"string"==typeof n?n:null==n?"":String(n)}function kg(n,e){throw new T(-201,!1)}function Cr(n,e){null==n&&function at(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function k(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ne(n){return{providers:n.providers||[],imports:n.imports||[]}}function Rg(n){return FL(n,Ng)||FL(n,VL)}function FL(n,e){return n.hasOwnProperty(e)?n[e]:null}function LL(n){return n&&(n.hasOwnProperty(SE)||n.hasOwnProperty(cte))?n[SE]:null}const Ng=dt({\u0275prov:dt}),SE=dt({\u0275inj:dt}),VL=dt({ngInjectableDef:dt}),cte=dt({ngInjectorDef:dt});var ce=(()=>((ce=ce||{})[ce.Default=0]="Default",ce[ce.Host=1]="Host",ce[ce.Self=2]="Self",ce[ce.SkipSelf=4]="SkipSelf",ce[ce.Optional=8]="Optional",ce))();let xE;function BL(){return xE}function Oi(n){const e=xE;return xE=n,e}function UL(n,e,t){const i=Rg(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ce.Optional?null:void 0!==e?e:void kg(bn(n))}const yt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),bh={},AE="__NG_DI_FLAG__",Og="ngTempTokenPath",dte=/\n/gm,jL="__source";let Kc;function ta(n){const e=Kc;return Kc=n,e}function pte(n,e=ce.Default){if(void 0===Kc)throw new T(-203,!1);return null===Kc?UL(n,void 0,e):Kc.get(n,e&ce.Optional?null:void 0,e)}function b(n,e=ce.Default){return(BL()||pte)(pe(n),e)}function N(n,e=ce.Default){return b(n,Pg(e))}function Pg(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ME(n){const e=[];for(let t=0;t<n.length;t++){const i=pe(n[t]);if(Array.isArray(i)){if(0===i.length)throw new T(900,!1);let r,s=ce.Default;for(let o=0;o<i.length;o++){const a=i[o],l=mte(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(b(r,s))}else e.push(b(i))}return e}function wh(n,e){return n[AE]=e,n.prototype[AE]=e,n}function mte(n){return n[AE]}function oo(n){return{toString:n}.toString()}var ds=(()=>((ds=ds||{})[ds.OnPush=0]="OnPush",ds[ds.Default=1]="Default",ds))(),Pi=(()=>{return(n=Pi||(Pi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Pi;var n})();const ao={},Ze=[],Fg=dt({\u0275cmp:dt}),kE=dt({\u0275dir:dt}),RE=dt({\u0275pipe:dt}),$L=dt({\u0275mod:dt}),lo=dt({\u0275fac:dt}),Eh=dt({__NG_ELEMENT_ID__:dt}),zL=dt({__NG_ENV_ID__:dt});function GL(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function NE(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];qL(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function WL(n){return 3===n||4===n||6===n}function qL(n){return 64===n.charCodeAt(0)}function Ch(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||KL(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function KL(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const YL="ng-template";function yte(n,e,t){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(t&&"class"===s&&-1!==GL(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function QL(n){return 4===n.type&&n.value!==YL}function vte(n,e,t){return e===(4!==n.type||t?n.value:YL)}function bte(n,e,t){let i=4;const r=n.attrs||[],s=function Cte(n){for(let e=0;e<n.length;e++)if(WL(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!vte(n,l,t)||""===l&&1===e.length){if(Br(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!yte(n.attrs,c,t)){if(Br(i))return!1;o=!0}continue}const d=wte(8&i?"class":l,r,QL(n),t);if(-1===d){if(Br(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==GL(f,c,0)||2&i&&c!==h){if(Br(i))return!1;o=!0}}}}else{if(!o&&!Br(i)&&!Br(l))return!1;if(o&&Br(l))continue;o=!1,i=l|1&i}}return Br(i)||o}function Br(n){return 0==(1&n)}function wte(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function Ite(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function XL(n,e,t=!1){for(let i=0;i<e.length;i++)if(bte(n,e[i],t))return!0;return!1}function Dte(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function ZL(n,e){return n?":not("+e.trim()+")":e}function Tte(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Br(o)&&(e+=ZL(s,r),r=""),i=o,s=s||!Br(i);t++}return""!==r&&(e+=ZL(s,r)),e}function lt(n){return oo(()=>{const e=eV(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ds.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Pi.Emulated,styles:n.styles||Ze,_:null,schemas:n.schemas||null,tView:null,id:""};tV(t);const i=n.dependencies;return t.directiveDefs=Lg(i,!1),t.pipeDefs=Lg(i,!0),t.id=function Ote(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Mte(n){return tt(n)||li(n)}function kte(n){return null!==n}function re(n){return oo(()=>({type:n.type,bootstrap:n.bootstrap||Ze,declarations:n.declarations||Ze,imports:n.imports||Ze,exports:n.exports||Ze,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function JL(n,e){if(null==n)return ao;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}function F(n){return oo(()=>{const e=eV(n);return tV(e),e})}function tt(n){return n[Fg]||null}function li(n){return n[kE]||null}function Li(n){return n[RE]||null}function er(n,e){const t=n[$L]||null;if(!t&&!0===e)throw new Error(`Type ${bn(n)} does not have '\u0275mod' property.`);return t}function eV(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ze,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:JL(n.inputs,e),outputs:JL(n.outputs)}}function tV(n){n.features?.forEach(e=>e(n))}function Lg(n,e){if(!n)return null;const t=e?Li:Mte;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(kte)}const wn=0,G=1,Ce=2,Nt=3,Ur=4,pl=5,ci=6,Qc=7,Ht=8,Xc=9,ml=10,be=11,Ih=12,nV=13,Zc=14,sn=15,Dh=16,Jc=17,hs=18,Th=19,iV=20,na=21,co=22,Vg=23,Bg=24,je=25,OE=1,rV=2,fs=7,Ug=8,eu=9,$n=11;function tr(n){return Array.isArray(n)&&"object"==typeof n[OE]}function Vi(n){return Array.isArray(n)&&!0===n[OE]}function PE(n){return 0!=(4&n.flags)}function gl(n){return n.componentOffset>-1}function jg(n){return 1==(1&n.flags)}function jr(n){return!!n.template}function FE(n){return 0!=(512&n[Ce])}function _l(n,e){return n.hasOwnProperty(lo)?n[lo]:null}const aV=Symbol("SIGNAL");function LE(n,e,t={}){return e[aV]=n,Object.assign(e,t)}function lV(n,e){return(null===n||"object"!=typeof n)&&Object.is(n,e)}let Bte=yt.WeakRef??class Vte{constructor(e){this.ref=e}deref(){return this.ref}},jte=0,ps=null,Hg=!1;function An(n){const e=ps;return ps=n,e}class $g{constructor(){this.id=jte++,this.ref=function Ute(n){return new Bte(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,t]of this.producers){const i=t.producerNode.deref();if(void 0!==i&&t.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(e),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Hg;Hg=!0;try{for(const[t,i]of this.consumers){const r=i.consumerNode.deref();void 0!==r&&r.trackingVersion===i.atTrackingVersion?r.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),r?.producers.delete(this.id))}}finally{Hg=e}}producerAccessed(){if(Hg)throw new Error("");if(null===ps)return;let e=ps.producers.get(this.id);void 0===e?(e={consumerNode:ps.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ps.trackingVersion},ps.producers.set(this.id,e),this.consumers.set(ps.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=ps.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ps?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}function cV(n,e){const t=new Hte(n,e?.equal??lV);return LE(t,t.signal.bind(t))}const VE=Symbol("UNSET"),BE=Symbol("COMPUTING"),zg=Symbol("ERRORED");class Hte extends $g{constructor(e,t){super(),this.computation=e,this.equal=t,this.value=VE,this.error=null,this.stale=!0,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){this.stale||(this.stale=!0,this.producerMayHaveChanged())}onProducerUpdateValueVersion(){if(this.stale){if(this.value!==VE&&this.value!==BE&&!this.consumerPollProducersForChange())return void(this.stale=!1);this.recomputeValue()}}recomputeValue(){if(this.value===BE)throw new Error("Detected cycle in computations.");const e=this.value;this.value=BE,this.trackingVersion++;const t=An(this);let i;try{i=this.computation()}catch(r){i=zg,this.error=r}finally{An(t)}this.stale=!1,e!==VE&&e!==zg&&i!==zg&&this.equal(e,i)?this.value=e:(this.value=i,this.valueVersion++)}signal(){if(this.onProducerUpdateValueVersion(),this.producerAccessed(),this.value===zg)throw this.error;return this.value}}let uV=function $te(){throw new Error};function UE(){uV()}class Gte extends $g{constructor(e,t){super(),this.value=e,this.equal=t,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(e){this.producerUpdatesAllowed||UE(),this.equal(this.value,e)||(this.value=e,this.valueVersion++,this.producerMayHaveChanged())}update(e){this.producerUpdatesAllowed||UE(),this.set(e(this.value))}mutate(e){this.producerUpdatesAllowed||UE(),e(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=LE(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}const fV=()=>{};class Wte extends $g{constructor(e,t,i){super(),this.watch=e,this.schedule=t,this.dirty=!1,this.cleanupFn=fV,this.registerOnCleanup=r=>{this.cleanupFn=r},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=An(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=fV,this.watch(this.registerOnCleanup)}finally{An(e)}}cleanup(){this.cleanupFn()}}class qte{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Qt(){return pV}function pV(n){return n.type.prototype.ngOnChanges&&(n.setInput=Yte),Kte}function Kte(){const n=gV(this),e=n?.current;if(e){const t=n.previous;if(t===ao)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Yte(n,e,t,i){const r=this.declaredInputs[t],s=gV(n)||function Qte(n,e){return n[mV]=e}(n,{previous:ao,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new qte(l&&l.currentValue,e,a===ao),n[i]=e}Qt.ngInherit=!0;const mV="__ngSimpleChanges__";function gV(n){return n[mV]||null}const ms=function(n,e,t){},_V="svg";function It(n){for(;Array.isArray(n);)n=n[wn];return n}function Wg(n,e){return It(e[n])}function Bi(n,e){return It(e[n.index])}function vV(n,e){return n.data[e]}function Ui(n,e){const t=e[n];return tr(t)?t:t[wn]}function qg(n){return 128==(128&n[Ce])}function ia(n,e){return null==e?null:n[e]}function bV(n){n[Jc]=0}function nne(n){1024&n[Ce]||(n[Ce]|=1024,EV(n,1))}function wV(n){1024&n[Ce]&&(n[Ce]&=-1025,EV(n,-1))}function EV(n,e){let t=n[Nt];if(null===t)return;t[pl]+=e;let i=t;for(t=t[Nt];null!==t&&(1===e&&1===i[pl]||-1===e&&0===i[pl]);)t[pl]+=e,i=t,t=t[Nt]}function CV(n,e){if(256==(256&n[Ce]))throw new T(911,!1);null===n[na]&&(n[na]=[]),n[na].push(e)}const fe={lFrame:NV(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function DV(){return fe.bindingsEnabled}function nu(){return null!==fe.skipHydrationRootTNode}function x(){return fe.lFrame.lView}function ze(){return fe.lFrame.tView}function zn(n){return fe.lFrame.contextLView=n,n[Ht]}function Gn(n){return fe.lFrame.contextLView=null,n}function Wn(){let n=TV();for(;null!==n&&64===n.type;)n=n.parent;return n}function TV(){return fe.lFrame.currentTNode}function gs(n,e){const t=fe.lFrame;t.currentTNode=n,t.isParent=e}function HE(){return fe.lFrame.isParent}function $E(){fe.lFrame.isParent=!1}function iu(){return fe.lFrame.bindingIndex++}function pne(n,e){const t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,zE(e)}function zE(n){fe.lFrame.currentDirectiveIndex=n}function GE(n){const e=fe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function MV(){return fe.lFrame.currentQueryIndex}function WE(n){fe.lFrame.currentQueryIndex=n}function gne(n){const e=n[G];return 2===e.type?e.declTNode:1===e.type?n[ci]:null}function kV(n,e,t){if(t&ce.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&ce.Host||(r=gne(s),null===r||(s=s[Zc],10&r.type))););if(null===r)return!1;e=r,n=s}const i=fe.lFrame=RV();return i.currentTNode=e,i.lView=n,!0}function qE(n){const e=RV(),t=n[G];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function RV(){const n=fe.lFrame,e=null===n?null:n.child;return null===e?NV(n):e}function NV(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function OV(){const n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const PV=OV;function KE(){const n=OV();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wi(){return fe.lFrame.selectedIndex}function yl(n){fe.lFrame.selectedIndex=n}function Ot(){const n=fe.lFrame;return vV(n.tView,n.selectedIndex)}function Ah(){fe.lFrame.currentNamespace=_V}function YE(){!function bne(){fe.lFrame.currentNamespace=null}()}let LV=!0;function Kg(){return LV}function ra(n){LV=n}function Yg(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Qg(n,e,t){VV(n,e,3,t)}function Xg(n,e,t,i){(3&n[Ce])===t&&VV(n,e,t,i)}function QE(n,e){let t=n[Ce];(3&t)===e&&(t&=4095,t+=1,n[Ce]=t)}function VV(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[Jc]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[Jc]+=65536),(a<s||-1==s)&&(Ene(n,t,e,l),n[Jc]=(4294901760&n[Jc])+l+2),l++}function BV(n,e){ms(4,n,e);const t=An(null);try{e.call(n)}finally{An(t),ms(5,n,e)}}function Ene(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];r?n[Ce]>>12<n[Jc]>>16&&(3&n[Ce])===e&&(n[Ce]+=4096,BV(a,s)):BV(a,s)}const ru=-1;class Mh{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function UV(n){return n!==ru}function Zg(n){return 32767&n}function Jg(n,e){let t=function Tne(n){return n>>16}(n),i=e;for(;t>0;)i=i[Zc],t--;return i}let ZE=!0;function e_(n){const e=ZE;return ZE=n,e}const jV=255,HV=5;let Sne=0;const _s={};function t_(n,e){const t=$V(n,e);if(-1!==t)return t;const i=e[G];i.firstCreatePass&&(n.injectorIndex=e.length,JE(i.data,n),JE(e,null),JE(i.blueprint,null));const r=eC(n,e),s=n.injectorIndex;if(UV(r)){const o=Zg(r),a=Jg(r,e),l=a[G].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function JE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function $V(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function eC(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=QV(r),null===i)return ru;if(t++,r=r[Zc],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return ru}function tC(n,e,t){!function xne(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Eh)&&(i=t[Eh]),null==i&&(i=t[Eh]=Sne++);const r=i&jV;e.data[n+(r>>HV)]|=1<<r}(n,e,t)}function zV(n,e,t){if(t&ce.Optional||void 0!==n)return n;kg()}function GV(n,e,t,i){if(t&ce.Optional&&void 0===i&&(i=null),!(t&(ce.Self|ce.Host))){const r=n[Xc],s=Oi(void 0);try{return r?r.get(e,i,t&ce.Optional):UL(e,i,t&ce.Optional)}finally{Oi(s)}}return zV(i,0,t)}function WV(n,e,t,i=ce.Default,r){if(null!==n){if(2048&e[Ce]&&!(i&ce.Self)){const o=function Nne(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[Ce]&&!(512&o[Ce]);){const a=qV(s,o,t,i|ce.Self,_s);if(a!==_s)return a;let l=s.parent;if(!l){const c=o[iV];if(c){const u=c.get(t,_s,i);if(u!==_s)return u}l=QV(o),o=o[Zc]}s=l}return r}(n,e,t,i,_s);if(o!==_s)return o}const s=qV(n,e,t,i,_s);if(s!==_s)return s}return GV(e,t,i,r)}function qV(n,e,t,i,r){const s=function kne(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Eh)?n[Eh]:void 0;return"number"==typeof e?e>=0?e&jV:Rne:e}(t);if("function"==typeof s){if(!kV(e,n,i))return i&ce.Host?zV(r,0,i):GV(e,t,i,r);try{const o=s(i);if(null!=o||i&ce.Optional)return o;kg()}finally{PV()}}else if("number"==typeof s){let o=null,a=$V(n,e),l=ru,c=i&ce.Host?e[sn][ci]:null;for((-1===a||i&ce.SkipSelf)&&(l=-1===a?eC(n,e):e[a+8],l!==ru&&YV(i,!1)?(o=e[G],a=Zg(l),e=Jg(l,e)):a=-1);-1!==a;){const u=e[G];if(KV(s,a,u.data)){const d=Mne(a,e,t,o,i,c);if(d!==_s)return d}l=e[a+8],l!==ru&&YV(i,e[G].data[a+8]===c)&&KV(s,a,e)?(o=u,a=Zg(l),e=Jg(l,e)):a=-1}}return r}function Mne(n,e,t,i,r,s){const o=e[G],a=o.data[n+8],u=n_(a,o,t,null==i?gl(a)&&ZE:i!=o&&0!=(3&a.type),r&ce.Host&&s===a);return null!==u?vl(e,o,u,a):_s}function n_(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&jr(f)&&f.type===t)return l}return null}function vl(n,e,t,i){let r=n[t];const s=e.data;if(function Cne(n){return n instanceof Mh}(r)){const o=r;o.resolving&&function nte(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new T(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ot(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():_e(n)}(s[t]));const a=e_(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Oi(o.injectImpl):null;kV(n,i,ce.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function wne(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=pV(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==l&&Oi(l),e_(a),o.resolving=!1,PV()}}return r}function KV(n,e,t){return!!(t[e+(n>>HV)]&1<<n)}function YV(n,e){return!(n&ce.Self||n&ce.Host&&e)}class su{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return WV(this._tNode,this._lView,e,Pg(i),t)}}function Rne(){return new su(Wn(),x())}function on(n){return oo(()=>{const e=n.prototype.constructor,t=e[lo]||nC(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[lo]||nC(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function nC(n){return DE(n)?()=>{const e=nC(pe(n));return e&&e()}:_l(n)}function QV(n){const e=n[G],t=e.type;return 2===t?e.declTNode:1===t?n[ci]:null}function bl(n){return function Ane(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(WL(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(Wn(),n)}const au="__parameters__";function cu(n,e,t){return oo(()=>{const i=function iC(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(au)?l[au]:Object.defineProperty(l,au,{value:[]})[au];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Nh(n,e){n.forEach(t=>Array.isArray(t)?Nh(t,e):e(t))}function ZV(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function i_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Oh(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function nr(n,e,t){let i=uu(n,e);return i>=0?n[1|i]=t:(i=~i,function Vne(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function rC(n,e){const t=uu(n,e);if(t>=0)return n[1|t]}function uu(n,e){return function JV(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const oC=wh(cu("Inject",n=>({token:n})),-1),Ae=wh(cu("Optional"),8),wl=wh(cu("SkipSelf"),4);function l_(n){return 128==(128&n.flags)}var ji=(()=>((ji=ji||{})[ji.Important=1]="Important",ji[ji.DashCase=2]="DashCase",ji))();const rie=/^>|^->|<!--|-->|--!>|<!-$/g,sie=/(<|>)/,oie="\u200b$1\u200b";const dC=new Map;let aie=0;const fC="__ngContext__";function ui(n,e){tr(e)?(n[fC]=e[Th],function cie(n){dC.set(n[Th],n)}(e)):n[fC]=e}let pC;function mC(n,e){return pC(n,e)}function Lh(n){const e=n[Nt];return Vi(e)?e[Nt]:e}function gC(n){return v2(n[Ih])}function _C(n){return v2(n[Ur])}function v2(n){for(;null!==n&&!Vi(n);)n=n[Ur];return n}function fu(n,e,t,i,r){if(null!=i){let s,o=!1;Vi(i)?s=i:tr(i)&&(o=!0,i=i[wn]);const a=It(i);0===n&&null!==t?null==r?I2(e,t,a):El(e,t,a,r||null,!0):1===n&&null!==t?El(e,t,a,r||null,!0):2===n?function p_(n,e,t){const i=h_(n,e);i&&function xie(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function kie(n,e,t,i,r){const s=t[fs];s!==It(t)&&fu(e,n,i,s,r);for(let a=$n;a<t.length;a++){const l=t[a];Bh(l[G],l,n,e,i,s)}}(e,n,s,t,r)}}function yC(n,e){return n.createComment(function d2(n){return n.replace(rie,e=>e.replace(sie,oie))}(e))}function d_(n,e,t){return n.createElement(e,t)}function w2(n,e){const t=n[eu],i=t.indexOf(e);wV(e),t.splice(i,1)}function vC(n,e){if(n.length<=$n)return;const t=$n+e,i=n[t];if(i){const r=i[Dh];null!==r&&r!==n&&w2(r,i),e>0&&(n[t-1][Ur]=i[Ur]);const s=i_(n,$n+e);!function bie(n,e){Bh(n,e,e[be],2,null,null),e[wn]=null,e[ci]=null}(i[G],i);const o=s[hs];null!==o&&o.detachView(s[G]),i[Nt]=null,i[Ur]=null,i[Ce]&=-129}return i}function E2(n,e){if(!(256&e[Ce])){const t=e[be];e[Vg]?.destroy(),e[Bg]?.destroy(),t.destroyNode&&Bh(n,e,t,3,null,null),function Cie(n){let e=n[Ih];if(!e)return bC(n[G],n);for(;e;){let t=null;if(tr(e))t=e[Ih];else{const i=e[$n];i&&(t=i)}if(!t){for(;e&&!e[Ur]&&e!==n;)tr(e)&&bC(e[G],e),e=e[Nt];null===e&&(e=n),tr(e)&&bC(e[G],e),t=e&&e[Ur]}e=t}}(e)}}function bC(n,e){if(!(256&e[Ce])){e[Ce]&=-129,e[Ce]|=256,function Sie(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Mh)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];ms(4,a,l);try{l.call(a)}finally{ms(5,a,l)}}else{ms(4,r,s);try{s.call(r)}finally{ms(5,r,s)}}}}}(n,e),function Tie(n,e){const t=n.cleanup,i=e[Qc];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(e[Qc]=null);const r=e[na];if(null!==r){e[na]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,e),1===e[G].type&&e[be].destroy();const t=e[Dh];if(null!==t&&Vi(e[Nt])){t!==e[Nt]&&w2(t,e);const i=e[hs];null!==i&&i.detachView(n)}!function uie(n){dC.delete(n[Th])}(e)}}function wC(n,e,t){return function C2(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[wn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Pi.None||s===Pi.Emulated)return null}return Bi(i,t)}}(n,e.parent,t)}function El(n,e,t,i,r){n.insertBefore(e,t,i,r)}function I2(n,e,t){n.appendChild(e,t)}function D2(n,e,t,i,r){null!==i?El(n,e,t,i,r):I2(n,e,t)}function h_(n,e){return n.parentNode(e)}function T2(n,e,t){return x2(n,e,t)}let EC,TC,x2=function S2(n,e,t){return 40&n.type?Bi(n,t):null};function f_(n,e,t,i){const r=wC(n,i,e),s=e[be],a=T2(i.parent||e[ci],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)D2(s,r,t[l],a,!1);else D2(s,r,t,a,!1);void 0!==EC&&EC(s,i,e,t,r)}function Vh(n,e){if(null!==e){const t=e.type;if(3&t)return Bi(e,n);if(4&t)return CC(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Vh(n,i);{const r=n[e.index];return Vi(r)?CC(-1,r):It(r)}}if(32&t)return mC(e,n)()||It(n[e.index]);{const i=M2(n,e);return null!==i?Array.isArray(i)?i[0]:Vh(Lh(n[sn]),i):Vh(n,e.next)}}return null}function M2(n,e){return null!==e?n[sn][ci].projection[e.projection]:null}function CC(n,e){const t=$n+n+1;if(t<e.length){const i=e[t],r=i[G].firstChild;if(null!==r)return Vh(i,r)}return e[fs]}function IC(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&ui(It(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)IC(n,e,t.child,i,r,s,!1),fu(e,n,r,a,s);else if(32&l){const c=mC(t,i);let u;for(;u=c();)fu(e,n,r,u,s);fu(e,n,r,a,s)}else 16&l?R2(n,e,i,t,r,s):fu(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Bh(n,e,t,i,r,s){IC(t,i,n.firstChild,e,r,s,!1)}function R2(n,e,t,i,r,s){const o=t[sn],l=o[ci].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)fu(e,n,r,l[c],s);else{let c=l;const u=o[Nt];l_(i)&&(c.flags|=128),IC(n,e,c,u,r,s,!0)}}function N2(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function O2(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&NE(n,e,i),null!==r&&N2(n,e,r),null!==s&&function Nie(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}class Cl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class E{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=k({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Il=new E("ENVIRONMENT_INITIALIZER"),K2=new E("INJECTOR",-1),Y2=new E("INJECTOR_DEF_TYPES");class Q2{get(e,t=bh){if(t===bh){const i=new Error(`NullInjectorError: No provider for ${bn(e)}!`);throw i.name="NullInjectorError",i}return t}}function ure(...n){return{\u0275providers:Z2(0,n),\u0275fromNgModule:!0}}function Z2(n,...e){const t=[],i=new Set;let r;return Nh(e,s=>{const o=s;kC(o,t,[],i)&&(r||=[],r.push(o))}),void 0!==r&&J2(r,t),t}function J2(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];RC(r,s=>{e.push(s)})}}function kC(n,e,t,i){if(!(n=pe(n)))return!1;let r=null,s=LL(n);const o=!s&&tt(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=LL(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)kC(c,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{Nh(s.imports,u=>{kC(u,e,t,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&J2(c,e)}if(!a){const c=_l(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:Ze},{provide:Y2,useValue:r,multi:!0},{provide:Il,useValue:()=>b(r),multi:!0})}const l=s.providers;null==l||a||RC(l,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}function RC(n,e){for(let t of n)TE(t)&&(t=t.\u0275providers),Array.isArray(t)?RC(t,e):e(t)}const dre=dt({provide:String,useValue:dt});function NC(n){return null!==n&&"object"==typeof n&&dre in n}function Dl(n){return"function"==typeof n}const OC=new E("Set Injector scope."),v_={},fre={};let PC;function b_(){return void 0===PC&&(PC=new Q2),PC}class sa{}class FC extends sa{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,VC(e,o=>this.processProvider(o)),this.records.set(K2,mu(void 0,this)),r.has("environment")&&this.records.set(sa,mu(void 0,this));const s=this.records.get(OC);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Y2.multi,Ze,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ta(this),i=Oi(void 0);try{return e()}finally{ta(t),Oi(i)}}get(e,t=bh,i=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(zL))return e[zL](this);i=Pg(i);const r=ta(this),s=Oi(void 0);try{if(!(i&ce.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function yre(n){return"function"==typeof n||"object"==typeof n&&n instanceof E}(e)&&Rg(e);a=l&&this.injectableDefInScope(l)?mu(LC(e),v_):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&ce.Self?b_():this.parent).get(e,t=i&ce.Optional&&t===bh?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Og]=o[Og]||[]).unshift(bn(e)),r)throw o;return function gte(n,e,t,i){const r=n[Og];throw e[jL]&&r.unshift(e[jL]),n.message=function _te(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=bn(e);if(Array.isArray(e))r=e.map(bn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):bn(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(dte,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Og]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Oi(s),ta(r)}}resolveInjectorInitializers(){const e=ta(this),t=Oi(void 0);try{const i=this.get(Il.multi,Ze,ce.Self);for(const r of i)r()}finally{ta(e),Oi(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(bn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let t=Dl(e=pe(e))?e:pe(e&&e.provide);const i=function mre(n){return NC(n)?mu(void 0,n.useValue):mu(nB(n),v_)}(e);if(Dl(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=mu(void 0,v_,!0),r.factory=()=>ME(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===v_&&(t.value=fre,t.value=t.factory()),"object"==typeof t.value&&t.value&&function _re(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=pe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function LC(n){const e=Rg(n),t=null!==e?e.factory:_l(n);if(null!==t)return t;if(n instanceof E)throw new T(204,!1);if(n instanceof Function)return function pre(n){const e=n.length;if(e>0)throw Oh(e,"?"),new T(204,!1);const t=function lte(n){return n&&(n[Ng]||n[VL])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new T(204,!1)}function nB(n,e,t){let i;if(Dl(n)){const r=pe(n);return _l(r)||LC(r)}if(NC(n))i=()=>pe(n.useValue);else if(function tB(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...ME(n.deps||[]));else if(function eB(n){return!(!n||!n.useExisting)}(n))i=()=>b(pe(n.useExisting));else{const r=pe(n&&(n.useClass||n.provide));if(!function gre(n){return!!n.deps}(n))return _l(r)||LC(r);i=()=>new r(...ME(n.deps))}return i}function mu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function VC(n,e){for(const t of n)Array.isArray(t)?VC(t,e):t&&TE(t)?VC(t.\u0275providers,e):e(t)}const w_=new E("AppId",{providedIn:"root",factory:()=>vre}),vre="ng",iB=new E("Platform Initializer"),Hr=new E("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$r=new E("AnimationModuleType"),BC=new E("CSP nonce",{providedIn:"root",factory:()=>function Uh(){if(void 0!==TC)return TC;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let sB=(n,e)=>null;function oB(n,e){return sB(n,e)}class xre{}class cB{}class Mre{resolveComponentFactory(e){throw function Are(n){const e=Error(`No component factory found for ${bn(n)}.`);return e.ngComponent=n,e}(e)}}let Tl=(()=>{class n{}return n.NULL=new Mre,n})();function kre(){return gu(Wn(),x())}function gu(n,e){return new we(Bi(n,e))}let we=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=kre,n})();function Rre(n){return n instanceof we?n.nativeElement:n}class Wh{}let po=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Nre(){const n=x(),t=Ui(Wn().index,n);return(tr(t)?t:n)[be]}(),n})(),Ore=(()=>{class n{}return n.\u0275prov=k({token:n,providedIn:"root",factory:()=>null}),n})();class oa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const dB=new oa("16.0.4"),QC={};function qh(n){for(;n;){n[Ce]|=64;const e=Lh(n);if(FE(n)&&!e)return n;n=e}return null}function XC(n){return n.ngOriginalError}class vs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&XC(e);for(;t&&XC(t);)t=XC(t);return t||null}}const pB=new E("",{providedIn:"root",factory:()=>!1});function mo(n){return n instanceof Function?n():n}class vB extends $g{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){qh(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,t,i){const r=An(this);this.trackingVersion++;try{e(t,i)}finally{An(r)}}destroy(){this.trackingVersion++}}let S_=null;function bB(){return S_??=new vB,S_}function wB(n,e){return n[e]??bB()}function EB(n,e){const t=bB();t.hasReadASignal&&(n[e]=S_,t.lView=n,S_=new vB)}const Ee={};function L(n){CB(ze(),x(),wi()+n,!1)}function CB(n,e,t,i){if(!i)if(3==(3&e[Ce])){const s=n.preOrderCheckHooks;null!==s&&Qg(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Xg(e,s,0,t)}yl(t)}function xB(n,e=null,t=null,i){const r=AB(n,e,t,i);return r.resolveInjectorInitializers(),r}function AB(n,e=null,t=null,i,r=new Set){const s=[t||Ze,ure(n)];return i=i||("object"==typeof n?void 0:bn(n)),new FC(s,e||b_(),i||null,r)}let it=(()=>{class n{static create(t,i){if(Array.isArray(t))return xB({name:""},i,t,"");{const r=t.name??"";return xB({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=bh,n.NULL=new Q2,n.\u0275prov=k({token:n,providedIn:"any",factory:()=>b(K2)}),n.__NG_ELEMENT_ID__=-1,n})();function _(n,e=ce.Default){const t=x();return null===t?b(n,e):WV(Wn(),t,pe(n),e)}function x_(){throw new Error("invalid")}function A_(n,e,t,i,r,s,o,a,l,c,u){const d=e.blueprint.slice();return d[wn]=r,d[Ce]=140|i,(null!==c||n&&2048&n[Ce])&&(d[Ce]|=2048),bV(d),d[Nt]=d[Zc]=n,d[Ht]=t,d[ml]=o||n&&n[ml],d[be]=a||n&&n[be],d[Xc]=l||n&&n[Xc]||null,d[ci]=s,d[Th]=function lie(){return aie++}(),d[co]=u,d[iV]=c,d[sn]=2==e.type?n[sn]:d,d}function yu(n,e,t,i,r){let s=n.data[e];if(null===s)s=function ZC(n,e,t,i,r){const s=TV(),o=HE(),l=n.data[e]=function ese(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return nu()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,i,r),function fne(){return fe.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function xh(){const n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return gs(s,!0),s}function Kh(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function MB(n,e,t,i,r){const s=wB(e,Vg),o=wi(),a=2&i;try{if(yl(-1),a&&e.length>je&&CB(n,e,je,!1),ms(a?2:0,r),a)s.runInContext(t,i,r);else{const c=An(null);try{t(i,r)}finally{An(c)}}}finally{a&&null===e[Vg]&&EB(e,Vg),yl(o),ms(a?3:1,r)}}function JC(n,e,t){if(PE(e)){const i=An(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{An(i)}}}function eI(n,e,t){DV()&&(function ase(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;gl(t)&&function pse(n,e,t){const i=Bi(e,n),o=M_(n,A_(n,kB(t),null,t.onPush?64:16,i,e,null,n[ml].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=o}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||t_(t,e),ui(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=vl(e,n,a,t);ui(c,e),null!==o&&mse(0,a-r,c,l,0,o),jr(l)&&(Ui(t.index,e)[Ht]=vl(e,n,a,t))}}(n,e,t,Bi(t,e)),64==(64&t.flags)&&FB(n,e,t))}function tI(n,e,t=Bi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function kB(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=nI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function nI(n,e,t,i,r,s,o,a,l,c,u){const d=je+i,h=d+r,f=function Kre(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ee);return t}(d,h),p="function"==typeof c?c():c;return f[G]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let RB=n=>null;function NB(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?OB(t,e,r,s):i.hasOwnProperty(r)&&OB(t,e,i[r],s)}return t}function OB(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function rr(n,e,t,i,r,s,o,a){const l=Bi(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(aI(n,t,u,i,r),gl(e)&&function ise(n,e){const t=Ui(e,n);16&t[Ce]||(t[Ce]|=64)}(t,e.index)):3&e.type&&(i=function nse(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(l,i,r))}function iI(n,e,t,i){if(DV()){const r=null===i?null:{"":-1},s=function cse(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(XL(e,o.selectors,!1))if(i||(i=[]),jr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),rI(n,e,a.length)}else i.unshift(o),rI(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&PB(n,e,t,o,r,a),r&&function use(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new T(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=Ch(t.mergedAttrs,t.attrs)}function PB(n,e,t,i,r,s){for(let c=0;c<i.length;c++)tC(t_(t,e),n,i[c].type);!function hse(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Kh(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=Ch(t.mergedAttrs,u.hostAttrs),fse(n,t,e,l,u),dse(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function tse(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=NB(d.inputs,u,l,h?h.inputs:null),c=NB(d.outputs,u,c,p);const m=null===l||null===o||QL(e)?null:gse(l,u,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function FB(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function mne(){return fe.lFrame.currentDirectiveIndex}();try{yl(s);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];zE(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&lse(l,c)}}finally{yl(-1),zE(o)}}function lse(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function rI(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function dse(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;jr(e)&&(t[""]=n)}}function fse(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=_l(r.type)),o=new Mh(s,jr(r),_);n.blueprint[i]=o,t[i]=o,function sse(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function ose(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(n,e,i,Kh(n,t,r.hostVars,Ee),r)}function bs(n,e,t,i,r,s){const o=Bi(n,e);!function sI(n,e,t,i,r,s,o){if(null==s)n.removeAttribute(e,r,t);else{const a=null==o?_e(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}(e[be],o,s,n.value,t,i,r)}function mse(n,e,t,i,r,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)LB(i,t,o[a++],o[a++],o[a++])}function LB(n,e,t,i,r){const s=An(null);try{null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{An(s)}}function gse(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function VB(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function BB(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const o=n.data[s];WE(t[i]),o.contentQueries(2,e[s],s)}}}function M_(n,e){return n[Ih]?n[nV][Ur]=e:n[Ih]=e,n[nV]=e,e}function oI(n,e,t){WE(0);const i=An(null);try{e(n,t)}finally{An(i)}}function UB(n){return n[Qc]||(n[Qc]=[])}function jB(n){return n.cleanup||(n.cleanup=[])}function HB(n,e,t){return(null===n||jr(n))&&(t=function Zte(n){for(;Array.isArray(n);){if("object"==typeof n[OE])return n;n=n[wn]}return null}(t[e.index])),t[be]}function $B(n,e){const t=n[Xc],i=t?t.get(vs,null):null;i&&i.handleError(e)}function aI(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];LB(n.data[o],e[o],i,a,r)}}function _se(n,e){const t=Ui(e,n),i=t[G];!function yse(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[wn];null!==r&&null===t[co]&&(t[co]=oB(r,t[Xc])),lI(i,t,t[Ht])}function lI(n,e,t){qE(e);try{const i=n.viewQuery;null!==i&&oI(1,i,t);const r=n.template;null!==r&&MB(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&BB(n,e),n.staticViewQueries&&oI(2,n.viewQuery,t);const s=n.components;null!==s&&function vse(n,e){for(let t=0;t<e.length;t++)_se(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ce]&=-5,KE()}}let k_=(()=>{class n{}return n.__NG_ELEMENT_ID__=wse,n.__NG_ENV_ID__=e=>e,n})();class bse extends k_{constructor(e){super(),this._lView=e}onDestroy(e){return CV(this._lView,e),()=>function ine(n,e){if(null===n[na])return;const t=n[na].indexOf(e);-1!==t&&n[na].splice(t,1)}(this._lView,e)}}function wse(){return new bse(x())}let zB=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const s=typeof Zone>"u"?null:Zone.current,o=new Wte(t,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=k({token:n,providedIn:"root",factory:()=>new n}),n})();function R_(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=IE(r,a):2==s&&(i=IE(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Yh(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(It(s)),Vi(s)){for(let a=$n;a<s.length;a++){const l=s[a],c=l[G].firstChild;null!==c&&Yh(l[G],l,c,i)}s[fs]!==s[wn]&&i.push(s[fs])}const o=t.type;if(8&o)Yh(n,e,t.child,i);else if(32&o){const a=mC(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=M2(e,t);if(Array.isArray(a))i.push(...a);else{const l=Lh(e[sn]);Yh(l[G],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function N_(n,e,t,i=!0){const r=e[ml].rendererFactory;r.begin&&r.begin();try{O_(n,e,n.template,t)}catch(o){throw i&&$B(e,o),o}finally{r.end&&r.end(),e[ml].effectManager?.flush()}}function O_(n,e,t,i){const r=e[Ce];if(256!=(256&r)){e[ml].effectManager?.flush(),qE(e);try{bV(e),function xV(n){return fe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&MB(n,e,t,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&Qg(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Xg(e,c,0,null),QE(e,0)}if(function Dse(n){for(let e=gC(n);null!==e;e=_C(e)){if(!e[rV])continue;const t=e[eu];for(let i=0;i<t.length;i++){nne(t[i])}}}(e),function Ise(n){for(let e=gC(n);null!==e;e=_C(e))for(let t=$n;t<e.length;t++){const i=e[t],r=i[G];qg(i)&&O_(r,i,r.template,i[Ht])}}(e),null!==n.contentQueries&&BB(n,e),o){const c=n.contentCheckHooks;null!==c&&Qg(e,c)}else{const c=n.contentHooks;null!==c&&Xg(e,c,1),QE(e,1)}!function qre(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=wB(e,Bg);try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)yl(~s);else{const o=s,a=t[++r],l=t[++r];pne(a,o),i.runInContext(l,2,e[o])}}}finally{null===e[Bg]&&EB(e,Bg),yl(-1)}}(n,e);const a=n.components;null!==a&&function Sse(n,e){for(let t=0;t<e.length;t++)Tse(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&oI(2,l,i),o){const c=n.viewCheckHooks;null!==c&&Qg(e,c)}else{const c=n.viewHooks;null!==c&&Xg(e,c,2),QE(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ce]&=-73,wV(e)}finally{KE()}}}function Tse(n,e){const t=Ui(e,n);if(qg(t)){const i=t[G];80&t[Ce]?O_(i,t,i.template,t[Ht]):t[pl]>0&&cI(t)}}function cI(n){for(let i=gC(n);null!==i;i=_C(i))for(let r=$n;r<i.length;r++){const s=i[r];if(qg(s))if(1024&s[Ce]){const o=s[G];O_(o,s,o.template,s[Ht])}else s[pl]>0&&cI(s)}const t=n[G].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Ui(t[i],n);qg(r)&&r[pl]>0&&cI(r)}}class Qh{get rootNodes(){const e=this._lView,t=e[G];return Yh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ht]}set context(e){this._lView[Ht]=e}get destroyed(){return 256==(256&this._lView[Ce])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Nt];if(Vi(e)){const t=e[Ug],i=t?t.indexOf(this):-1;i>-1&&(vC(e,i),i_(t,i))}this._attachedToViewContainer=!1}E2(this._lView[G],this._lView)}onDestroy(e){CV(this._lView,e)}markForCheck(){qh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ce]&=-129}reattach(){this._lView[Ce]|=128}detectChanges(){N_(this._lView[G],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Eie(n,e){Bh(n,e,e[be],2,null,null)}(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class xse extends Qh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;N_(e[G],e,e[Ht],!1)}checkNoChanges(){}get context(){return null}}class GB extends Tl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=tt(e);return new Xh(t,this.ngModule)}}function WB(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Mse{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Pg(i);const r=this.injector.get(e,QC,i);return r!==QC||t===QC?r:this.parentInjector.get(e,t,i)}}class Xh extends cB{get inputs(){return WB(this.componentDef.inputs)}get outputs(){return WB(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Ste(n){return n.map(Tte).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof sa?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Mse(e,s):e,a=o.get(Wh,null);if(null===a)throw new T(407,!1);const u={rendererFactory:a,sanitizer:o.get(Ore,null),effectManager:o.get(zB,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=i?function Yre(n,e,t,i){const s=i.get(pB,!1)||t===Pi.ShadowDom,o=n.selectRootElement(e,s);return function Qre(n){RB(n)}(o),o}(d,i,this.componentDef.encapsulation,o):d_(d,h,function Ase(n){const e=n.toLowerCase();return"svg"===e?_V:"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=nI(0,null,null,1,0,null,null,null,null,null,null),g=A_(null,m,null,p,null,null,u,d,o,null,null);let w,v;qE(g);try{const D=this.componentDef;let S,H=null;D.findHostDirectiveDefs?(S=[],H=new Map,D.findHostDirectiveDefs(D,S,H),S.push(D)):S=[D];const ee=function Rse(n,e){const t=n[G],i=je;return n[i]=e,yu(t,i,2,"#host",null)}(g,f),ke=function Nse(n,e,t,i,r,s,o){const a=r[G];!function Ose(n,e,t,i){for(const r of n)e.mergedAttrs=Ch(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(R_(e,e.mergedAttrs,!0),null!==t&&O2(i,t,e))}(i,n,e,o);let l=null;null!==e&&(l=oB(e,r[Xc]));const c=s.rendererFactory.createRenderer(e,t),u=A_(r,kB(t),null,t.onPush?64:16,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&rI(a,n,i.length-1),M_(r,u),r[n.index]=u}(ee,f,D,S,g,u,d);v=vV(m,je),f&&function Fse(n,e,t,i){if(i)NE(n,t,["ng-version",dB.full]);else{const{attrs:r,classes:s}=function xte(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Br(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&NE(n,t,r),s&&s.length>0&&N2(n,t,s.join(" "))}}(d,D,f,i),void 0!==t&&function Lse(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(v,this.ngContentSelectors,t),w=function Pse(n,e,t,i,r,s){const o=Wn(),a=r[G],l=Bi(o,r);PB(a,r,o,t,null,i);for(let u=0;u<t.length;u++)ui(vl(r,a,o.directiveStart+u,o),r);FB(a,r,o),l&&ui(l,r);const c=vl(r,a,o.directiveStart+o.componentOffset,o);if(n[Ht]=r[Ht]=c,null!==s)for(const u of s)u(c,e);return JC(a,o,n),c}(ke,D,S,H,g,[Vse]),lI(m,g,null)}finally{KE()}return new kse(this.componentType,w,gu(v,g),g,v)}}class kse extends xre{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new xse(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;aI(s[G],s,r,e,t),this.previousInputValues.set(e,t),qh(Ui(this._tNode.index,s))}}get injector(){return new su(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Vse(){const n=Wn();Yg(x()[G],n)}function me(n){let e=function qB(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(jr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=uI(n.inputs),o.declaredInputs=uI(n.declaredInputs),o.outputs=uI(n.outputs);const a=r.hostBindings;a&&Hse(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&Use(n,l),c&&jse(n,c),CE(n.inputs,r.inputs),CE(n.declaredInputs,r.declaredInputs),CE(n.outputs,r.outputs),jr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===me&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Bse(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ch(r.hostAttrs,t=Ch(t,r.hostAttrs))}}(i)}function uI(n){return n===ao?{}:n===Ze?[]:n}function Use(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function jse(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function Hse(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function P_(n){return!!dI(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function dI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function di(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Pe(n,e,t,i){const r=x();return di(r,iu(),e)&&(ze(),bs(Ot(),r,n,e,t,i)),Pe}function Ie(n,e,t,i,r,s,o,a){const l=x(),c=ze(),u=n+je,d=c.firstCreatePass?function foe(n,e,t,i,r,s,o,a,l){const c=e.consts,u=yu(e,n,4,o||null,ia(c,a));iI(e,t,u,ia(c,l)),Yg(e,u);const d=u.tView=nI(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];gs(d,!1);const h=cU(c,l,d,n);Kg()&&f_(c,l,h,d),ui(h,l),M_(l,l[u]=VB(h,l,h,d)),jg(d)&&eI(c,l,d),null!=o&&tI(l,d,a)}let cU=function uU(n,e,t,i){return ra(!0),e[be].createComment("")};function xu(n){return function tu(n,e){return n[e]}(function hne(){return fe.lFrame.contextLView}(),je+n)}function z(n,e,t){const i=x();return di(i,iu(),e)&&rr(ze(),Ot(),i,n,e,i[be],t,!1),z}function _I(n,e,t,i,r){const o=r?"class":"style";aI(n,t,e.inputs[o],o,i)}function O(n,e,t,i){const r=x(),s=ze(),o=je+n,a=r[be],l=s.firstCreatePass?function _oe(n,e,t,i,r,s){const o=e.consts,l=yu(e,n,2,i,ia(o,r));return iI(e,t,l,ia(o,s)),null!==l.attrs&&R_(l,l.attrs,!1),null!==l.mergedAttrs&&R_(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,e,t,i):s.data[o],c=dU(s,r,l,a,e,n);r[o]=c;const u=jg(l);return gs(l,!0),O2(a,c,l),32!=(32&l.flags)&&Kg()&&f_(s,r,c,l),0===function rne(){return fe.lFrame.elementDepthCount}()&&ui(c,r),function sne(){fe.lFrame.elementDepthCount++}(),u&&(eI(s,r,l),JC(s,l,r)),null!==i&&tI(r,l),O}function P(){let n=Wn();HE()?$E():(n=n.parent,gs(n,!1));const e=n;(function ane(n){return fe.skipHydrationRootTNode===n})(e)&&function dne(){fe.skipHydrationRootTNode=null}(),function one(){fe.lFrame.elementDepthCount--}();const t=ze();return t.firstCreatePass&&(Yg(t,n),PE(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Ine(n){return 0!=(8&n.flags)}(e)&&_I(t,e,x(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Dne(n){return 0!=(16&n.flags)}(e)&&_I(t,e,x(),e.stylesWithoutHost,!1),P}function Je(n,e,t,i){return O(n,e,t,i),P(),Je}let dU=(n,e,t,i,r,s)=>(ra(!0),d_(i,r,function FV(){return fe.lFrame.currentNamespace}()));function yI(n,e,t){const i=x(),r=ze(),s=n+je,o=r.firstCreatePass?function boe(n,e,t,i,r){const s=e.consts,o=ia(s,i),a=yu(e,n,8,"ng-container",o);return null!==o&&R_(a,o,!0),iI(e,t,a,ia(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,t):r.data[s];gs(o,!0);const a=hU(r,i,o,n);return i[s]=a,Kg()&&f_(r,i,a,o),ui(a,i),jg(o)&&(eI(r,i,o),JC(r,o,i)),null!=t&&tI(i,o),yI}function vI(){let n=Wn();const e=ze();return HE()?$E():(n=n.parent,gs(n,!1)),e.firstCreatePass&&(Yg(e,n),PE(n)&&e.queries.elementEnd(n)),vI}function nf(n,e,t){return yI(n,e,t),vI(),nf}let hU=(n,e,t,i)=>(ra(!0),yC(e[be],""));function _o(){return x()}function rf(n){return!!n&&"function"==typeof n.then}function fU(n){return!!n&&"function"==typeof n.subscribe}function Me(n,e,t,i){const r=x(),s=ze(),o=Wn();return pU(s,r,r[be],o,n,e,i),Me}function U_(n,e){const t=Wn(),i=x(),r=ze();return pU(r,i,HB(GE(r.data),t,i),t,n,e),U_}function pU(n,e,t,i,r,s,o){const a=jg(i),c=n.firstCreatePass&&jB(n),u=e[Ht],d=UB(e);let h=!0;if(3&i.type||o){const m=Bi(i,e),g=o?o(m):m,w=d.length,v=o?S=>o(It(S[i.index])):i.index;let D=null;if(!o&&a&&(D=function Coe(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[Qc],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=s,D.__ngLastListenerFn__=s,h=!1;else{s=gU(i,e,u,s,!1);const S=t.listen(g,r,s);d.push(s,S),c&&c.push(r,v,w,w+1)}}else s=gU(i,e,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const H=e[p[g]][p[g+1]].subscribe(s),ee=d.length;d.push(s,H),c&&c.push(r,i.index,ee,-(ee+1))}}}function mU(n,e,t,i){try{return ms(6,e,t),!1!==t(i)}catch(r){return $B(n,r),!1}finally{ms(7,e,t)}}function gU(n,e,t,i,r){return function s(o){if(o===Function)return i;qh(n.componentOffset>-1?Ui(n.index,e):e);let l=mU(e,t,i,o),c=s.__ngNextListenerFn__;for(;c;)l=mU(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function Ve(n=1){return function _ne(n){return(fe.lFrame.contextLView=function yne(n,e){for(;n>0;)e=e[Zc],n--;return e}(n,fe.lFrame.contextLView))[Ht]}(n)}function Ioe(n,e){let t=null;const i=function Ete(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?XL(n,s,!0):Dte(i,s))return r}else t=r}return t}function Tr(n){const e=x()[sn][ci];if(!e.projection){const i=e.projection=Oh(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?Ioe(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function gt(n,e=0,t){const i=x(),r=ze(),s=yu(r,je+n,16,null,t||null);null===s.projection&&(s.projection=e),$E(),(!i[co]||nu())&&32!=(32&s.flags)&&function Mie(n,e,t){R2(e[be],0,e,t,wC(n,t,e),T2(t.parent||e[ci],t,e))}(r,i,s)}function j_(n,e){return n<<17|e<<2}function aa(n){return n>>17&32767}function wI(n){return 2|n}function xl(n){return(131068&n)>>2}function EI(n,e){return-131069&n|e<<2}function CI(n){return 1|n}function TU(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?aa(s):xl(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];Moe(n[a],e)&&(l=!0,n[a+1]=i?CI(u):wI(u)),a=i?aa(u):xl(u)}l&&(n[t+1]=i?wI(s):CI(s))}function Moe(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&uu(n,e)>=0}function yo(n,e,t){return zr(n,e,t,!1),yo}function ct(n,e){return zr(n,e,null,!0),ct}function zr(n,e,t,i){const r=x(),s=ze(),o=function ho(n){const e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function OU(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[wi()],o=function NU(n,e){return e>=n.expandoStartIndex}(n,t);(function VU(n,e){return 0!=(n.flags&(e?8:16))})(s,i)&&null===e&&!o&&(e=!1),e=function Boe(n,e,t,i){const r=GE(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=sf(t=II(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=II(r,n,e,t,i),null===s){let l=function Uoe(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==xl(i))return n[aa(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=II(null,n,e,l[1],i),l=sf(l,e.attrs,i),function joe(n,e,t,i){n[aa(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function Hoe(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=sf(i,n[s].hostAttrs,t);return sf(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function xoe(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=aa(o),l=xl(o);n[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||uu(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const h=aa(n[a+1]);n[i+1]=j_(h,a),0!==h&&(n[h+1]=EI(n[h+1],i)),n[a+1]=function Toe(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=j_(a,0),0!==a&&(n[a+1]=EI(n[a+1],i)),a=i;else n[i+1]=j_(l,0),0===a?a=i:n[l+1]=EI(n[l+1],i),l=i;c&&(n[i+1]=wI(n[i+1])),TU(n,u,i,!0),TU(n,u,i,!1),function Aoe(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&uu(s,e)>=0&&(t[i+1]=CI(t[i+1]))}(e,u,n,i,s),o=j_(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}(s,n,o,i),e!==Ee&&di(r,o,e)&&function FU(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function Soe(n){return 1==(1&n)}(c)?LU(l,e,t,r,xl(c),o):void 0;H_(u)||(H_(s)||function Doe(n){return 2==(2&n)}(c)&&(s=LU(l,null,t,r,a,o)),function Rie(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:ji.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ji.Important),n.setStyle(t,i,r,s))}}(i,o,Wg(wi(),t),r,s))}(s,s.data[wi()],r,r[be],n,r[o+1]=function Woe(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=bn(function ir(n){return n instanceof Cl?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),i,o)}function II(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=sf(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function sf(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),nr(n,o,!!t||e[++s]))}return void 0===n?null:n}function LU(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===Ee&&(h=d?Ze:void 0);let f=d?rC(h,i):u===i?h:void 0;if(c&&!H_(f)&&(f=rC(l,i)),H_(f)&&(a=f,o))return a;const p=n[r+1];r=o?aa(p):xl(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=rC(l,i))}return a}function H_(n){return void 0!==n}function Fe(n,e=""){const t=x(),i=ze(),r=n+je,s=i.firstCreatePass?yu(i,r,1,e,null):i.data[r],o=BU(i,t,s,e,n);t[r]=o,Kg()&&f_(i,t,o,s),gs(s,!1)}let BU=(n,e,t,i,r)=>(ra(!0),function u_(n,e){return n.createText(e)}(e[be],i));function Is(n){return Wr("",n,""),Is}function Wr(n,e,t){const i=x(),r=function bu(n,e,t,i){return di(n,iu(),t)?e+_e(t)+i:Ee}(i,n,e,t);return r!==Ee&&function go(n,e,t){const i=Wg(e,n);!function b2(n,e,t){n.setValue(e,t)}(n[be],i,t)}(i,wi(),r),Wr}function la(n,e,t){const i=x();return di(i,iu(),e)&&rr(ze(),Ot(),i,n,e,i[be],t,!0),la}function $_(n,e,t){const i=x();if(di(i,iu(),e)){const s=ze(),o=Ot();rr(s,o,i,n,e,HB(GE(s.data),o,i),t,!0)}return $_}const ku="en-US";let sj=ku;function SI(n,e,t,i,r){if(n=pe(n),Array.isArray(n))for(let s=0;s<n.length;s++)SI(n[s],e,t,i,r);else{const s=ze(),o=x();let a=Dl(n)?n:pe(n.provide),l=nB(n);const c=Wn(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Dl(n)||!n.multi){const f=new Mh(l,r,_),p=AI(a,e,r?u:u+h,d);-1===p?(tC(t_(c,o),s,a),xI(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=AI(a,e,u+h,d),p=AI(a,e,u,u+h),g=p>=0&&t[p];if(r&&!g||!r&&!(f>=0&&t[f])){tC(t_(c,o),s,a);const w=function hle(n,e,t,i,r){const s=new Mh(n,t,_);return s.multi=[],s.index=e,s.componentProviders=0,Mj(s,r,i&&!t),s}(r?dle:ule,t.length,r,i,l);!r&&g&&(t[p].providerFactory=w),xI(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(w),o.push(w)}else xI(s,n,f>-1?f:p,Mj(t[r?p:f],l,!r&&i));!r&&i&&g&&t[p].componentProviders++}}}function xI(n,e,t,i){const r=Dl(e),s=function hre(n){return!!n.useClass}(e);if(r||s){const l=(s?pe(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function Mj(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function AI(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function ule(n,e,t,i){return MI(this.multi,[])}function dle(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=vl(t,t[G],this.providerFactory.index,i);s=a.slice(0,o),MI(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],MI(r,s);return s}function MI(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ge(n,e=[]){return t=>{t.providersResolver=(i,r)=>function cle(n,e,t){const i=ze();if(i.firstCreatePass){const r=jr(n);SI(t,i.data,i.blueprint,r,!0),SI(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Ru{}class kj{}class kI extends Ru{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new GB(this);const r=er(e);this._bootstrapComponents=mo(r.bootstrap),this._r3Injector=AB(e,t,[{provide:Ru,useValue:this},{provide:Tl,useValue:this.componentFactoryResolver},...i],bn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class RI extends kj{constructor(e){super(),this.moduleType=e}create(e){return new kI(this.moduleType,e,[])}}class Rj extends Ru{constructor(e){super(),this.componentFactoryResolver=new GB(this),this.instance=null;const t=new FC([...e.providers,{provide:Ru,useValue:this},{provide:Tl,useValue:this.componentFactoryResolver}],e.parent||b_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Nj(n,e,t=null){return new Rj({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let mle=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=Z2(0,t.type),r=i.length>0?Nj([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=k({token:n,providedIn:"environment",factory:()=>new n(b(sa))}),n})();function Oj(n){n.getStandaloneInjector=e=>e.get(mle).getOrCreateStandaloneInjector(n)}function OI(n){return e=>{setTimeout(n,void 0,e)}}const Q=class jle extends se{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=OI(s),r&&(r=OI(r)),o&&(o=OI(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ct&&e.add(a),a}};function Hle(){return this._results[Symbol.iterator]()}class PI{get changes(){return this._changes||(this._changes=new Q)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=PI.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Hle)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function Ir(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Fne(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let qr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Gle,n})();const $le=qr,zle=class extends $le{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t,null)}createEmbeddedViewImpl(e,t,i){const r=this._declarationTContainer.tView,s=A_(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,t||null,i||null);s[Dh]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[hs];return null!==a&&(s[hs]=a.createEmbeddedView(r)),lI(r,s,e),new Qh(s)}};function Gle(){return K_(Wn(),x())}function K_(n,e){return 4&n.type?new zle(e,n,gu(n,e)):null}let sr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zle,n})();function Zle(){return Xj(Wn(),x())}const Jle=sr,Yj=class extends Jle{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return gu(this._hostTNode,this._hostLView)}get injector(){return new su(this._hostTNode,this._hostLView)}get parentInjector(){const e=eC(this._hostTNode,this._hostLView);if(UV(e)){const t=Jg(e,this._hostLView),i=Zg(e);return new su(t[G].data[i+8],t)}return new su(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Qj(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,s){const o=e&&!function Rh(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const m=t||{};a=m.index,i=m.injector,r=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const l=o?e:new Xh(tt(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const g=(o?c:this.parentInjector).get(sa,null);g&&(s=g)}tt(l.componentType??{});const f=l.create(c,r,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView,s=r[G];if(function tne(n){return Vi(n[Nt])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=r[Nt],u=new Yj(c,c[ci],c[Nt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;if(function Iie(n,e,t,i){const r=$n+i,s=t.length;i>0&&(t[r-1][Ur]=e),i<s-$n?(e[Ur]=t[r],ZV(t,$n+i,e)):(t.push(e),e[Ur]=null),e[Nt]=t;const o=e[Dh];null!==o&&t!==o&&function Die(n,e){const t=n[eu];e[sn]!==e[Nt][Nt][sn]&&(n[rV]=!0),null===t?n[eu]=[e]:t.push(e)}(o,e);const a=e[hs];null!==a&&a.insertView(n),e[Ce]|=128}(s,r,a,o),!i){const l=CC(o,a),c=r[be],u=h_(c,a[fs]);null!==u&&function wie(n,e,t,i,r,s){i[wn]=r,i[ci]=e,Bh(n,i,t,1,r,s)}(s,a[ci],c,r,u,l)}return e.attachToViewContainerRef(),ZV(LI(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Qj(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=vC(this._lContainer,t);i&&(i_(LI(this._lContainer),t),E2(i[G],i))}detach(e){const t=this._adjustIndex(e,-1),i=vC(this._lContainer,t);return i&&null!=i_(LI(this._lContainer),t)?new Qh(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function Qj(n){return n[Ug]}function LI(n){return n[Ug]||(n[Ug]=[])}function Xj(n,e){let t;const i=e[n.index];return Vi(i)?t=i:(t=VB(i,e,null,n),e[n.index]=t,M_(e,t)),Zj(t,e,n,i),new Yj(t,n,e)}let Zj=function Jj(n,e,t,i){if(n[fs])return;let r;r=8&t.type?It(i):function ece(n,e){const t=n[be],i=t.createComment(""),r=Bi(e,n);return El(t,h_(t,r),i,function Aie(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[fs]=r};class VI{constructor(e){this.queryList=e,this.matches=null}clone(){return new VI(this.queryList)}setDirty(){this.queryList.setDirty()}}class BI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new BI(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==rH(e,t).matches&&this.queries[t].setDirty()}}class eH{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class UI{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new UI(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class jI{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new jI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,ice(t,s)),this.matchTNodeWithReadOption(e,t,n_(t,e,s,!1,!1))}else i===qr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,n_(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===we||r===sr||r===qr&&4&t.type)this.addMatch(t.index,-2);else{const s=n_(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function ice(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function sce(n,e,t,i){return-1===t?function rce(n,e){return 11&n.type?gu(n,e):4&n.type?K_(n,e):null}(e,n):-2===t?function oce(n,e,t){return t===we?gu(e,n):t===qr?K_(e,n):t===sr?Xj(e,n):void 0}(n,e,i):vl(n,n[G],t,e)}function tH(n,e,t,i){const r=e[hs].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:sce(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function HI(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=tH(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=$n;d<u.length;d++){const h=u[d];h[Dh]===h[Nt]&&HI(h[G],h,c,i)}if(null!==u[eu]){const d=u[eu];for(let h=0;h<d.length;h++){const f=d[h];HI(f[G],f,c,i)}}}}}return i}function rt(n){const e=x(),t=ze(),i=MV();WE(i+1);const r=rH(t,i);if(n.dirty&&function ene(n){return 4==(4&n[Ce])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?HI(t,e,i,[]):tH(t,e,r,i);n.reset(s,Rre),n.notifyOnChanges()}return!0}return!1}function an(n,e,t){const i=ze();i.firstCreatePass&&(iH(i,new eH(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),nH(i,x(),e)}function Sr(n,e,t,i){const r=ze();if(r.firstCreatePass){const s=Wn();iH(r,new eH(e,t,i),s.index),function lce(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}nH(r,x(),t)}function st(){return function ace(n,e){return n[hs].queries[e].queryList}(x(),MV())}function nH(n,e,t){const i=new PI(4==(4&t));(function Jre(n,e,t,i){const r=UB(e);r.push(t),n.firstCreatePass&&jB(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[hs]&&(e[hs]=new BI),e[hs].queries.push(new VI(i))}function iH(n,e,t){null===n.queries&&(n.queries=new UI),n.queries.track(new jI(e,t))}function rH(n,e){return n.queries.getByIndex(e)}function $I(n,e){return K_(n,e)}const Q_=new E("Application Initializer");let YI=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=N(Q_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(rf(s))t.push(s);else if(fU(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wH=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ds=new E("LocaleId",{providedIn:"root",factory:()=>N(Ds,ce.Optional|ce.SkipSelf)||function Ace(){return typeof $localize<"u"&&$localize.locale||ku}()});let EH=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ai(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kce{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Rce=(()=>{class n{compileModuleSync(t){return new RI(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=mo(er(t).declarations).reduce((o,a)=>{const l=tt(a);return l&&o.push(new Xh(l)),o},[]);return new kce(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pce=(()=>Promise.resolve(0))();function QI(n){typeof Zone>"u"?Pce.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function DH(...n){}class q{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Q(!1),this.onMicrotaskEmpty=new Q(!1),this.onStable=new Q(!1),this.onError=new Q(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Fce(){let n=yt.requestAnimationFrame,e=yt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Bce(n){const e=()=>{!function Vce(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(yt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ZI(n),n.isCheckStableRunning=!0,XI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ZI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return TH(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),SH(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return TH(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),SH(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,ZI(n),XI(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!q.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(q.isInAngularZone())throw new T(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,Lce,DH,DH);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Lce={};function XI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ZI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function TH(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function SH(n){n._nesting--,XI(n)}class Uce{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Q,this.onMicrotaskEmpty=new Q,this.onStable=new Q,this.onError=new Q}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const xH=new E("",{providedIn:"root",factory:AH});function AH(){const n=N(q);let e=!0;return so(new Ke(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new Ke(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{q.assertNotInAngularZone(),QI(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{q.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(wE()))}const MH=new E(""),X_=new E("");let tD,JI=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tD||(function jce(n){tD=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{q.assertNotInAngularZone(),QI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())QI(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(b(q),b(eD),b(X_))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),eD=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return tD?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ca=null;const kH=new E("AllowMultipleToken"),nD=new E("PlatformDestroyListeners"),RH=new E("appBootstrapListener");function PH(n,e,t=[]){const i=`Platform: ${e}`,r=new E(i);return(s=[])=>{let o=iD();if(!o||o.injector.get(kH,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function zce(n){if(ca&&!ca.get(kH,!1))throw new T(400,!1);(function NH(){!function zte(n){uV=n}(()=>{throw new T(600,!1)})})(),ca=n;const e=n.get(LH);(function OH(n){n.get(iB,null)?.forEach(t=>t())})(n)}(function FH(n=[],e){return it.create({name:e,providers:[{provide:OC,useValue:"platform"},{provide:nD,useValue:new Set([()=>ca=null])},...n]})}(a,i))}return function Wce(n){const e=iD();if(!e)throw new T(401,!1);return e}()}}function iD(){return ca?.get(LH)??null}let LH=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function qce(n="zone.js",e){return"noop"===n?new Uce:"zone.js"===n?new q(e):n}(i?.ngZone,function VH(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function ple(n,e,t){return new kI(n,e,t)}(t.moduleType,this.injector,function $H(n){return[{provide:q,useFactory:n},{provide:Il,multi:!0,useFactory:()=>{const e=N(Yce,{optional:!0});return()=>e.initialize()}},{provide:HH,useFactory:Kce},{provide:xH,useFactory:AH}]}(()=>r)),o=s.injector.get(vs,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Z_(this._modules,s),a.unsubscribe()})}),function BH(n,e,t){try{const i=t();return rf(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(YI);return a.runInitializers(),a.donePromise.then(()=>(function oj(n){Cr(n,"Expected localeId to be defined"),"string"==typeof n&&(sj=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ds,ku)||ku),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=UH({},i);return function Hce(n,e,t){const i=new RI(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Ml);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new T(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(nD,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(b(it))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function UH(n,e){return Array.isArray(e)?e.reduce(UH,n):{...n,...e}}let Ml=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(HH),this.zoneIsStable=N(xH),this.componentTypes=[],this.components=[],this.isStable=N(EH).hasPendingTasks.pipe(Yt(t=>t?Y(!1):this.zoneIsStable),Ag(),wE()),this._injector=N(sa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof cB;if(!this._injector.get(YI).done)throw!r&&function Yc(n){const e=tt(n)||li(n)||Li(n);return null!==e&&e.standalone}(t),new T(405,!1);let o;o=r?t:this._injector.get(Tl).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function $ce(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ru),c=o.create(it.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(MH,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Z_(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Z_(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(RH,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Z_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new T(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Z_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const HH=new E("",{providedIn:"root",factory:()=>N(vs).handleError.bind(void 0)});function Kce(){const n=N(q),e=N(vs);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Yce=(()=>{class n{constructor(){this.zone=N(q),this.applicationRef=N(Ml)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let qn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zce,n})();function Zce(n){return function Jce(n,e,t){if(gl(n)&&!t){const i=Ui(n.index,e);return new Qh(i,i)}return 47&n.type?new Qh(e[sn],e):null}(Wn(),x(),16==(16&n))}class qH{constructor(){}supports(e){return P_(e)}create(e){return new sue(e)}}const rue=(n,e)=>e;class sue{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rue}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<YH(i,r,s)?t:i,a=YH(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!P_(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function Yse(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new oue(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new KH),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KH),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oue{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aue{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class KH{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new aue,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YH(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class QH{constructor(){}supports(e){return e instanceof Map||dI(e)}create(){return new lue}}class lue{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||dI(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new cue(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class cue{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XH(){return new ty([new qH])}let ty=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||XH()),deps:[[n,new wl,new Ae]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new T(901,!1)}}return n.\u0275prov=k({token:n,providedIn:"root",factory:XH}),n})();function ZH(){return new mf([new QH])}let mf=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||ZH()),deps:[[n,new wl,new Ae]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new T(901,!1)}}return n.\u0275prov=k({token:n,providedIn:"root",factory:ZH}),n})();const hue=PH(null,"core",[]);let fue=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(b(Ml))},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})(),uD=null;function ua(){return uD}class Iue{}const ye=new E("DocumentToken");let s$=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return N(Due)},providedIn:"platform"}),n})(),Due=(()=>{class n extends s${constructor(){super(),this._doc=N(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ua().getBaseHref(this._doc)}onPopState(t){const i=ua().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=ua().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function o$(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function a$(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Rl(n){return n&&"?"!==n[0]?"?"+n:n}let iy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return N(Sue)},providedIn:"root"}),n})();const Tue=new E("appBaseHref");let Sue=(()=>{class n extends iy{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return o$(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Rl(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+Rl(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+Rl(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(b(s$),b(Tue,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gf=(()=>{class n{constructor(t){this._subject=new Q,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Mue(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(a$(l$(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Rl(i))}normalize(t){return n.stripTrailingSlash(function Aue(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,l$(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Rl(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Rl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Rl,n.joinWithSlash=o$,n.stripTrailingSlash=a$,n.\u0275fac=function(t){return new(t||n)(b(iy))},n.\u0275prov=k({token:n,factory:function(){return function xue(){return new gf(b(iy))}()},providedIn:"root"}),n})();function l$(n){return n.replace(/\/index.html$/,"")}const bD=/\s+/,_$=[];let wD=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=_$,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(bD):_$}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(bD):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(bD).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(_(ty),_(mf),_(we),_(po))},n.\u0275dir=F({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class mde{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fy=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new mde(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),v$(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{v$(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(_(sr),_(qr),_(ty))},n.\u0275dir=F({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function v$(n,e){n.context.$implicit=e.item}let Nl=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new gde,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){b$("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){b$("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(_(sr),_(qr))},n.\u0275dir=F({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class gde{constructor(){this.$implicit=null,this.ngIf=null}}function b$(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${bn(e)}'.`)}class ED{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let vf=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),CD=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new ED(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(_(sr),_(qr),_(vf,9))},n.\u0275dir=F({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ID=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(_(sr))},n.\u0275dir=F({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Qt]}),n})(),Ol=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})();const C$="browser";function SD(n){return n===C$}function I$(n){return"server"===n}class vhe extends Iue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class MD extends vhe{static makeCurrent(){!function Cue(n){uD||(uD=n)}(new MD)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function bhe(){return wf=wf||document.querySelector("base"),wf?wf.getAttribute("href"):null}();return null==t?null:function whe(n){_y=_y||document.createElement("a"),_y.setAttribute("href",n);const e=_y.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function fde(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let _y,wf=null,Che=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const kD=new E("EventManagerPlugins");let M$=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new T(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return n.\u0275fac=function(t){return new(t||n)(b(kD),b(q))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class k${constructor(e){this._doc=e}}const RD="ng-app-id";let R$=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=I$(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${RD}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(RD),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(RD,this.appId),o}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(b(ye),b(w_),b(BC,8),b(Hr))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const ND={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},OD=/%COMP%/g,She=new E("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function O$(n,e){return e.map(t=>t.replace(OD,n))}let PD=(()=>{class n{constructor(t,i,r,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=I$(a),this.defaultRenderer=new FD(t,o,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Pi.ShadowDom&&(i={...i,encapsulation:Pi.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof F$?r.applyToHost(t):r instanceof LD&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(i.encapsulation){case Pi.Emulated:s=new F$(l,c,i,this.appId,u,o,a,d);break;case Pi.ShadowDom:return new khe(l,c,t,i,o,a,this.nonce,d);default:s=new LD(l,c,i,u,o,a,d)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(b(M$),b(R$),b(w_),b(She),b(ye),b(Hr),b(q),b(BC))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class FD{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ND[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(P$(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(P$(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new T(5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=ND[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ND[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ji.DashCase|ji.Important)?e.style.setProperty(t,i,r&ji.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ji.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=ua().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function P$(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class khe extends FD{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=O$(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class LD extends FD{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=l?O$(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class F$ extends LD{constructor(e,t,i,r,s,o,a,l){const c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=function xhe(n){return"_ngcontent-%COMP%".replace(OD,n)}(c),this.hostAttr=function Ahe(n){return"_nghost-%COMP%".replace(OD,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Rhe=(()=>{class n extends k${constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(b(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const L$=["alt","control","meta","shift"],Nhe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ohe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Phe=(()=>{class n extends k${constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ua().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),L$.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=Nhe[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),L$.forEach(o=>{o!==r&&(0,Ohe[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(b(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const B$=[{provide:Hr,useValue:C$},{provide:iB,useValue:function Fhe(){MD.makeCurrent()},multi:!0},{provide:ye,useFactory:function Vhe(){return function Lie(n){TC=n}(document),document},deps:[]}],Bhe=PH(hue,"browser",B$),Uhe=new E(""),U$=[{provide:X_,useClass:class Ehe{addToWindow(e){yt.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new T(5103,!1);return s},yt.getAllAngularTestabilities=()=>e.getAllTestabilities(),yt.getAllAngularRootElements=()=>e.getAllRootElements(),yt.frameworkStabilizers||(yt.frameworkStabilizers=[]),yt.frameworkStabilizers.push(i=>{const r=yt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?ua().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:MH,useClass:JI,deps:[q,eD,X_]},{provide:JI,useClass:JI,deps:[q,eD,X_]}],j$=[{provide:OC,useValue:"root"},{provide:vs,useFactory:function Lhe(){return new vs},deps:[]},{provide:kD,useClass:Rhe,multi:!0,deps:[ye,q,Hr]},{provide:kD,useClass:Phe,multi:!0,deps:[ye]},PD,R$,M$,{provide:Wh,useExisting:PD},{provide:class Wde{},useClass:Che,deps:[]},[]];let H$=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:w_,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(b(Uhe,12))},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[...j$,...U$],imports:[Ol,fue]}),n})(),VD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(b(ye))},n.\u0275prov=k({token:n,factory:function(t){let i=null;return i=t?new t:function Hhe(){return new VD(b(ye))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;class q${}class qhe{}const bo="*";function Ef(n,e){return{type:7,name:n,definitions:e,options:{}}}function wo(n,e=null){return{type:4,styles:e,timings:n}}function Y$(n,e=null){return{type:2,steps:n,options:e}}function Mn(n){return{type:6,styles:n,offset:null}}function Pl(n,e,t){return{type:0,name:n,styles:e,options:t}}function Q$(n){return{type:5,steps:n}}function Eo(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function J$(n){Promise.resolve().then(n)}class Cf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){J$(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ez{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?J$(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const jD="!";function tz(n){return new T(3e3,!1)}function ha(n){switch(n.length){case 0:return new Cf;case 1:return n[0];default:return new ez(n)}}function nz(n,e,t=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,r),m){case jD:m=t.get(f);break;case bo:m=i.get(f);break;default:m=n.normalizeStyleValue(f,p,m,r)}d.set(p,m)}),u||s.push(d),a=d,o=c}),r.length)throw function gfe(n){return new T(3502,!1)}();return s}function HD(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&$D(t,"start",n)));break;case"done":n.onDone(()=>i(t&&$D(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&$D(t,"destroy",n)))}}function $D(n,e,t){const s=zD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function zD(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function or(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function iz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const xfe=(()=>typeof document>"u"?null:document.documentElement)();function GD(n){const e=n.parentNode||n.host||null;return e===xfe?null:e}let Fl=null,rz=!1;function sz(n,e){for(;e;){if(e===n)return!0;e=GD(e)}return!1}function oz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let az=(()=>{class n{validateStyleProperty(t){return function Mfe(n){Fl||(Fl=function kfe(){return typeof document<"u"?document.body:null}()||{},rz=!!Fl.style&&"WebkitAppearance"in Fl.style);let e=!0;return Fl.style&&!function Afe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Fl.style,!e&&rz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Fl.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return sz(t,i)}getParentElement(t){return GD(t)}query(t,i,r){return oz(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new Cf(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),WD=(()=>{class n{}return n.NOOP=new az,n})();const Rfe=1e3,qD="ng-enter",yy="ng-leave",vy="ng-trigger",by=".ng-trigger",cz="ng-animating",KD=".ng-animating";function Co(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:YD(parseFloat(e[1]),e[2])}function YD(n,e){return"s"===e?n*Rfe:n}function wy(n,e,t){return n.hasOwnProperty("duration")?n:function Ofe(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(tz()),{duration:0,delay:0,easing:""};r=YD(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=YD(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function Khe(){return new T(3100,!1)}()),a=!0),s<0&&(e.push(function Yhe(){return new T(3101,!1)}()),a=!0),a&&e.splice(l,0,tz())}return{duration:r,delay:s,easing:o}}(n,e,t)}function If(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function uz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function fa(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Ts(n,e,t){e.forEach((i,r)=>{const s=XD(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Ll(n,e){e.forEach((t,i)=>{const r=XD(i);n.style[r]=""})}function Df(n){return Array.isArray(n)?1==n.length?n[0]:Y$(n):n}const QD=new RegExp("{{\\s*(.+?)\\s*}}","g");function hz(n){let e=[];if("string"==typeof n){let t;for(;t=QD.exec(n);)e.push(t[1]);QD.lastIndex=0}return e}function Tf(n,e,t){const i=n.toString(),r=i.replace(QD,(s,o)=>{let a=e[o];return null==a&&(t.push(function Xhe(n){return new T(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Ey(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Lfe=/-+([a-z0-9])/g;function XD(n){return n.replace(Lfe,(...e)=>e[1].toUpperCase())}function ar(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Zhe(n){return new T(3004,!1)}()}}function fz(n,e){return window.getComputedStyle(n)[e]}const Cy="*";function Ufe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function jfe(n,e,t){if(":"==n[0]){const l=function Hfe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function hfe(n){return new T(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function dfe(n){return new T(3015,!1)}()),e;const r=i[1],s=i[2],o=i[3];e.push(pz(r,o));"<"==s[0]&&!(r==Cy&&o==Cy)&&e.push(pz(o,r))}(i,t,e)):t.push(n),t}const Iy=new Set(["true","1"]),Dy=new Set(["false","0"]);function pz(n,e){const t=Iy.has(n)||Dy.has(n),i=Iy.has(e)||Dy.has(e);return(r,s)=>{let o=n==Cy||n==r,a=e==Cy||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?Iy.has(n):Dy.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?Iy.has(e):Dy.has(e)),o&&a}}const $fe=new RegExp("s*:selfs*,?","g");function ZD(n,e,t,i){return new zfe(n).build(e,t,i)}class zfe{constructor(e){this._driver=e}build(e,t,i){const r=new qfe(t);return this._resetContextStyleTimingState(r),ar(this,Df(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function efe(){return new T(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(function tfe(){return new T(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{hz(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Ey(s.values()),t.errors.push(function nfe(n,e){return new T(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ar(this,Df(e.animation),t);return{type:1,matchers:Ufe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Vl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ar(this,i,t)),options:Vl(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=ar(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:Vl(e.options)}}visitAnimate(e,t){const i=function Yfe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return JD(wy(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=JD(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=wy(t,e);return JD(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Mn({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Mn(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===bo?i.push(a):t.errors.push(new T(3002,!1)):i.push(uz(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push(function rfe(n,e,t,i,r){return new T(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),t.options&&function Ffe(n,e,t){const i=e.params||{},r=hz(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Qhe(n){return new T(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function sfe(){return new T(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(w=>{const v=this._makeStyleAst(w,t);let D=null!=v.offset?v.offset:function Kfe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(v.styles),S=0;return null!=D&&(s++,S=v.offset=D),l=l||S<0||S>1,a=a||S<c,c=S,o.push(S),v});l&&t.errors.push(function ofe(){return new T(3012,!1)}()),a&&t.errors.push(function afe(){return new T(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function lfe(){return new T(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((w,v)=>{const D=h>0?v==f?1:h*v:o[v],S=D*g;t.currentTime=p+m.delay+S,m.duration=S,this._validateStyleAst(w,t),w.offset=D,i.styles.push(w)}),i}visitReference(e,t){return{type:8,animation:ar(this,Df(e.animation),t),options:Vl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Vl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Vl(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Gfe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace($fe,"")),n=n.replace(/@\*/g,by).replace(/@\w+/g,t=>by+"-"+t.slice(1)).replace(/:animating/g,KD),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,or(t.collectedStyles,t.currentQuerySelector,new Map);const a=ar(this,Df(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Vl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function cfe(){return new T(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:wy(e.timings,t.errors,!0);return{type:12,animation:ar(this,Df(e.animation),t),timings:i,options:null}}}class qfe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vl(n){return n?(n=If(n)).params&&(n.params=function Wfe(n){return n?If(n):null}(n.params)):n={},n}function JD(n,e,t){return{duration:n,delay:e,easing:t}}function eT(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Ty{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Zfe=new RegExp(":enter","g"),epe=new RegExp(":leave","g");function tT(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return(new tpe).buildKeyframes(n,e,t,i,r,s,o,a,l,c)}class tpe{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new Ty;const d=new nT(e,t,c,r,s,u,[]);d.options=l;const h=l.delay?Co(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),ar(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[eT(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:Co(Tf(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?Co(i.duration):null,a=null!=i.delay?Co(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ar(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Sy);const o=Co(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ar(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Co(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),ar(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return wy(t.params?Tf(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Co(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Sy);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),ar(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;ar(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Sy={};class nT{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Sy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new xy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Co(i.duration)),null!=i.delay&&(r.delay=Co(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Tf(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new nT(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Sy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new npe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Zfe,"."+this._enterClassName)).replace(epe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function ufe(n){return new T(3014,!1)}()),a}}class xy{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new xy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||bo),this._currentKeyframe.set(t,bo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function ipe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,bo)}else fa(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Tf(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??bo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=fa(a,new Map,this._backFill);c.forEach((u,d)=>{u===jD?e.add(d):u===bo&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=e.size?Ey(e.values()):[],o=t.size?Ey(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return eT(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class npe extends xy{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=fa(e[0]);l.set("offset",0),s.push(l);const c=fa(e[0]);c.set("offset",_z(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=fa(e[d]);const f=h.get("offset");h.set("offset",_z((t+f*i)/o)),s.push(h)}i=o,t=0,r="",e=s}return eT(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function _z(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class iT{}const rpe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class spe extends iT{normalizePropertyName(e,t){return XD(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(rpe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Jhe(n,e){return new T(3005,!1)}())}return o+s}}function yz(n,e,t,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const rT={};class vz{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function ope(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||rT,p=this.buildStyles(i,a&&a.params||rT,d),m=l&&l.params||rT,g=this.buildStyles(r,m,d),w=new Set,v=new Map,D=new Map,S="void"===r,H={params:ape(m,h),delay:this.ast.options?.delay},ee=u?[]:tT(e,t,this.ast.animation,s,o,p,g,H,c,d);let ke=0;if(ee.forEach(_n=>{ke=Math.max(_n.duration+_n.delay,ke)}),d.length)return yz(t,this._triggerName,i,r,S,p,g,[],[],v,D,ke,d);ee.forEach(_n=>{const us=_n.element,see=or(v,us,new Set);_n.preStyleProps.forEach(Gc=>see.add(Gc));const Eg=or(D,us,new Set);_n.postStyleProps.forEach(Gc=>Eg.add(Gc)),us!==t&&w.add(us)});const Mt=Ey(w.values());return yz(t,this._triggerName,i,r,S,p,g,ee,Mt,v,D,ke)}}function ape(n,e){const t=If(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class lpe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=If(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Tf(o,r,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}}class upe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new lpe(r.style,r.options&&r.options.params||{},i))}),bz(this.states,"true","1"),bz(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new vz(e,r,this.states))}),this.fallbackTransition=function dpe(n,e,t){return new vz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function bz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const hpe=new Ty;class fpe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=ZD(this._driver,t,i,[]);if(i.length)throw function _fe(n){return new T(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=nz(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=tT(this._driver,t,s,qD,yy,new Map,new Map,i,hpe,r),o.forEach(u=>{const d=or(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function yfe(){return new T(3300,!1)}()),o=[]),r.length)throw function vfe(n){return new T(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,bo))})});const c=ha(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function bfe(n){return new T(3301,!1)}();return t}listen(e,t,i,r){const s=zD(t,"","","");return HD(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const wz="ng-animate-queued",sT="ng-animate-disabled",ype=[],Ez={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vpe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mr="__ng_removed";class oT{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Cpe(n){return n??null}(i?e.value:e),i){const s=If(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Sf="void",aT=new oT(Sf);class bpe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,kr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function wfe(n,e){return new T(3302,!1)}();if(null==i||0==i.length)throw function Efe(n){return new T(3303,!1)}();if(!function Ipe(n){return"start"==n||"done"==n}(i))throw function Cfe(n,e){return new T(3400,!1)}();const s=or(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=or(this._engine.statesByElement,e,new Map);return a.has(t)||(kr(e,vy),kr(e,vy+"-"+t),a.set(t,aT)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Ife(n){return new T(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new lT(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(kr(e,vy),kr(e,vy+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new oT(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=aT),c.value!==Sf&&l.value===c.value){if(!function Spe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),w=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Ll(e,g),Ts(e,w)})}return}const h=or(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(kr(e,wz),o.onStart(()=>{Fu(e,wz)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let w=g.indexOf(o);w>=0&&g.splice(w,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,by,!0);i.forEach(r=>{if(r[Mr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Sf,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&ha(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||aT,u=new oT(Sf),d=new lT(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Mr];(!s||s===Ez)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){kr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=zD(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,HD(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class wpe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new bpe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(Ay(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Ay(t))return;const s=t[Mr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),kr(e,sT)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fu(e,sT))}removeNode(e,t,i){if(Ay(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Mr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Ay(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,by,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,KD,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ha(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Mr];if(t&&t.setForRemoval){if(e[Mr]=Ez,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(sT)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)kr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ha(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Dfe(n){return new T(3402,!1)}()}_flushAnimations(e,t){const i=new Ty,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(X=>{u.add(X);const ie=this.driver.query(X,".ng-animate-queued",!0);for(let he=0;he<ie.length;he++)u.add(ie[he])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Dz(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((X,ie)=>{const he=qD+m++;p.set(ie,he),X.forEach(Ye=>kr(Ye,he))});const g=[],w=new Set,v=new Set;for(let X=0;X<this.collectedLeaveElements.length;X++){const ie=this.collectedLeaveElements[X],he=ie[Mr];he&&he.setForRemoval&&(g.push(ie),w.add(ie),he.hasAnimation?this.driver.query(ie,".ng-star-inserted",!0).forEach(Ye=>w.add(Ye)):v.add(ie))}const D=new Map,S=Dz(h,Array.from(w));S.forEach((X,ie)=>{const he=yy+m++;D.set(ie,he),X.forEach(Ye=>kr(Ye,he))}),e.push(()=>{f.forEach((X,ie)=>{const he=p.get(ie);X.forEach(Ye=>Fu(Ye,he))}),S.forEach((X,ie)=>{const he=D.get(ie);X.forEach(Ye=>Fu(Ye,he))}),g.forEach(X=>{this.processLeaveNode(X)})});const H=[],ee=[];for(let X=this._namespaceList.length-1;X>=0;X--)this._namespaceList[X].drainQueuedTransitions(t).forEach(he=>{const Ye=he.player,Hn=he.element;if(H.push(Ye),this.collectedEnterElements.length){const vi=Hn[Mr];if(vi&&vi.setForMove){if(vi.previousTriggersValues&&vi.previousTriggersValues.has(he.triggerName)){const Wc=vi.previousTriggersValues.get(he.triggerName),Vr=this.statesByElement.get(he.element);if(Vr&&Vr.has(he.triggerName)){const oE=Vr.get(he.triggerName);oE.value=Wc,Vr.set(he.triggerName,oE)}}return void Ye.destroy()}}const no=!d||!this.driver.containsElement(d,Hn),wr=D.get(Hn),dl=p.get(Hn),jt=this._buildInstruction(he,i,dl,wr,no);if(jt.errors&&jt.errors.length)return void ee.push(jt);if(no)return Ye.onStart(()=>Ll(Hn,jt.fromStyles)),Ye.onDestroy(()=>Ts(Hn,jt.toStyles)),void r.push(Ye);if(he.isFallbackTransition)return Ye.onStart(()=>Ll(Hn,jt.fromStyles)),Ye.onDestroy(()=>Ts(Hn,jt.toStyles)),void r.push(Ye);const lee=[];jt.timelines.forEach(vi=>{vi.stretchStartingKeyframe=!0,this.disabledNodes.has(vi.element)||lee.push(vi)}),jt.timelines=lee,i.append(Hn,jt.timelines),o.push({instruction:jt,player:Ye,element:Hn}),jt.queriedElements.forEach(vi=>or(a,vi,[]).push(Ye)),jt.preStyleProps.forEach((vi,Wc)=>{if(vi.size){let Vr=l.get(Wc);Vr||l.set(Wc,Vr=new Set),vi.forEach((oE,dL)=>Vr.add(dL))}}),jt.postStyleProps.forEach((vi,Wc)=>{let Vr=c.get(Wc);Vr||c.set(Wc,Vr=new Set),vi.forEach((oE,dL)=>Vr.add(dL))})});if(ee.length){const X=[];ee.forEach(ie=>{X.push(function Tfe(n,e){return new T(3505,!1)}())}),H.forEach(ie=>ie.destroy()),this.reportError(X)}const ke=new Map,Mt=new Map;o.forEach(X=>{const ie=X.element;i.has(ie)&&(Mt.set(ie,ie),this._beforeAnimationBuild(X.player.namespaceId,X.instruction,ke))}),r.forEach(X=>{const ie=X.element;this._getPreviousPlayers(ie,!1,X.namespaceId,X.triggerName,null).forEach(Ye=>{or(ke,ie,[]).push(Ye),Ye.destroy()})});const _n=g.filter(X=>Sz(X,l,c)),us=new Map;Iz(us,this.driver,v,c,bo).forEach(X=>{Sz(X,l,c)&&_n.push(X)});const Eg=new Map;f.forEach((X,ie)=>{Iz(Eg,this.driver,new Set(X),l,jD)}),_n.forEach(X=>{const ie=us.get(X),he=Eg.get(X);us.set(X,new Map([...ie?.entries()??[],...he?.entries()??[]]))});const Gc=[],oee=[],aee={};o.forEach(X=>{const{element:ie,player:he,instruction:Ye}=X;if(i.has(ie)){if(u.has(ie))return he.onDestroy(()=>Ts(ie,Ye.toStyles)),he.disabled=!0,he.overrideTotalTime(Ye.totalTime),void r.push(he);let Hn=aee;if(Mt.size>1){let wr=ie;const dl=[];for(;wr=wr.parentNode;){const jt=Mt.get(wr);if(jt){Hn=jt;break}dl.push(wr)}dl.forEach(jt=>Mt.set(jt,Hn))}const no=this._buildAnimation(he.namespaceId,Ye,ke,s,Eg,us);if(he.setRealPlayer(no),Hn===aee)Gc.push(he);else{const wr=this.playersByElement.get(Hn);wr&&wr.length&&(he.parentPlayer=ha(wr)),r.push(he)}}else Ll(ie,Ye.fromStyles),he.onDestroy(()=>Ts(ie,Ye.toStyles)),oee.push(he),u.has(ie)&&r.push(he)}),oee.forEach(X=>{const ie=s.get(X.element);if(ie&&ie.length){const he=ha(ie);X.setRealPlayer(he)}}),r.forEach(X=>{X.parentPlayer?X.syncPlayerEvents(X.parentPlayer):X.destroy()});for(let X=0;X<g.length;X++){const ie=g[X],he=ie[Mr];if(Fu(ie,yy),he&&he.hasAnimation)continue;let Ye=[];if(a.size){let no=a.get(ie);no&&no.length&&Ye.push(...no);let wr=this.driver.query(ie,KD,!0);for(let dl=0;dl<wr.length;dl++){let jt=a.get(wr[dl]);jt&&jt.length&&Ye.push(...jt)}}const Hn=Ye.filter(no=>!no.destroyed);Hn.length?Dpe(this,ie,Hn):this.processLeaveNode(ie)}return g.length=0,Gc.forEach(X=>{this.players.push(X),X.onDone(()=>{X.destroy();const ie=this.players.indexOf(X);this.players.splice(ie,1)}),X.play()}),Gc}elementContainsData(e,t){let i=!1;const r=t[Mr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Sf;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=or(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ll(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const g=m[Mr];if(g&&g.removedBeforeQueried)return new Cf(p.duration,p.delay);const w=m!==l,v=function Tpe(n){const e=[];return Tz(n,e),e}((i.get(m)||ype).map(ke=>ke.getRealPlayer())).filter(ke=>!!ke.element&&ke.element===m),D=s.get(m),S=o.get(m),H=nz(this._normalizer,p.keyframes,D,S),ee=this._buildPlayer(p,H,v);if(p.subTimeline&&r&&d.add(m),w){const ke=new lT(e,a,m);ke.setRealPlayer(ee),c.push(ke)}return ee});c.forEach(p=>{or(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Epe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>kr(p,cz));const f=ha(h);return f.onDestroy(()=>{u.forEach(p=>Fu(p,cz)),Ts(l,t.toStyles)}),d.forEach(p=>{or(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Cf(e.duration,e.delay)}}class lT{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Cf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>HD(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){or(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ay(n){return n&&1===n.nodeType}function Cz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Iz(n,e,t,i,r){const s=[];t.forEach(l=>s.push(Cz(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[Mr]=vpe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>Cz(l,s[a++])),o}function Dz(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?i:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);l!==i&&t.get(l).push(a)}),t}function kr(n,e){n.classList?.add(e)}function Fu(n,e){n.classList?.remove(e)}function Dpe(n,e,t){ha(t).onDone(()=>n.processLeaveNode(e))}function Tz(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof ez?Tz(i.players,e):e.push(i)}}function Sz(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class My{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new wpe(e,t,i),this._timelineEngine=new fpe(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=ZD(this._driver,s,l,[]);if(l.length)throw function mfe(n,e){return new T(3404,!1)}();a=function cpe(n,e,t){return new upe(n,e,t)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=iz(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=iz(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ape=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ts(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ts(this._element,this._initialStyles),this._endStyles&&(Ts(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ll(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ll(this._element,this._endStyles),this._endStyles=null),Ts(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function cT(n){let e=null;return n.forEach((t,i)=>{(function Mpe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class xz{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:fz(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class kpe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return sz(e,t)}getParentElement(e){return GD(e)}query(e,t,i){return oz(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof xz);(function Vfe(n,e){return 0===n||0===e})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function Pfe(n){return n.length?n[0]instanceof Map?n:n.map(e=>uz(e)):[]}(t).map(f=>fa(f));d=function Bfe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,fz(n,a)))}}return e}(e,d,c);const h=function xpe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=cT(e[0]),e.length>1&&(i=cT(e[e.length-1]))):e instanceof Map&&(t=cT(e)),t||i?new Ape(n,t,i):null}(e,d);return new xz(e,d,l,h)}}let Rpe=(()=>{class n extends q${constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Pi.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Y$(t):t;return Az(this._renderer,null,i,"register",[r]),new Npe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(b(Wh),b(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class Npe extends qhe{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Ope(this._id,e,t||{},this._renderer)}}class Ope{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Az(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Az(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Mz="@.disabled";let Ppe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new kz("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new Fpe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(b(Wh),b(My),b(q))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class kz{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Mz?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Fpe extends kz{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Mz?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Lpe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Vpe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let Bpe=(()=>{class n extends My{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(b(ye),b(WD),b(iT),b(Ml))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const Rz=[{provide:q$,useClass:Rpe},{provide:iT,useFactory:function Upe(){return new spe}},{provide:My,useClass:Bpe},{provide:Wh,useFactory:function jpe(n,e,t){return new Ppe(n,e,t)},deps:[PD,My,q]}],uT=[{provide:WD,useFactory:()=>new kpe},{provide:$r,useValue:"BrowserAnimations"},...Rz],Nz=[{provide:WD,useClass:az},{provide:$r,useValue:"NoopAnimations"},...Rz];let Hpe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Nz:uT}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:uT,imports:[H$]}),n})();class $pe extends Ct{constructor(e,t){super()}schedule(e,t=0){return this}}const Ry={setInterval(n,e,...t){const{delegate:i}=Ry;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ry;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Ny extends $pe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Ry.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Ry.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qc(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Oz={now:()=>(Oz.delegate||Date).now(),delegate:void 0};class xf{constructor(e,t=xf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}xf.now=Oz.now;class Oy extends xf{constructor(e,t=xf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Pz=new class Gpe extends Oy{}(class zpe extends Ny{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}});function Fz(n,e){return mt(function qpe(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Qe(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}class Xpe extends Error{constructor(e,t){super(function Zpe(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Hz(n,e){const t=!e?.manualCleanup;t&&!e?.injector&&function IB(n){if(!BL()&&!function fte(){return Kc}())throw new T(-203,!1)}();const i=t?e?.injector?.get(k_)??N(k_):null;let r;r=function dV(n,e){const t=new Gte(n,e?.equal??lV);return LE(t,t.signal.bind(t),{set:t.set.bind(t),update:t.update.bind(t),mutate:t.mutate.bind(t),asReadonly:t.asReadonly.bind(t)})}(e?.requireSync?{kind:0}:{kind:1,value:e?.initialValue});const s=n.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>r.set({kind:2,error:o})});return i?.onDestroy(s.unsubscribe.bind(s)),cV(()=>{const o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new Xpe(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}const Af={};function Ii(n,e){if(Af[n]=(Af[n]||0)+1,"function"==typeof e)return mT(n,(...i)=>({...e(...i),type:n}));switch(e?e._as:"empty"){case"empty":return mT(n,()=>({type:n}));case"props":return mT(n,i=>({...i,type:n}));default:throw new Error("Unexpected config.")}}function mT(n,e){return Object.defineProperty(e,"type",{value:n,writable:!1})}const $z="@ngrx/store/init";let Bl=(()=>{class n extends ai{constructor(){super({type:$z})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const lme=[Bl],_T=new E("@ngrx/store Internal Root Guard"),zz=new E("@ngrx/store Internal Initial State"),yT=new E("@ngrx/store Initial State"),Gz=new E("@ngrx/store Reducer Factory"),Wz=new E("@ngrx/store Internal Reducer Factory Provider"),qz=new E("@ngrx/store Initial Reducers"),vT=new E("@ngrx/store Internal Initial Reducers"),Kz=new E("@ngrx/store Store Features"),Yz=new E("@ngrx/store Internal Store Reducers"),bT=new E("@ngrx/store Internal Feature Reducers"),Qz=new E("@ngrx/store Internal Feature Configs"),wT=new E("@ngrx/store Internal Store Features"),Xz=new E("@ngrx/store Internal Feature Reducers Token"),ET=new E("@ngrx/store Feature Reducers"),Zz=new E("@ngrx/store User Provided Meta Reducers"),Vy=new E("@ngrx/store Meta Reducers"),Jz=new E("@ngrx/store Internal Resolved Meta Reducers"),e4=new E("@ngrx/store User Runtime Checks Config"),t4=new E("@ngrx/store Internal User Runtime Checks Config"),Mf=new E("@ngrx/store Internal Runtime Checks"),kf=new E("@ngrx/store Check if Action types are unique");function IT(n,e={}){const t=Object.keys(n),i={};for(let s=0;s<t.length;s++){const o=t[s];"function"==typeof n[o]&&(i[o]=n[o])}const r=Object.keys(i);return function(o,a){o=void 0===o?e:o;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],f=o[d],p=(0,i[d])(f,a);c[d]=p,l=l||p!==f}return l?c:o}}function i4(...n){return function(e){if(0===n.length)return e;const t=n[n.length-1];return n.slice(0,-1).reduceRight((r,s)=>s(r),t(e))}}function r4(n,e){return Array.isArray(e)&&e.length>0&&(n=i4.apply(null,[...e,n])),(t,i)=>{const r=n(t);return(s,o)=>r(s=void 0===s?i:s,o)}}new E("@ngrx/store Root Store Provider"),new E("@ngrx/store Feature State Provider");class By extends Ke{}class s4 extends Bl{}let Rf=(()=>{class n extends ai{get currentReducers(){return this.reducers}constructor(t,i,r,s){super(s(r,i)),this.dispatcher=t,this.initialState=i,this.reducers=r,this.reducerFactory=s}addFeature(t){this.addFeatures([t])}addFeatures(t){const i=t.reduce((r,{reducers:s,reducerFactory:o,metaReducers:a,initialState:l,key:c})=>{const u="function"==typeof s?function ume(n){const e=Array.isArray(n)&&n.length>0?i4(...n):t=>t;return(t,i)=>(t=e(t),(r,s)=>t(r=void 0===r?i:r,s))}(a)(s,l):r4(o,a)(s,l);return r[c]=u,r},{});this.addReducers(i)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(i=>i.key))}addReducer(t,i){this.addReducers({[t]:i})}addReducers(t){this.reducers={...this.reducers,...t},this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(i=>{this.reducers=function cme(n,e){return Object.keys(n).filter(t=>t!==e).reduce((t,i)=>Object.assign(t,{[i]:n[i]}),{})}(this.reducers,i)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(t){return new(t||n)(b(s4),b(yT),b(qz),b(Gz))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const hme=[Rf,{provide:By,useExisting:Rf},{provide:s4,useExisting:Bl}];let Nf=(()=>{class n extends se{ngOnDestroy(){this.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=on(n)))(i||n)}}(),n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const fme=[Nf];class o4 extends Ke{}let a4=(()=>{class n extends ai{constructor(t,i,r,s){super(s);const a=t.pipe(vh(Pz)).pipe(function Wpe(...n){const e=bE(n);return mt((t,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)yn(n[l]).subscribe(Qe(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(io))&&(o=null))},gh));t.subscribe(Qe(i,l=>{if(a){const c=[l,...s];i.next(e?e(...c):c)}}))})}(i)),c=a.pipe(Fz(pme,{state:s}));this.stateSubscription=c.subscribe(({state:u,action:d})=>{this.next(u),r.next(d)}),this.state=Hz(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return n.INIT=$z,n.\u0275fac=function(t){return new(t||n)(b(Bl),b(By),b(Nf),b(yT))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function pme(n={state:void 0},[e,t]){const{state:i}=n;return{state:t(i,e),action:e}}const mme=[a4,{provide:o4,useExisting:a4}];let xs=(()=>{class n extends Ke{constructor(t,i,r){super(),this.actionsObserver=i,this.reducerManager=r,this.source=t,this.state=t.state}select(t,...i){return _me.call(null,t,...i)(this)}selectSignal(t,i){return cV(()=>t(this.state()),{equal:i?.equal||((r,s)=>r===s)})}lift(t){const i=new n(this,this.actionsObserver,this.reducerManager);return i.operator=t,i}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,i){this.reducerManager.addReducer(t,i)}removeReducer(t){this.reducerManager.removeReducer(t)}}return n.\u0275fac=function(t){return new(t||n)(b(o4),b(Bl),b(Rf))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const gme=[xs];function _me(n,e,...t){return function(r){let s;if("string"==typeof n){const o=[e,...t].filter(Boolean);s=r.pipe(function Kpe(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return le(t=>{let i=t;for(let r=0;r<e;r++){const s=i?.[n[r]];if(!(typeof s<"u"))return;i=s}return i})}(n,...o))}else{if("function"!=typeof n)throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);s=r.pipe(le(o=>n(o,e)))}return s.pipe(Ag())}}const DT="https://ngrx.io/guide/store/configuration/runtime-checks";function l4(n){return void 0===n}function c4(n){return null===n}function u4(n){return Array.isArray(n)}function d4(n){return"object"==typeof n&&null!==n}function TT(n){return"function"==typeof n}function Nme(n){return n instanceof E?N(n):n}function Ome(n,e){return e.map((t,i)=>{if(n[i]instanceof E){const r=N(n[i]);return{key:t.key,reducerFactory:r.reducerFactory?r.reducerFactory:IT,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return t})}function Pme(n){return n.map(e=>e instanceof E?N(e):e)}function AT(n){return"function"==typeof n?n():n}function Fme(n,e){return n.concat(e)}function Lme(){if(N(xs,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function MT(n){Object.freeze(n);const e=TT(n);return Object.getOwnPropertyNames(n).forEach(t=>{if(!t.startsWith("\u0275")&&function Cme(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(n,t)&&(!e||"caller"!==t&&"callee"!==t&&"arguments"!==t)){const i=n[t];(d4(i)||TT(i))&&!Object.isFrozen(i)&&MT(i)}}),n}function kT(n,e=[]){return(l4(n)||c4(n))&&0===e.length?{path:["root"],value:n}:Object.keys(n).reduce((i,r)=>{if(i)return i;const s=n[r];return function Eme(n){return TT(n)&&n.hasOwnProperty("\u0275cmp")}(s)?i:!(l4(s)||c4(s)||function bme(n){return"number"==typeof n}(s)||function vme(n){return"boolean"==typeof n}(s)||function yme(n){return"string"==typeof n}(s)||u4(s))&&(function h4(n){if(!function wme(n){return d4(n)&&!u4(n)}(n))return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||null===e}(s)?kT(s,[...e,r]):{path:[...e,r],value:s})},!1)}function m4(n,e){if(!1===n)return;const t=n.path.join("."),i=new Error(`Detected unserializable ${e} at "${t}". ${DT}#strict${e}serializability`);throw i.value=n.value,i.unserializablePath=t,i}function jme(n){return{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Hme({strictActionSerializability:n,strictStateSerializability:e}){return t=>n||e?function Bme(n,e){return function(t,i){e.action(i)&&m4(kT(i),"action");const r=n(t,i);return e.state()&&m4(kT(r),"state"),r}}(t,{action:i=>n&&!RT(i),state:()=>e}):t}function $me({strictActionImmutability:n,strictStateImmutability:e}){return t=>n||e?function Vme(n,e){return function(t,i){const r=e.action(i)?MT(i):i,s=n(t,r);return e.state()?MT(s):s}}(t,{action:i=>n&&!RT(i),state:()=>e}):t}function RT(n){return n.type.startsWith("@ngrx")}function zme({strictActionWithinNgZone:n}){return e=>n?function Ume(n,e){return function(t,i){if(e.action(i)&&!q.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${DT}#strictactionwithinngzone`);return n(t,i)}}(e,{action:t=>n&&!RT(t)}):e}function Gme(n){return[{provide:t4,useValue:n},{provide:e4,useFactory:Wme,deps:[t4]},{provide:Mf,deps:[e4],useFactory:jme},{provide:Vy,multi:!0,deps:[Mf],useFactory:$me},{provide:Vy,multi:!0,deps:[Mf],useFactory:Hme},{provide:Vy,multi:!0,deps:[Mf],useFactory:zme}]}function g4(){return[{provide:kf,multi:!0,deps:[Mf],useFactory:qme}]}function Wme(n){return n}function qme(n){if(!n.strictActionTypeUniqueness)return;const e=Object.entries(Af).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${DT}#strictactiontypeuniqueness`)}function _4(n={},e={}){return[{provide:_T,useFactory:Lme},{provide:zz,useValue:e.initialState},{provide:yT,useFactory:AT,deps:[zz]},{provide:vT,useValue:n},{provide:Yz,useExisting:n instanceof E?n:vT},{provide:qz,deps:[vT,[new oC(Yz)]],useFactory:Nme},{provide:Zz,useValue:e.metaReducers?e.metaReducers:[]},{provide:Jz,deps:[Vy,Zz],useFactory:Fme},{provide:Wz,useValue:e.reducerFactory?e.reducerFactory:IT},{provide:Gz,deps:[Wz,Jz],useFactory:r4},lme,hme,fme,mme,gme,Gme(e.runtimeChecks),g4()]}function y4(n,e,t={}){return[{provide:Qz,multi:!0,useValue:n instanceof Object?{}:t},{provide:Kz,multi:!0,useValue:{key:n instanceof Object?n.name:n,reducerFactory:t instanceof E||!t.reducerFactory?IT:t.reducerFactory,metaReducers:t instanceof E||!t.metaReducers?[]:t.metaReducers,initialState:t instanceof E||!t.initialState?void 0:t.initialState}},{provide:wT,deps:[Qz,Kz],useFactory:Ome},{provide:bT,multi:!0,useValue:n instanceof Object?n.reducer:e},{provide:Xz,multi:!0,useExisting:e instanceof E?e:bT},{provide:ET,multi:!0,deps:[bT,[new oC(Xz)]],useFactory:Pme},g4()]}let Uy=(()=>{class n{constructor(t,i,r,s,o,a){}}return n.\u0275fac=function(t){return new(t||n)(b(Bl),b(By),b(Nf),b(xs),b(_T,8),b(kf,8))},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})(),NT=(()=>{class n{constructor(t,i,r,s,o){this.features=t,this.featureReducers=i,this.reducerManager=r;const a=t.map((l,c)=>{const d=i.shift()[c];return{...l,reducers:d,initialState:AT(l.initialState)}});r.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return n.\u0275fac=function(t){return new(t||n)(b(wT),b(ET),b(Rf),b(Uy),b(kf,8))},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})(),Zme=(()=>{class n{static forRoot(t,i){return{ngModule:Uy,providers:[..._4(t,i)]}}static forFeature(t,i,r={}){return{ngModule:NT,providers:[...y4(t,i,r)]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})();function Nr(...n){return{reducer:n.pop(),types:n.map(i=>i.type)}}function v4(n,...e){const t=new Map;for(const i of e)for(const r of i.types){const s=t.get(r);t.set(r,s?(a,l)=>i.reducer(s(a,l),l):i.reducer)}return function(i=n,r){const s=t.get(r.type);return s?s(i,r):i}}function Ul(n,e){const t=Ue(n)?n:()=>n,i=r=>r.error(t());return new Ke(e?r=>e.schedule(i,0,r):i)}class Io{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){return b4(this,e)}do(e,t,i){const{kind:r,value:s,error:o}=this;return"N"===r?e?.(s):"E"===r?t?.(o):i?.()}accept(e,t,i){var r;return Ue(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,i)}toObservable(){const{kind:e,value:t,error:i}=this,r="N"===e?Y(t):"E"===e?Ul(()=>i):"C"===e?Er:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new Io("N",e)}static createError(e){return new Io("E",void 0,e)}static createComplete(){return Io.completeNotification}}function b4(n,e){var t,i,r;const{kind:s,value:o,error:a}=n;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(t=e.next)||void 0===t||t.call(e,o):"E"===s?null===(i=e.error)||void 0===i||i.call(e,a):null===(r=e.complete)||void 0===r||r.call(e)}function Or(n){return mt((e,t)=>{let s,i=null,r=!1;i=e.subscribe(Qe(t,void 0,void 0,o=>{s=yn(n(o,Or(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Jt(n,e){return mt((t,i)=>{let r=0;t.subscribe(Qe(i,s=>n.call(e,s,r++)&&i.next(s)))})}function OT(n,e,t,i){return mt((r,s)=>{let o;e&&"function"!=typeof e?({duration:t,element:o,connector:i}=e):o=e;const a=new Map,l=p=>{a.forEach(p),p(s)},c=p=>l(m=>m.error(p));let u=0,d=!1;const h=new bL(s,p=>{try{const m=n(p);let g=a.get(m);if(!g){a.set(m,g=i?i():new se);const w=function f(p,m){const g=new Ke(w=>{u++;const v=m.subscribe(w);return()=>{v.unsubscribe(),0==--u&&d&&h.unsubscribe()}});return g.key=p,g}(m,g);if(s.next(w),t){const v=Qe(g,()=>{g.complete(),v?.unsubscribe()},void 0,void 0,()=>a.delete(m));h.add(yn(t(w)).subscribe(v))}}g.next(o?o(p):p)}catch(m){c(m)}},()=>l(p=>p.complete()),c,()=>a.clear(),()=>(d=!0,0===u));r.subscribe(h)})}function w4(n,e){return e?t=>t.pipe(w4((i,r)=>yn(n(i,r)).pipe(le((s,o)=>e(i,s,r,o))))):mt((t,i)=>{let r=0,s=null,o=!1;t.subscribe(Qe(i,a=>{s||(s=Qe(i,void 0,()=>{s=null,o&&i.complete()}),yn(n(a,r++)).subscribe(s))},()=>{o=!0,!s&&i.complete()}))})}function Kn(n){return n<=0?()=>Er:mt((e,t)=>{let i=0;e.subscribe(Qe(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}Io.completeNotification=new Io("C");const nge={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},jy="__@ngrx/effects_create__";function PT(n,e={}){const t=e.functional?n:n(),i={...nge,...e};return Object.defineProperty(t,jy,{value:i}),t}function C4(n){return Object.getPrototypeOf(n)}function FT(n){return"function"==typeof n}function LT(n){return n.filter(FT)}function oge(n,e,t){const i=C4(n).constructor.name,r=function E4(n){return function ige(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(jy))&&n[i][jy].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][jy]}))}(n)}(n).map(({propertyName:s,dispatch:o,useEffectsErrorHandler:a})=>{const l="function"==typeof n[s]?n[s]():n[s],c=a?t(l,e):l;return!1===o?c.pipe(function Jme(){return mt((n,e)=>{n.subscribe(Qe(e,gh))})}()):c.pipe(function ege(){return mt((n,e)=>{n.subscribe(Qe(e,t=>{e.next(Io.createNext(t))},()=>{e.next(Io.createComplete()),e.complete()},t=>{e.next(Io.createError(t)),e.complete()}))})}()).pipe(le(d=>({effect:n[s],notification:d,propertyName:s,sourceName:i,sourceInstance:n})))});return so(...r)}function I4(n,e,t=10){return n.pipe(Or(i=>(e&&e.handleError(i),t<=1?n:I4(n,e,t-1))))}let lge=(()=>{class n extends Ke{constructor(t){super(),t&&(this.source=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}}return n.\u0275fac=function(t){return new(t||n)(b(Nf))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VT(...n){return Jt(e=>n.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}const D4=new E("@ngrx/effects Internal Root Guard"),Hy=new E("@ngrx/effects User Provided Effects"),BT=new E("@ngrx/effects Internal Root Effects"),T4=new E("@ngrx/effects Internal Root Effects Instances"),S4=new E("@ngrx/effects Internal Feature Effects"),x4=new E("@ngrx/effects Internal Feature Effects Instance Groups"),cge=new E("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>I4}),A4="@ngrx/effects/init";Ii(A4);function bge(n){return UT(n,"ngrxOnInitEffects")}function UT(n,e){return n&&e in n&&"function"==typeof n[e]}let jT=(()=>{class n extends se{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(OT(t=>function rge(n){return"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(t)?C4(t):t),Yt(t=>t.pipe(OT(wge))),Yt(t=>{const i=t.pipe(w4(s=>function Ege(n,e){return t=>{const i=oge(t,n,e);return function yge(n){return UT(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(s)),le(s=>(function dge(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function hge(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function fge({propertyName:n,sourceInstance:e,sourceName:t}){const i="function"==typeof e[n];return`"${t}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function pge(n){try{return JSON.stringify(n)}catch{return n}}(t)}`))}}(s,this.errorHandler),s.notification)),Jt(s=>"N"===s.kind&&null!=s.value),function tge(){return mt((n,e)=>{n.subscribe(Qe(e,t=>b4(t,e)))})}());return so(i,t.pipe(Kn(1),Jt(bge),le(s=>s.ngrxOnInitEffects())))}))}}return n.\u0275fac=function(t){return new(t||n)(b(vs),b(cge))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wge(n){return function gge(n){return UT(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let $T,HT=(()=>{class n{get isStarted(){return!!this.effectsSubscription}constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(b(jT),b(xs))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M4=(()=>{class n{constructor(t,i,r,s,o,a,l){this.sources=t,i.start();for(const c of s)t.addEffects(c);r.dispatch({type:A4})}addEffects(t){this.sources.addEffects(t)}}return n.\u0275fac=function(t){return new(t||n)(b(jT),b(HT),b(xs),b(T4),b(Uy,8),b(NT,8),b(D4,8))},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})(),Cge=(()=>{class n{constructor(t,i,r,s){const o=i.flat();for(const a of o)t.addEffects(a)}}return n.\u0275fac=function(t){return new(t||n)(b(M4),b(x4),b(Uy,8),b(NT,8))},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})(),Ige=(()=>{class n{static forFeature(...t){const i=t.flat(),r=LT(i);return{ngModule:Cge,providers:[r,{provide:S4,multi:!0,useValue:i},{provide:Hy,multi:!0,useValue:[]},{provide:x4,multi:!0,useFactory:k4,deps:[S4,Hy]}]}}static forRoot(...t){const i=t.flat(),r=LT(i);return{ngModule:M4,providers:[r,{provide:BT,useValue:[i]},{provide:D4,useFactory:Dge},{provide:Hy,multi:!0,useValue:[]},{provide:T4,useFactory:k4,deps:[BT,Hy]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})();function k4(n,e){const t=[];for(const i of n)t.push(...i);for(const i of e)t.push(...i);return t.map(i=>function sge(n){return n instanceof E||FT(n)}(i)?N(i):i)}function Dge(){const n=N(HT,{optional:!0,skipSelf:!0}),e=N(BT,{self:!0});if((1!==e.length||0!==e[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}try{$T=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$T=!1}let Vu,zt=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?SD(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$T)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(b(Hr))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const R4=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function N4(){if(Vu)return Vu;if("object"!=typeof document||!document)return Vu=new Set(R4),Vu;let n=document.createElement("input");return Vu=new Set(R4.filter(e=>(n.setAttribute("type",e),n.type===e))),Vu}let Of,jl,zT;function pa(n){return function Tge(){if(null==Of&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Of=!0}))}finally{Of=Of||!1}return Of}()?n:!!n.capture}function Sge(){if(null==jl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return jl=!1,jl;if("scrollBehavior"in document.documentElement.style)jl=!0;else{const n=Element.prototype.scrollTo;jl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return jl}function Pf(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ma(n){return n.composedPath?n.composedPath()[0]:n.target}function GT(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ga(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function O4(n){return Jt((e,t)=>n<=t)}function _a(n){return mt((e,t)=>{yn(n).subscribe(Qe(t,()=>t.complete(),gh)),!t.closed&&e.subscribe(t)})}function Ft(n){return null!=n&&"false"!=`${n}`}function hi(n,e=0){return function Pge(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Yy(n){return Array.isArray(n)?n:[n]}function un(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Do(n){return n instanceof we?n.nativeElement:n}const Qy=new Oy(Ny),Lge=Qy;function P4(n,e=Qy){return mt((t,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(Qe(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}let F4=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vge=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Do(t);return new Ke(r=>{const o=this._observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new se,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(b(F4))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bge=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Ft(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=hi(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new Q,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(P4(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(_(Vge),_(we),_(q))},n.\u0275dir=F({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),L4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[F4]}),n})();const{isArray:Uge}=Array,{getPrototypeOf:jge,prototype:Hge,keys:$ge}=Object;function V4(n){if(1===n.length){const e=n[0];if(Uge(e))return{args:e,keys:null};if(function zge(n){return n&&"object"==typeof n&&jge(n)===Hge}(e)){const t=$ge(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Gge}=Array;function KT(n){return le(e=>function Wge(n,e){return Gge(e)?n(...e):n(e)}(n,e))}function B4(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function YT(...n){const e=yh(n),t=bE(n),{args:i,keys:r}=V4(n);if(0===i.length)return vn([],e);const s=new Ke(function qge(n,e,t=io){return i=>{U4(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)U4(e,()=>{const c=vn(n[l],e);let u=!1;c.subscribe(Qe(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>B4(r,o):io));return t?s.pipe(KT(t)):s}function U4(n,e,t){n?ro(t,n,e):e()}function Xy(...n){return function Kge(){return Sg(1)}()(vn(n,yh(n)))}function ya(...n){const e=yh(n);return mt((t,i)=>{(e?Xy(n,t,e):Xy(n,t)).subscribe(i)})}const j4=new Set;let Hl,Yge=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xge}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Qge(n,e){if(!j4.has(n))try{Hl||(Hl=document.createElement("style"),e&&(Hl.nonce=e),Hl.setAttribute("type","text/css"),document.head.appendChild(Hl)),Hl.sheet&&(Hl.sheet.insertRule(`@media ${n} {body{ }}`,0),j4.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(b(zt),b(BC,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xge(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let QT=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new se}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return H4(Yy(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=YT(H4(Yy(t)).map(o=>this._registerQuery(o).observable));return s=Xy(s.pipe(Kn(1)),s.pipe(O4(1),P4(0))),s.pipe(le(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Ke(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(ya(i),le(({matches:o})=>({query:t,matches:o})),_a(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(b(Yge),b(q))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function H4(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let Zy=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function n_e(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function t_e(n){try{return n.frameElement}catch{return null}}(function u_e(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===W4(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=W4(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function l_e(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function c_e(n){return!function r_e(n){return function o_e(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function i_e(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function s_e(n){return function a_e(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||G4(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(b(zt))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function G4(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function W4(n){if(!G4(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class d_e{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Kn(1)).subscribe(e)}}let Jy=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new d_e(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(b(Zy),b(q),b(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h_e=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=Ft(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=Ft(t)}constructor(t,i,r){this._elementRef=t,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const i=t.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Pf(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(Jy),_(ye))},n.\u0275dir=F({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Qt]}),n})();function q4(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function K4(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const f_e=new E("cdk-input-modality-detector-options"),p_e={ignoreKeys:[18,17,224,91,16]},ju=pa({passive:!0,capture:!0});let m_e=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new ai(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ma(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(q4(o)?"keyboard":"mouse"),this._mostRecentTarget=ma(o))},this._onTouchstart=o=>{K4(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ma(o))},this._options={...p_e,...s},this.modalityDetected=this._modality.pipe(O4(1)),this.modalityChanged=this.modalityDetected.pipe(Ag()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ju),r.addEventListener("mousedown",this._onMousedown,ju),r.addEventListener("touchstart",this._onTouchstart,ju)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ju),document.removeEventListener("mousedown",this._onMousedown,ju),document.removeEventListener("touchstart",this._onTouchstart,ju))}}return n.\u0275fac=function(t){return new(t||n)(b(zt),b(q),b(ye),b(f_e,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const g_e=new E("liveAnnouncerElement",{providedIn:"root",factory:function __e(){return null}}),y_e=new E("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let v_e=0,Q4=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+v_e++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(b(g_e,8),b(q),b(ye),b(y_e,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b_e=new E("cdk-focus-monitor-default-options"),ev=pa({passive:!0,capture:!0});let Hu=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new se,this._rootNodeFocusAndBlurListener=a=>{for(let c=ma(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,i=!1){const r=Do(t);if(!this._platform.isBrowser||1!==r.nodeType)return Y(null);const s=function Age(n){if(function xge(){if(null==zT){const n=typeof document<"u"?document.head:null;zT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return zT}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new se,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Do(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Do(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=ma(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ev),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ev)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_a(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ev),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ev),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(b(q),b(zt),b(m_e),b(ye,8),b(b_e,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w_e=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Q}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(Hu))},n.\u0275dir=F({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const X4="cdk-high-contrast-black-on-white",Z4="cdk-high-contrast-white-on-black",XT="cdk-high-contrast-active";let J4=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=N(QT).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(XT,X4,Z4),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(XT,X4):2===i&&t.add(XT,Z4)}}}return n.\u0275fac=function(t){return new(t||n)(b(zt),b(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e3=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(b(J4))},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[L4]}),n})();const E_e=new E("cdk-dir-doc",{providedIn:"root",factory:function C_e(){return N(ye)}}),I_e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let va=(()=>{class n{constructor(t){this.value="ltr",this.change=new Q,t&&(this.value=function D_e(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?I_e.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(b(E_e,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})();const S_e=new E("mat-sanity-checks",{providedIn:"root",factory:function T_e(){return!0}});let Dt=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!GT()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(b(J4),b(S_e,8),b(ye))},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Vf,Vf]}),n})();function x_e(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Ft(e)}constructor(...e){super(...e),this._disabled=!1}}}function tv(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function r3(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ft(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function A_e(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}const M_e=new E("MAT_DATE_LOCALE",{providedIn:"root",factory:function k_e(){return N(Ds)}});class Yn{constructor(){this._localeChanges=new se,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const $l=new E("mat-date-formats"),R_e=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ZT(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let N_e=(()=>{class n extends Yn{constructor(t,i){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return ZT(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return ZT(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return ZT(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let s=this._createDateWithOverflow(t,i,r);return s.getMonth(),s}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(R_e.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const s=new Date;return s.setFullYear(t,i,r),s.setHours(0,0,0,0),s}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}}return n.\u0275fac=function(t){return new(t||n)(b(M_e,8),b(zt))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const O_e={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let P_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[{provide:Yn,useClass:N_e}]}),n})(),F_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[{provide:$l,useValue:O_e}],imports:[P_e]}),n})(),L_e=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class V_e{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const s3=pa({passive:!0,capture:!0});class B_e{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ma(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,s3)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,s3)))}}const o3={enterDuration:225,exitDuration:150},a3=pa({passive:!0,capture:!0}),l3=["mousedown","touchstart"],c3=["mouseup","mouseleave","touchend","touchcancel"];class $u{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Do(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...o3,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function j_e(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,m=new V_e(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const w=()=>this._finishRippleTransition(m),v=()=>this._destroyRipple(m);u.addEventListener("transitionend",w),u.addEventListener("transitioncancel",v),g={onTransitionEnd:w,onTransitionCancel:v}}),this._activeRipples.set(m,g),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...o3,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Do(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,l3.forEach(i=>{$u._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{c3.forEach(t=>{this._triggerElement.addEventListener(t,this,a3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=q4(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!K4(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(l3.forEach(t=>$u._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&c3.forEach(t=>e.removeEventListener(t,this,a3)))}}$u._eventManager=new B_e;const u3=new E("mat-ripple-global-options");let d3=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new $u(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(q),_(zt),_(u3,8),_($r,8))},n.\u0275dir=F({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&ct("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),JT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Dt,Dt]}),n})();function Dn(n,e,t){const i=Ue(n)||e||t?{next:n,error:e,complete:t}:n;return i?mt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Qe(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):io}function nv(n){return mt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Uf(n,e){return Ue(e)?Yt(n,e,1):Yt(n,1)}let vye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Dt,Dt]}),n})();const bye=["mat-button",""],wye=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Eye=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Iye=["mat-icon-button",""],Dye=["*"],A3={capture:!0},M3=["focus","click","mouseenter","touchstart"],zf="mat-button-ripple-uninitialized";let Tye=(()=>{class n{constructor(){this._document=N(ye,{optional:!0}),this._animationMode=N($r,{optional:!0}),this._globalRippleOptions=N(u3,{optional:!0}),this._platform=N(zt),this._ngZone=N(q),this._onInteraction=t=>{if(t.target===this._document)return;const r=t.target.closest(`[${zf}]`);r&&(r.removeAttribute(zf),this._appendRipple(r))},this._ngZone.runOutsideAngular(()=>{for(const t of M3)this._document?.addEventListener(t,this._onInteraction,A3)})}ngOnDestroy(){for(const t of M3)this._document?.removeEventListener(t,this._onInteraction,A3)}_appendRipple(t){if(!this._document)return;const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new Sye(t,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);r.rippleConfig.centered=t.hasAttribute("mat-icon-button"),new $u(r,this._ngZone,i,this._platform).setupTriggerEvents(t),t.append(i)}_createMatRipple(t){if(!this._document)return;t.querySelector(".mat-mdc-button-ripple")?.remove(),t.removeAttribute(zf);const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new d3(new we(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,t.append(i),r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Sye{constructor(e,t,i){this._button=e,this._globalRippleOptions=t,this._setRippleConfig(t,i)}_setRippleConfig(e,t){this.rippleConfig=e||{},"NoopAnimations"===t&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const xye=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Aye=tv(x_e(r3(class{constructor(n){this._elementRef=n}})));let k3=(()=>{class n extends Aye{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(t){this._ripple=t}constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=N(Hu),this._rippleLoader=N(Tye),this._isFab=!1;const o=t.nativeElement.classList;for(const a of xye)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{o.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}}return n.\u0275fac=function(t){x_()},n.\u0275dir=F({type:n,features:[me,Qt]}),n})(),Wu=(()=>{class n extends k3{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(zt),_(q),_($r,8))},n.\u0275cmp=lt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(t,i){2&t&&(Pe("disabled",i.disabled||null),ct("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[me],attrs:bye,ngContentSelectors:Eye,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(Tr(wye),Je(0,"span",0),gt(1),O(2,"span",1),gt(3,1),P(),gt(4,2),Je(5,"span",2)(6,"span",3)),2&t&&ct("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),R3=(()=>{class n extends k3{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(zt),_(q),_($r,8))},n.\u0275cmp=lt({type:n,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(t,i){2&t&&(Pe("disabled",i.disabled||null),ct("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[me],attrs:Iye,ngContentSelectors:Dye,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(Tr(),Je(0,"span",0),gt(1),Je(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),sS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Dt,JT,Dt]}),n})();const Rye=["*",[["mat-toolbar-row"]]],Nye=["*","mat-toolbar-row"],Oye=tv(class{constructor(n){this._elementRef=n}});let Pye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Fye=(()=>{class n extends Oye{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(zt),_(ye))},n.\u0275cmp=lt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&Sr(r,Pye,5),2&t){let s;rt(s=st())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&ct("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[me],ngContentSelectors:Nye,decls:2,vars:0,template:function(t,i){1&t&&(Tr(Rye),gt(0),gt(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Lye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Dt,Dt]}),n})();const Vye=["*"],jye=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Hye=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],$ye=new E("MAT_CARD_CONFIG");let N3=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(_($ye,8))},n.\u0275cmp=lt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&ct("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Vye,decls:1,vars:0,template:function(t,i){1&t&&(Tr(),gt(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),O3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),P3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),F3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),n})(),L3=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(t,i){2&t&&ct("mat-mdc-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),V3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=lt({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Hye,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(Tr(jye),gt(0),O(1,"div",0),gt(2,1),P(),gt(3,2))},encapsulation:2,changeDetection:0}),n})(),Gye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Dt,Ol,Dt]}),n})(),Wye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Dt,Dt]}),n})(),B3=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(_(po),_(we))},n.\u0275dir=F({type:n}),n})(),Gl=(()=>{class n extends B3{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=on(n)))(i||n)}}(),n.\u0275dir=F({type:n,features:[me]}),n})();const zi=new E("NgValueAccessor"),Kye={provide:zi,useExisting:Xe(()=>lv),multi:!0},Qye=new E("CompositionEventMode");let lv=(()=>{class n extends B3{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Yye(){const n=ua()?ua().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(_(po),_(we),_(Qye,8))},n.\u0275dir=F({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Me("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ge([Kye]),me]}),n})();function wa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function j3(n){return null!=n&&"number"==typeof n.length}const Xn=new E("NgValidators"),Ea=new E("NgAsyncValidators"),Xye=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gf{static min(e){return function H3(n){return e=>{if(wa(e.value)||wa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function $3(n){return e=>{if(wa(e.value)||wa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function z3(n){return wa(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function G3(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function W3(n){return wa(n.value)||Xye.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function q3(n){return e=>wa(e.value)||!j3(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function K3(n){return e=>j3(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Y3(n){if(!n)return cv;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(wa(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return tG(e)}static composeAsync(e){return nG(e)}}function cv(n){return null}function Q3(n){return null!=n}function X3(n){return rf(n)?vn(n):n}function Z3(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function J3(n,e){return e.map(t=>t(n))}function eG(n){return n.map(e=>function Zye(n){return!n.validate}(e)?e:t=>e.validate(t))}function tG(n){if(!n)return null;const e=n.filter(Q3);return 0==e.length?null:function(t){return Z3(J3(t,e))}}function oS(n){return null!=n?tG(eG(n)):null}function nG(n){if(!n)return null;const e=n.filter(Q3);return 0==e.length?null:function(t){return function h3(...n){const e=bE(n),{args:t,keys:i}=V4(n),r=new Ke(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;yn(t[u]).subscribe(Qe(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?B4(i,a):a),s.complete())}))}});return e?r.pipe(KT(e)):r}(J3(t,e).map(X3)).pipe(le(Z3))}}function aS(n){return null!=n?nG(eG(n)):null}function iG(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rG(n){return n._rawValidators}function sG(n){return n._rawAsyncValidators}function lS(n){return n?Array.isArray(n)?n:[n]:[]}function uv(n,e){return Array.isArray(n)?n.includes(e):n===e}function oG(n,e){const t=lS(e);return lS(n).forEach(r=>{uv(t,r)||t.push(r)}),t}function aG(n,e){return lS(e).filter(t=>!uv(n,t))}class lG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Di extends lG{get formDirective(){return null}get path(){return null}}class So extends lG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let uG=(()=>{class n extends cG{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(_(So,2))},n.\u0275dir=F({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&ct("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[me]}),n})(),dG=(()=>{class n extends cG{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(_(Di,10))},n.\u0275dir=F({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&ct("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[me]}),n})();const Wf="VALID",hv="INVALID",qu="PENDING",qf="DISABLED";function dS(n){return(fv(n)?n.validators:n)||null}function hS(n,e){return(fv(e)?e.asyncValidators:n)||null}function fv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function fG(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new T(1e3,"");if(!i[t])throw new T(1001,"")}function pG(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new T(1002,"")})}class pv{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wf}get invalid(){return this.status===hv}get pending(){return this.status==qu}get disabled(){return this.status===qf}get enabled(){return this.status!==qf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aG(e,this._rawAsyncValidators))}hasValidator(e){return uv(this._rawValidators,e)}hasAsyncValidator(e){return uv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qf,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wf,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wf||this.status===qu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qf:Wf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qu,this._hasOwnPendingAsyncValidator=!0;const t=X3(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Q,this.statusChanges=new Q}_calculateStatus(){return this._allControlsDisabled()?qf:this.errors?hv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qu)?qu:this._anyControlsHaveStatus(hv)?hv:Wf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function nve(n){return Array.isArray(n)?oS(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function ive(n){return Array.isArray(n)?aS(n):n||null}(this._rawAsyncValidators)}}class Kf extends pv{constructor(e,t,i){super(dS(t),hS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){pG(this,0,e),Object.keys(e).forEach(i=>{fG(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class mG extends Kf{}const Wl=new E("CallSetDisabledState",{providedIn:"root",factory:()=>Yf}),Yf="always";function Qf(n,e,t=Yf){fS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function sve(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gG(n,e)})}(n,e),function ave(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ove(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gG(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function rve(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function gv(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),yv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _v(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fS(n,e){const t=rG(n);null!==e.validator?n.setValidators(iG(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=sG(n);null!==e.asyncValidator?n.setAsyncValidators(iG(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();_v(e._rawValidators,r),_v(e._rawAsyncValidators,r)}function yv(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=rG(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=sG(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return _v(e._rawValidators,i),_v(e._rawAsyncValidators,i),t}function gG(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _G(n,e){fS(n,e)}function yG(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const hve={provide:Di,useExisting:Xe(()=>vv)},Xf=(()=>Promise.resolve())();let vv=(()=>{class n extends Di{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Q,this.form=new Kf({},oS(t),aS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xf.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Qf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xf.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xf.then(()=>{const i=this._findContainer(t.path),r=new Kf({});_G(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xf.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Xf.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,yG(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(_(Xn,10),_(Ea,10),_(Wl,8))},n.\u0275dir=F({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&Me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([hve]),me]}),n})();function vG(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function bG(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Zf=class extends pv{constructor(e=null,t,i){super(dS(t),hS(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=bG(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let DG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),SG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})();const _S=new E("NgModelWithFormControlWarning"),wve={provide:Di,useExisting:Xe(()=>Jf)};let Jf=(()=>{class n extends Di{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Q,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Qf(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){gv(t.control||null,t,!1),function dve(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,yG(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(gv(i||null,t),(n=>n instanceof Zf)(r)&&(Qf(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);_G(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function lve(n,e){return yv(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fS(this.form,this),this._oldForm&&yv(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(_(Xn,10),_(Ea,10),_(Wl,8))},n.\u0275dir=F({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&Me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([wve]),me,Qt]}),n})();const Ive={provide:So,useExisting:Xe(()=>bS)};let bS=(()=>{class n extends So{set isDisabled(t){}constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Q,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function gS(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===lv?t=s:function uve(n){return Object.getPrototypeOf(n.constructor)===Gl}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function mS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function mv(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(_(Di,13),_(Xn,10),_(Ea,10),_(zi,10),_(_S,8))},n.\u0275dir=F({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ge([Ive]),me,Qt]}),n})(),$G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[SG]}),n})();class zG extends pv{constructor(e,t,i){super(dS(t),hS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){pG(this,0,e),e.forEach((i,r)=>{fG(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function GG(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Bve=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return GG(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Kf(r,s)}record(t,i=null){const r=this._reduceControls(t);return new mG(r,i)}control(t,i,r){let s={};return this.useNonNullable?(GG(i)?s=i:(s.validators=i,s.asyncValidators=r),new Zf(t,{...s,nonNullable:!0})):new Zf(t,i,r)}array(t,i,r){const s=t.map(o=>this._createControl(o));return new zG(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Zf||t instanceof pv?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uve=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wl,useValue:t.callSetDisabledState??Yf}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[$G]}),n})(),jve=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_S,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Wl,useValue:t.callSetDisabledState??Yf}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[$G]}),n})();const Hve=["addListener","removeListener"],$ve=["addEventListener","removeEventListener"],zve=["on","off"];function bv(n,e,t,i){if(Ue(t)&&(i=t,t=void 0),i)return bv(n,e,t).pipe(KT(i));const[r,s]=function qve(n){return Ue(n.addEventListener)&&Ue(n.removeEventListener)}(n)?$ve.map(o=>a=>n[o](e,a,t)):function Gve(n){return Ue(n.addListener)&&Ue(n.removeListener)}(n)?Hve.map(WG(n,e)):function Wve(n){return Ue(n.on)&&Ue(n.off)}(n)?zve.map(WG(n,e)):[];if(!r&&yE(n))return Yt(o=>bv(o,e,t))(yn(n));if(!r)throw new TypeError("Invalid event target");return new Ke(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function WG(n,e){return t=>i=>n[t](e,i)}function IS(n,e=Qy){return function Kve(n){return mt((e,t)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(Qe(t,c=>{i=!0,r=c,s||yn(n(c)).subscribe(s=Qe(t,a,l))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function Qve(n=0,e,t=Lge){let i=-1;return null!=e&&(NL(e)?t=e:i=e),new Ke(r=>{let s=function Yve(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}const qG=pa({passive:!0});let Xve=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Er;const i=Do(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new se,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,qG),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",a,qG)}}),s}stopMonitoring(t){const i=Do(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(b(zt),b(q))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zve=(()=>{class n{get minRows(){return this._minRows}set minRows(t){this._minRows=hi(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=hi(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=Ft(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(t){this._cachedPlaceholderHeight=void 0,t?this._textareaElement.setAttribute("placeholder",t):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}constructor(t,i,r,s){this._elementRef=t,this._platform=i,this._ngZone=r,this._destroyed=new se,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=o=>{this._hasFocus="focus"===o.type},this._document=s,this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{bv(this._getWindow(),"resize").pipe(IS(16),_a(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,t.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const t=this._textareaElement,i=t.style.marginBottom||"",r=this._platform.FIREFOX,s=r&&this._hasFocus,o=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";s&&(t.style.marginBottom=`${t.clientHeight}px`),t.classList.add(o);const a=t.scrollHeight-4;return t.classList.remove(o),s&&(t.style.marginBottom=i),a}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const t=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=t}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,r=i.value;if(!t&&this._minRows===this._previousMinRows&&r===this._previousValue)return;const s=this._measureScrollHeight(),o=Math.max(s,this._cachedPlaceholderHeight||0);i.style.height=`${o}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:i,selectionEnd:r}=t;!this._destroyed.isStopped&&this._hasFocus&&t.setSelectionRange(i,r)}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(zt),_(q),_(ye,8))},n.\u0275dir=F({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,i){1&t&&Me("input",function(){return i._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),Jve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})();const ebe=["matFormFieldNotchedOutline",""],tbe=["*"],nbe=["textField"],ibe=["iconPrefixContainer"],rbe=["textPrefixContainer"];function sbe(n,e){1&n&&Je(0,"span",19)}function obe(n,e){if(1&n){const t=_o();O(0,"label",17),Me("cdkObserveContent",function(){return zn(t),Gn(Ve(2)._refreshOutlineNotchWidth())}),gt(1,1),Ie(2,sbe,1,0,"span",18),P()}if(2&n){const t=Ve(2);z("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),Pe("for",t._control.id)("aria-owns",t._control.id),L(2),z("ngIf",!t.hideRequiredMarker&&t._control.required)}}function abe(n,e){1&n&&Ie(0,obe,3,6,"label",16),2&n&&z("ngIf",Ve()._hasFloatingLabel())}function lbe(n,e){1&n&&Je(0,"div",20)}function cbe(n,e){}function ube(n,e){1&n&&Ie(0,cbe,0,0,"ng-template",22),2&n&&(Ve(2),z("ngTemplateOutlet",xu(1)))}function dbe(n,e){if(1&n&&(O(0,"div",21),Ie(1,ube,1,1,"ng-template",9),P()),2&n){const t=Ve();z("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),L(1),z("ngIf",!t._forceDisplayInfixLabel())}}function hbe(n,e){1&n&&(O(0,"div",23,24),gt(2,2),P())}function fbe(n,e){1&n&&(O(0,"div",25,26),gt(2,3),P())}function pbe(n,e){}function mbe(n,e){1&n&&Ie(0,pbe,0,0,"ng-template",22),2&n&&(Ve(),z("ngTemplateOutlet",xu(1)))}function gbe(n,e){1&n&&(O(0,"div",27),gt(1,4),P())}function _be(n,e){1&n&&(O(0,"div",28),gt(1,5),P())}function ybe(n,e){1&n&&Je(0,"div",29)}function vbe(n,e){1&n&&(O(0,"div",30),gt(1,6),P()),2&n&&z("@transitionMessages",Ve()._subscriptAnimationState)}function bbe(n,e){if(1&n&&(O(0,"mat-hint",34),Fe(1),P()),2&n){const t=Ve(2);z("id",t._hintLabelId),L(1),Is(t.hintLabel)}}function wbe(n,e){if(1&n&&(O(0,"div",31),Ie(1,bbe,2,2,"mat-hint",32),gt(2,7),Je(3,"div",33),gt(4,8),P()),2&n){const t=Ve();z("@transitionMessages",t._subscriptAnimationState),L(1),z("ngIf",t.hintLabel)}}const Ebe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Cbe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let DS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["mat-label"]]}),n})(),Ibe=0;const KG=new E("MatError");let Dbe=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+Ibe++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(bl("aria-live"),_(we))},n.\u0275dir=F({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,i){2&t&&la("id",i.id)},inputs:{id:"id"},features:[Ge([{provide:KG,useExisting:n}])]}),n})(),Tbe=0,TS=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Tbe++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(la("id",i.id),Pe("align",null),ct("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const Sbe=new E("MatPrefix"),YG=new E("MatSuffix");let xbe=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Ge([{provide:YG,useExisting:n}])]}),n})(),QG=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function Abe(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(_(we))},n.\u0275dir=F({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&ct("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const XG="mdc-line-ripple--active",wv="mdc-line-ripple--deactivating";let ZG=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(wv);"opacity"===r.propertyName&&o&&s.remove(XG,wv)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(wv),t.add(XG)}deactivate(){this._elementRef.nativeElement.classList.add(wv)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(q))},n.\u0275dir=F({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),JG=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(q))},n.\u0275cmp=lt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&ct("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:ebe,ngContentSelectors:tbe,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(Tr(),Je(0,"div",0),O(1,"div",1),gt(2),P(),Je(3,"div",2)),2&t&&(L(1),yo("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const Mbe={transitionMessages:Ef("transitionMessages",[Pl("enter",Mn({opacity:1,transform:"translateY(0%)"})),Eo("void => enter",[Mn({opacity:0,transform:"translateY(-5px)"}),wo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let eW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n}),n})();const SS=new E("MatFormField"),kbe=new E("MAT_FORM_FIELD_DEFAULT_OPTIONS");let tW=0,Obe=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ft(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,o,a,l,c){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=a,this._animationMode=l,this._document=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+tW++,this._hintLabelId="mat-mdc-hint-"+tW++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new se,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(_a(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),so(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(_a(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(_a(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(qn),_(q),_(va),_(zt),_(kbe,8),_($r,8),_(ye))},n.\u0275cmp=lt({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(Sr(r,DS,5),Sr(r,DS,7),Sr(r,eW,5),Sr(r,Sbe,5),Sr(r,YG,5),Sr(r,KG,5),Sr(r,TS,5)),2&t){let s;rt(s=st())&&(i._labelChildNonStatic=s.first),rt(s=st())&&(i._labelChildStatic=s.first),rt(s=st())&&(i._formFieldControl=s.first),rt(s=st())&&(i._prefixChildren=s),rt(s=st())&&(i._suffixChildren=s),rt(s=st())&&(i._errorChildren=s),rt(s=st())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(an(nbe,5),an(ibe,5),an(rbe,5),an(QG,5),an(JG,5),an(ZG,5)),2&t){let r;rt(r=st())&&(i._textField=r.first),rt(r=st())&&(i._iconPrefixContainer=r.first),rt(r=st())&&(i._textPrefixContainer=r.first),rt(r=st())&&(i._floatingLabel=r.first),rt(r=st())&&(i._notchedOutline=r.first),rt(r=st())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&ct("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ge([{provide:SS,useExisting:n}])],ngContentSelectors:Cbe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(Tr(Ebe),Ie(0,abe,1,1,"ng-template",null,0,$I),O(2,"div",1,2),Me("click",function(s){return i._control.onContainerClick(s)}),Ie(4,lbe,1,0,"div",3),O(5,"div",4),Ie(6,dbe,2,3,"div",5),Ie(7,hbe,3,0,"div",6),Ie(8,fbe,3,0,"div",7),O(9,"div",8),Ie(10,mbe,1,1,"ng-template",9),gt(11),P(),Ie(12,gbe,2,0,"div",10),Ie(13,_be,2,0,"div",11),P(),Ie(14,ybe,1,0,"div",12),P(),O(15,"div",13),Ie(16,vbe,2,1,"div",14),Ie(17,wbe,5,2,"div",15),P()),2&t&&(L(2),ct("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),L(2),z("ngIf",!i._hasOutline()&&!i._control.disabled),L(2),z("ngIf",i._hasOutline()),L(1),z("ngIf",i._hasIconPrefix),L(1),z("ngIf",i._hasTextPrefix),L(2),z("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),L(2),z("ngIf",i._hasTextSuffix),L(1),z("ngIf",i._hasIconSuffix),L(1),z("ngIf",!i._hasOutline()),L(1),ct("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),z("ngSwitch",i._getDisplayedMessages()),L(1),z("ngSwitchCase","error"),L(1),z("ngSwitchCase","hint"))},dependencies:[Nl,ID,vf,CD,Bge,TS,QG,JG,ZG],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[Mbe.transitionMessages]},changeDetection:0}),n})(),xS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Dt,Ol,L4,Dt]}),n})();const rW=new E("MAT_INPUT_VALUE_ACCESSOR"),Pbe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Fbe=0;const Lbe=A_e(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new se}});let Vbe=(()=>{class n extends Lbe{get disabled(){return this._disabled}set disabled(t){this._disabled=Ft(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Gf.required)??!1}set required(t){this._required=Ft(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&N4().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ft(t)}constructor(t,i,r,s,o,a,l,c,u,d){super(a,s,o,r),this._elementRef=t,this._platform=i,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+Fbe++,this.focused=!1,this.stateChanges=new se,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>N4().has(p)),this._iOSKeyupListener=p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Pbe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(zt),_(So,10),_(vv,8),_(Jf,8),_(L_e),_(rW,10),_(Xve),_(q),_(SS,8))},n.\u0275dir=F({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&Me("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(la("id",i.id)("disabled",i.disabled)("required",i.required),Pe("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),ct("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ge([{provide:eW,useExisting:n}]),me,Qt]}),n})(),Bbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Dt,xS,xS,Jve,Dt]}),n})();const ep={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=ep;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Ct(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=ep;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=ep;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class jbe extends Oy{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Ube extends Ny{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ep.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(ep.cancelAnimationFrame(t),e._scheduled=void 0)}});let AS,$be=1;const Ev={};function sW(n){return n in Ev&&(delete Ev[n],!0)}const zbe={setImmediate(n){const e=$be++;return Ev[e]=!0,AS||(AS=Promise.resolve()),AS.then(()=>sW(e)&&n()),e},clearImmediate(n){sW(n)}},{setImmediate:Gbe,clearImmediate:Wbe}=zbe,Cv={setImmediate(...n){const{delegate:e}=Cv;return(e?.setImmediate||Gbe)(...n)},clearImmediate(n){const{delegate:e}=Cv;return(e?.clearImmediate||Wbe)(n)},delegate:void 0};new class Kbe extends Oy{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class qbe extends Ny{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Cv.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Cv.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});let Xbe=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new se,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ke(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(IS(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Jt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Do(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>bv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(b(q),b(zt),b(ye,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oW=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new se,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(IS(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(b(zt),b(q),b(ye,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})(),aW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Vf,MS,Vf,MS]}),n})();class kS{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Kl extends kS{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class RS extends kS{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Jbe extends kS{constructor(e){super(),this.element=e instanceof we?e.nativeElement:e}}class Iv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Kl?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof RS?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Jbe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ewe extends Iv{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||it.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Yl=(()=>{class n extends Iv{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Q,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(_(Tl),_(sr),_(ye))},n.\u0275dir=F({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[me]}),n})(),Ku=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({}),n})();const lW=Sge();class twe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=un(-this._previousScrollPosition.left),e.style.top=un(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),lW&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lW&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class nwe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Jt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class cW{enable(){}disable(){}attach(){}}function NS(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function uW(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class iwe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();NS(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let rwe=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new cW,this.close=o=>new nwe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new twe(this._viewportRuler,this._document),this.reposition=o=>new iwe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(b(Xbe),b(oW),b(q),b(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Dv{constructor(e){if(this.scrollStrategy=new cW,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class swe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let dW=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(b(ye))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),owe=(()=>{class n extends dW{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(b(ye),b(q,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),awe=(()=>{class n extends dW{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ma(s)},this._clickListener=s=>{const o=ma(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(b(ye),b(zt),b(q,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tv=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||GT()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),GT()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(b(ye),b(zt))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tp{constructor(e,t,i,r,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new se,this._attachments=new se,this._detachments=new se,this._locationChanges=Ct.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new se,this._outsidePointerEvents=new se,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=un(this._config.width),e.height=un(this._config.height),e.minWidth=un(this._config.minWidth),e.minHeight=un(this._config.minHeight),e.maxWidth=un(this._config.maxWidth),e.maxHeight=un(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Yy(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(_a(so(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const hW="cdk-overlay-connected-position-bounding-box",lwe=/([A-Za-z%]+)$/;class fW{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new se,this._resizeSubscription=Ct.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(hW),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ql(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hW),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?o:a}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=mW(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-i.height,p=this._subtractOverflows(s.width,0-o,o+s.width-i.width),m=this._subtractOverflows(s.height,h,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=pW(this._overlayRef.getConfig().minHeight),a=pW(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=mW(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),c=Math.max(s.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,d=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new swe(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=un(i.height),r.top=un(i.top),r.bottom=un(i.bottom),r.width=un(i.width),r.left=un(i.left),r.right=un(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=un(s)),o&&(r.maxWidth=un(o))}this._lastBoundingBoxSize=i,Ql(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ql(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ql(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Ql(i,this._getExactOverlayY(t,e,u)),Ql(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=un(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=un(o.maxWidth):s&&(i.maxWidth="")),Ql(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=un(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=un(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:uW(e,i),isOriginOutsideView:NS(e,i),isOverlayClipped:uW(t,i),isOverlayOutsideView:NS(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Yy(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof we)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ql(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function pW(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(lwe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function mW(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const gW="cdk-global-overlay-wrapper";class cwe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(gW),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",m="";l?m="flex-start":"center"===u?(m="center",h?p=d:f=d):h?"left"===u||"end"===u?(m="flex-end",f=d):("right"===u||"start"===u)&&(m="flex-start",p=d):"left"===u||"start"===u?(m="flex-start",f=d):("right"===u||"end"===u)&&(m="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=m,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(gW),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let uwe=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new cwe}flexibleConnectedTo(t){return new fW(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(b(oW),b(ye),b(zt),b(Tv))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dwe=0,As=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new Dv(t);return o.direction=o.direction||this._directionality.value,new tp(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+dwe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ml)),new ewe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(b(rwe),b(Tv),b(Tl),b(uwe),b(owe),b(it),b(q),b(ye),b(va),b(gf),b(awe),b($r,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pwe={provide:new E("cdk-connected-overlay-scroll-strategy"),deps:[As],useFactory:function fwe(n){return()=>n.scrollStrategies.reposition()}};let Sv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[As,pwe],imports:[Vf,Ku,aW,aW]}),n})();function xv(n){return new Ke(e=>{yn(n()).subscribe(e)})}function mwe(n,e){}class Av{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let _W=(()=>{class n extends Iv{constructor(t,i,r,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Pf(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=Pf();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Pf())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(Jy),_(ye,8),_(Av),_(Zy),_(q),_(tp),_(Hu))},n.\u0275cmp=lt({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&an(Yl,7),2&t){let r;rt(r=st())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&Pe("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[me],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&Ie(0,mwe,0,0,"ng-template",0)},dependencies:[Yl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class OS{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new se,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ga(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const yW=new E("DialogScrollStrategy"),gwe=new E("DialogData"),_we=new E("DefaultDialogConfig"),vwe={provide:yW,deps:[As],useFactory:function ywe(n){return()=>n.scrollStrategies.block()}};let bwe=0,vW=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,s,o,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new se,this._afterOpenedAtThisLevel=new se,this._ariaHiddenElements=new Map,this.afterAllClosed=xv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ya(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new Av,...i}).id=i.id||"cdk-dialog-"+bwe++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),o=this._overlay.create(s),a=new OS(o,i),l=this._attachContainer(o,a,i);return a.containerInstance=l,this._attachDialogContent(t,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){PS(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){PS(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),PS(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new Dv({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const s=r.injector||r.viewContainerRef?.injector,o=[{provide:Av,useValue:r},{provide:OS,useValue:i},{provide:tp,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,o.push(...r.container.providers(r))):a=_W;const l=new Kl(a,r.viewContainerRef,it.create({parent:s||this._injector,providers:o}),r.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,i,r,s){if(t instanceof qr){const o=this._createInjector(s,i,r,void 0);let a={$implicit:s.data,dialogRef:i};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new RS(t,null,a,o))}else{const o=this._createInjector(s,i,r,this._injector),a=r.attachComponentPortal(new Kl(t,s.viewContainerRef,o,s.componentFactoryResolver));i.componentInstance=a.instance}}_createInjector(t,i,r,s){const o=t.injector||t.viewContainerRef?.injector,a=[{provide:gwe,useValue:t.data},{provide:OS,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!o||!o.get(va,null,{optional:!0}))&&a.push({provide:va,useValue:{value:t.direction,change:Y()}}),it.create({parent:o||s,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(b(As),b(it),b(_we,8),b(n,12),b(Tv),b(yW))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function PS(n,e){let t=n.length;for(;t--;)e(n[t])}let wwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[vW,vwe],imports:[Sv,Ku,e3,Ku]}),n})();function Ewe(n,e){}class Mv{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const FS="mdc-dialog--open",bW="mdc-dialog--opening",wW="mdc-dialog--closing";let Dwe=(()=>{class n extends _W{constructor(t,i,r,s,o,a,l,c){super(t,i,r,s,o,a,l,c),this._animationStateChanged=new Q}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(Jy),_(ye,8),_(Mv),_(Zy),_(q),_(tp),_(Hu))},n.\u0275cmp=lt({type:n,selectors:[["ng-component"]],features:[me],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();const EW="--mat-dialog-transition-duration";function CW(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?hi(n.substring(0,n.length-2)):n.endsWith("s")?1e3*hi(n.substring(0,n.length-1)):"0"===n?0:null}let Twe=(()=>{class n extends Dwe{constructor(t,i,r,s,o,a,l,c,u){super(t,i,r,s,o,a,l,u),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?CW(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?CW(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(EW,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(bW,FS)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(FS),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(FS),this._animationsEnabled?(this._hostElement.style.setProperty(EW,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(wW)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(bW,wW)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(Jy),_(ye,8),_(Mv),_(Zy),_(q),_(tp),_($r,8),_(Hu))},n.\u0275cmp=lt({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,i){2&t&&(la("id",i._config.id),Pe("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),ct("_mat-animation-noopable",!i._animationsEnabled))},features:[me],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(O(0,"div",0)(1,"div",1),Ie(2,Ewe,0,0,"ng-template",2),P()())},dependencies:[Yl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class LS{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new se,this._beforeClosed=new se,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Jt(r=>"opened"===r.state),Kn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Jt(r=>"closed"===r.state),Kn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),so(this.backdropClick(),this.keydownEvents().pipe(Jt(r=>27===r.keyCode&&!this.disableClose&&!ga(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function Swe(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Jt(t=>"closing"===t.state),Kn(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const IW=new E("MatMdcDialogData"),xwe=new E("mat-mdc-dialog-default-options"),DW=new E("mat-mdc-dialog-scroll-strategy"),Mwe={provide:DW,deps:[As],useFactory:function Awe(n){return()=>n.scrollStrategies.block()}};let kwe=0,Rwe=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,s,o,a,l,c,u,d){this._overlay=t,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new se,this._afterOpenedAtThisLevel=new se,this._idPrefix="mat-dialog-",this.dialogConfigClass=Mv,this.afterAllClosed=xv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ya(void 0))),this._scrollStrategy=a,this._dialog=i.get(vW)}open(t,i){let r;(i={...this._defaultOptions||new Mv,...i}).id=i.id||`${this._idPrefix}${kwe++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Av,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(o,a,l)=>(r=new this._dialogRefConstructor(o,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){x_()},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),kv=(()=>{class n extends Rwe{constructor(t,i,r,s,o,a,l,c){super(t,i,s,a,l,o,LS,Twe,IW,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(b(As),b(it),b(gf,8),b(xwe,8),b(DW),b(n,12),b(Tv),b($r,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),Nwe=0,Owe=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+Nwe++}ngOnInit(){this._dialogRef||(this._dialogRef=function Lwe(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(_(LS,8),_(we),_(kv))},n.\u0275dir=F({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,i){2&t&&la("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),Pwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),Fwe=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(t,i){2&t&&ct("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),Vwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[kv,Mwe],imports:[wwe,Sv,Ku,Dt,Dt]}),n})(),qwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Dt,Ol,JT]}),n})();function Kwe(n,e){if(1&n){const t=_o();O(0,"div",2)(1,"button",3),Me("click",function(){return zn(t),Gn(Ve().action())}),Fe(2),P()()}if(2&n){const t=Ve();L(2),Wr(" ",t.data.action," ")}}const Ywe=["label"];function Qwe(n,e){}const Xwe=Math.pow(2,31)-1;class VS{constructor(e,t){this._overlayRef=t,this._afterDismissed=new se,this._afterOpened=new se,this._onAction=new se,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Xwe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const AW=new E("MatSnackBarData");class Rv{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Zwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),Jwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),e0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),t0e=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(_(VS),_(AW))},n.\u0275cmp=lt({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){1&t&&(O(0,"div",0),Fe(1),P(),Ie(2,Kwe,3,1,"div",1)),2&t&&(L(1),Wr(" ",i.data.message,"\n"),L(1),z("ngIf",i.hasAction))},dependencies:[Nl,Wu,Zwe,Jwe,e0e],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const n0e={snackBarState:Ef("state",[Pl("void, hidden",Mn({transform:"scale(0.8)",opacity:0})),Pl("visible",Mn({transform:"scale(1)",opacity:1})),Eo("* => visible",wo("150ms cubic-bezier(0, 0, 0.2, 1)")),Eo("* => void, * => hidden",wo("75ms cubic-bezier(0.4, 0.0, 1, 1)",Mn({opacity:0})))])};let i0e=0,r0e=(()=>{class n extends Iv{constructor(t,i,r,s,o){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=N(ye),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new se,this._onExit=new se,this._onEnter=new se,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+i0e++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Kn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(_(q),_(we),_(qn),_(zt),_(Rv))},n.\u0275dir=F({type:n,viewQuery:function(t,i){if(1&t&&an(Yl,7),2&t){let r;rt(r=st())&&(i._portalOutlet=r.first)}},features:[me]}),n})(),s0e=(()=>{class n extends r0e{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=on(n)))(i||n)}}(),n.\u0275cmp=lt({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(1&t&&an(Ywe,7),2&t){let r;rt(r=st())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){1&t&&U_("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&$_("@state",i._animationState)},features:[me],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(O(0,"div",0)(1,"div",1,2)(3,"div",3),Ie(4,Qwe,0,0,"ng-template",4),P(),Je(5,"div"),P()()),2&t&&(L(5),Pe("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[Yl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[n0e.snackBarState]}}),n})(),MW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Sv,Ku,Ol,sS,Dt,Dt]}),n})();const kW=new E("mat-snack-bar-default-options",{providedIn:"root",factory:function o0e(){return new Rv}});let a0e=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,s,o,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=it.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Rv,useValue:i}]}),o=new Kl(this.snackBarContainerComponent,i.viewContainerRef,s),a=t.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r={...new Rv,...this._defaultConfig,...i},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new VS(o,s);if(t instanceof qr){const l=new RS(t,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new Kl(t,void 0,l),u=o.attachComponentPortal(c);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(_a(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new Dv;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,a=!o&&"center"!==t.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return it.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:VS,useValue:i},{provide:AW,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(b(As),b(Q4),b(it),b(QT),b(n,12),b(kW))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),RW=(()=>{class n extends a0e{constructor(t,i,r,s,o,a){super(t,i,r,s,o,a),this.simpleSnackBarComponent=t0e,this.snackBarContainerComponent=s0e,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(b(As),b(Q4),b(it),b(QT),b(n,12),b(kW))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:MW}),n})();class l0e{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new se,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}const c0e=["button"],u0e=["*"],NW=new E("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),OW=new E("MatButtonToggleGroup"),d0e={provide:zi,useExisting:Xe(()=>LW),multi:!0};let PW=0;class FW{constructor(e,t){this.source=e,this.value=t}}let LW=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(t){this._vertical=Ft(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=Ft(t),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=Ft(t),this._markButtonsForCheck()}constructor(t,i){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+PW++,this.valueChange=new Q,this.change=new Q,this.appearance=i&&i.appearance?i.appearance:"standard"}ngOnInit(){this._selectionModel=new l0e(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const i=new FW(t,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(t,i,r=!1,s=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(t,r)):this._updateModelValue(t,r)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=t.value&&i===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===t);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(t,i){i&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(_(qn),_(NW,8))},n.\u0275dir=F({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,i,r){if(1&t&&Sr(r,VW,5),2&t){let s;rt(s=st())&&(i._buttonToggles=s)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,i){2&t&&(Pe("aria-disabled",i.disabled),ct("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[Ge([d0e,{provide:OW,useExisting:n}])]}),n})();const h0e=r3(class{});let VW=(()=>{class n extends h0e{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const i=Ft(t);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=Ft(t)}constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new Q;const l=Number(o);this.tabIndex=l||0===l?l:null,this.buttonToggleGroup=t,this.appearance=a&&a.appearance?a.appearance:"standard"}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+PW++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new FW(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return n.\u0275fac=function(t){return new(t||n)(_(OW,8),_(qn),_(we),_(Hu),bl("tabindex"),_(NW,8))},n.\u0275cmp=lt({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(t,i){if(1&t&&an(c0e,5),2&t){let r;rt(r=st())&&(i._buttonElement=r.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,i){1&t&&Me("focus",function(){return i.focus()}),2&t&&(Pe("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),ct("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[me],ngContentSelectors:u0e,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,i){if(1&t&&(Tr(),O(0,"button",0,1),Me("click",function(){return i._onButtonClick()}),O(2,"span",2),gt(3),P()(),Je(4,"span",3)(5,"span",4)),2&t){const r=xu(1);z("id",i.buttonId)("disabled",i.disabled||null),Pe("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),L(5),z("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[d3],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),n})(),f0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Dt,JT,Dt]}),n})();const p0e=["mat-calendar-body",""];function m0e(n,e){if(1&n&&(O(0,"tr",3)(1,"td",4),Fe(2),P()()),2&n){const t=Ve();L(1),yo("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),Pe("colspan",t.numCols),L(1),Wr(" ",t.label," ")}}function g0e(n,e){if(1&n&&(O(0,"td",4),Fe(1),P()),2&n){const t=Ve(2);yo("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),Pe("colspan",t._firstRowOffset),L(1),Wr(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function _0e(n,e){if(1&n){const t=_o();O(0,"td",8)(1,"button",9),Me("click",function(r){const o=zn(t).$implicit;return Gn(Ve(2)._cellClicked(o,r))})("focus",function(r){const o=zn(t).$implicit;return Gn(Ve(2)._emitActiveDateChange(o,r))}),O(2,"span",10),Fe(3),P(),Je(4,"span",11),P()()}if(2&n){const t=e.$implicit,i=e.index,r=Ve().index,s=Ve();yo("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),Pe("data-mat-row",r)("data-mat-col",i),L(1),ct("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(t.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",s._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(t.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(t.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",s._isInPreview(t.compareValue)),z("ngClass",t.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),Pe("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",s._isSelected(t.compareValue))("aria-current",s.todayValue===t.compareValue?"date":null)("aria-describedby",s._getDescribedby(t.compareValue)),L(1),ct("mat-calendar-body-selected",s._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",s.todayValue===t.compareValue),L(1),Wr(" ",t.displayValue," ")}}function y0e(n,e){if(1&n&&(O(0,"tr",5),Ie(1,g0e,2,6,"td",6),Ie(2,_0e,5,48,"td",7),P()),2&n){const t=e.$implicit,i=e.index,r=Ve();L(1),z("ngIf",0===i&&r._firstRowOffset),L(1),z("ngForOf",t)}}function v0e(n,e){if(1&n&&(O(0,"th",5)(1,"span",6),Fe(2),P(),O(3,"span",7),Fe(4),P()()),2&n){const t=e.$implicit;L(2),Is(t.long),L(2),Is(t.narrow)}}const b0e=["*"];function w0e(n,e){}function E0e(n,e){if(1&n){const t=_o();O(0,"mat-month-view",5),Me("activeDateChange",function(r){return zn(t),Gn(Ve().activeDate=r)})("_userSelection",function(r){return zn(t),Gn(Ve()._dateSelected(r))})("dragStarted",function(r){return zn(t),Gn(Ve()._dragStarted(r))})("dragEnded",function(r){return zn(t),Gn(Ve()._dragEnded(r))}),P()}if(2&n){const t=Ve();z("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function C0e(n,e){if(1&n){const t=_o();O(0,"mat-year-view",6),Me("activeDateChange",function(r){return zn(t),Gn(Ve().activeDate=r)})("monthSelected",function(r){return zn(t),Gn(Ve()._monthSelectedInYearView(r))})("selectedChange",function(r){return zn(t),Gn(Ve()._goToDateInView(r,"month"))}),P()}if(2&n){const t=Ve();z("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function I0e(n,e){if(1&n){const t=_o();O(0,"mat-multi-year-view",7),Me("activeDateChange",function(r){return zn(t),Gn(Ve().activeDate=r)})("yearSelected",function(r){return zn(t),Gn(Ve()._yearSelectedInMultiYearView(r))})("selectedChange",function(r){return zn(t),Gn(Ve()._goToDateInView(r,"year"))}),P()}if(2&n){const t=Ve();z("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function D0e(n,e){}const T0e=["button"];function S0e(n,e){1&n&&(Ah(),O(0,"svg",3),Je(1,"path",4),P())}const x0e=[[["","matDatepickerToggleIcon",""]]],A0e=["[matDatepickerToggleIcon]"];let np=(()=>{class n{constructor(){this.changes=new se,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BS{constructor(e,t,i,r,s={},o=e,a){this.value=e,this.displayValue=t,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=o,this.rawValue=a}}let M0e=1;const BW=pa({passive:!1,capture:!0}),Ca=pa({passive:!0,capture:!0}),Nv=pa({passive:!0});let Yu=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(t,i){this._elementRef=t,this._ngZone=i,this._platform=N(zt),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Q,this.previewChange=new Q,this.activeDateChange=new Q,this.dragStarted=new Q,this.dragEnded=new Q,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const s=UW(r),o=s?this._getCellFromElement(s):null;s!==r.target&&(this._didDragSinceMouseDown=!0),jS(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=r.target&&this._getCellFromElement(r.target);!s||!this._isInRange(s.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const s=jS(r.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const o=this._getCellFromElement(s);this.dragEnded.emit({value:o?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const s=UW(r);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+M0e++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=t.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,BW),r.addEventListener("mouseenter",this._enterHandler,Ca),r.addEventListener("focus",this._enterHandler,Ca),r.addEventListener("mouseleave",this._leaveHandler,Ca),r.addEventListener("blur",this._leaveHandler,Ca),r.addEventListener("mousedown",this._mousedownHandler,Nv),r.addEventListener("touchstart",this._mousedownHandler,Nv),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(t,i){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_emitActiveDateChange(t,i){t.enabled&&this.activeDateChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:r,numCols:s}=this;(t.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("touchmove",this._touchmoveHandler,BW),t.removeEventListener("mouseenter",this._enterHandler,Ca),t.removeEventListener("focus",this._enterHandler,Ca),t.removeEventListener("mouseleave",this._leaveHandler,Ca),t.removeEventListener("blur",this._leaveHandler,Ca),t.removeEventListener("mousedown",this._mousedownHandler,Nv),t.removeEventListener("touchstart",this._mousedownHandler,Nv),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,i){let r=t*this.numCols+i;return t&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return HS(t,this.startValue,this.endValue)}_isRangeEnd(t){return $S(t,this.startValue,this.endValue)}_isInRange(t){return zS(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return HS(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,r){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let s=this.rows[i][r-1];if(!s){const o=this.rows[i-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(t,i,r){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let s=this.rows[i][r+1];if(!s){const o=this.rows[i+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(t){return $S(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return zS(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return HS(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return $S(t,this.previewStart,this.previewEnd)}_isInPreview(t){return zS(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){const i=jS(t);if(i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(q))},n.\u0275cmp=lt({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Qt],attrs:p0e,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){1&t&&(Ie(0,m0e,3,6,"tr",0),Ie(1,y0e,3,2,"tr",1),O(2,"label",2),Fe(3),P(),O(4,"label",2),Fe(5),P()),2&t&&(z("ngIf",i._firstRowOffset<i.labelMinRequiredCells),L(1),z("ngForOf",i.rows),L(1),z("id",i._startDateLabelId),L(1),Wr(" ",i.startDateAccessibleName,"\n"),L(1),z("id",i._endDateLabelId),L(1),Wr(" ",i.endDateAccessibleName,"\n"))},dependencies:[wD,fy,Nl],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function US(n){return"TD"===n?.nodeName}function jS(n){let e;return US(n)?e=n:US(n.parentNode)?e=n.parentNode:US(n.parentNode?.parentNode)&&(e=n.parentNode.parentNode),null!=e?.getAttribute("data-mat-row")?e:null}function HS(n,e,t){return null!==t&&e!==t&&n<t&&n===e}function $S(n,e,t){return null!==e&&e!==t&&n>=e&&n===t}function zS(n,e,t,i){return i&&null!==e&&null!==t&&e!==t&&n>=e&&n<=t}function UW(n){const e=n.changedTouches[0];return document.elementFromPoint(e.clientX,e.clientY)}class Ti{constructor(e,t){this.start=e,this.end=t}}let Ia=(()=>{class n{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new se,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){const r=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return n.\u0275fac=function(t){x_()},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),k0e=(()=>{class n extends Ia{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new n(this._adapter);return t.updateSelection(this.selection,this),t}}return n.\u0275fac=function(t){return new(t||n)(b(Yn))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const jW={provide:Ia,deps:[[new Ae,new wl,Ia],Yn],useFactory:function N0e(n,e){return n||new k0e(e)}},Ov=new E("MAT_DATE_RANGE_SELECTION_STRATEGY");let HW=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Ti?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,r,s,o){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=Ct.EMPTY,this.activeDrag=null,this.selectedChange=new Q,this._userSelection=new Q,this.dragStarted=new Q,this.dragEnded=new Q,this.activeDateChange=new Q,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ya(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,r=this._getDateFromDayOfMonth(i);let s,o;this._selected instanceof Ti?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),(s!==i||o!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case 27:return void(null!=this._previewEnd&&!ga(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,t);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){const o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,t);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:i??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,a)=>({long:o,narrow:i[a]}));this._weekdays=s.slice(t).concat(s.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<t;r++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),a=this._shouldEnableDate(o),l=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new BS(r+1,i[r],l,a,c,this._getCellCompareValue(o),o))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),r=this._dateAdapter.getMonth(t),s=this._dateAdapter.getDate(t);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof Ti?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}}return n.\u0275fac=function(t){return new(t||n)(_(qn),_($l,8),_(Yn,8),_(va,8),_(Ov,8))},n.\u0275cmp=lt({type:n,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(1&t&&an(Yu,5),2&t){let r;rt(r=st())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Qt],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(t,i){1&t&&(O(0,"table",0)(1,"thead",1)(2,"tr"),Ie(3,v0e,5,2,"th",2),P(),O(4,"tr"),Je(5,"th",3),P()(),O(6,"tbody",4),Me("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("dragStarted",function(s){return i.dragStarted.emit(s)})("dragEnded",function(s){return i._dragEnded(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),P()()),2&t&&(L(3),z("ngForOf",i._weekdays),L(3),z("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[fy,Yu],encapsulation:2,changeDetection:0}),n})();const lr=24;let $W=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),zW(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Ti?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,r){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Ct.EMPTY,this.selectedChange=new Q,this.yearSelected=new Q,this.activeDateChange=new Q,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ya(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-ip(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<lr;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ip(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,lr-ip(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-lr:-lr);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*lr:lr);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return ip(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));return this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new BS(t,r,r,this._shouldEnableYear(t),s)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(r)==t;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof Ti){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return n.\u0275fac=function(t){return new(t||n)(_(qn),_(Yn,8),_(va,8))},n.\u0275cmp=lt({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(1&t&&an(Yu,5),2&t){let r;rt(r=st())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,i){1&t&&(O(0,"table",0)(1,"thead",1)(2,"tr"),Je(3,"th",2),P()(),O(4,"tbody",3),Me("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),P()()),2&t&&(L(4),z("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Yu],encapsulation:2,changeDetection:0}),n})();function zW(n,e,t,i,r){const s=n.getYear(e),o=n.getYear(t),a=GW(n,i,r);return Math.floor((s-a)/lr)===Math.floor((o-a)/lr)}function ip(n,e,t,i){return function L0e(n,e){return(n%e+e)%e}(n.getYear(e)-GW(n,t,i),lr)}function GW(n,e,t){let i=0;return t?i=n.getYear(t)-lr+1:e&&(i=n.getYear(e)),i}let WW=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Ti?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,r,s){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Ct.EMPTY,this.selectedChange=new Q,this.monthSelected=new Q,this.activeDateChange=new Q,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ya(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(t){const r=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,t[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(t,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(r,"year"):void 0;return new BS(t,i.toLocaleUpperCase(),s,this._shouldEnableMonth(t),o)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(s)==t;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return t>r||t===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return t<r||t===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof Ti?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return n.\u0275fac=function(t){return new(t||n)(_(qn),_($l,8),_(Yn,8),_(va,8))},n.\u0275cmp=lt({type:n,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(1&t&&an(Yu,5),2&t){let r;rt(r=st())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,i){1&t&&(O(0,"table",0)(1,"thead",1)(2,"tr"),Je(3,"th",2),P()(),O(4,"tbody",3),Me("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),P()()),2&t&&(L(4),z("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Yu],encapsulation:2,changeDetection:0}),n})(),V0e=1,B0e=(()=>{class n{constructor(t,i,r,s,o){this._intl=t,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._id="mat-calendar-header-"+V0e++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-lr)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:lr)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):zW(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-ip(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+lr-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}}return n.\u0275fac=function(t){return new(t||n)(_(np),_(Xe(()=>qS)),_(Yn,8),_($l,8),_(qn))},n.\u0275cmp=lt({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:b0e,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(t,i){1&t&&(Tr(),O(0,"div",0)(1,"div",1)(2,"button",2),Me("click",function(){return i.currentPeriodClicked()}),O(3,"span",3),Fe(4),P(),Ah(),O(5,"svg",4),Je(6,"polygon",5),P()(),YE(),Je(7,"div",6),gt(8),O(9,"button",7),Me("click",function(){return i.previousClicked()}),P(),O(10,"button",8),Me("click",function(){return i.nextClicked()}),P()()(),O(11,"label",9),Fe(12),P()),2&t&&(L(2),Pe("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),L(2),Is(i.periodButtonText),L(1),ct("mat-calendar-invert","month"!==i.calendar.currentView),L(4),z("disabled",!i.previousEnabled()),Pe("aria-label",i.prevButtonLabel),L(1),z("disabled",!i.nextEnabled()),Pe("aria-label",i.nextButtonLabel),L(1),z("id",i._periodButtonLabelId),L(1),Is(i.periodButtonDescription))},dependencies:[Wu,R3],encapsulation:2,changeDetection:0}),n})(),qS=(()=>{class n{get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof Ti?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(t,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Q,this.yearSelected=new Q,this.monthSelected=new Q,this.viewChanged=new Q(!0),this._userSelection=new Q,this._userDragDrop=new Q,this._activeDrag=null,this.stateChanges=new se,this._intlChanges=t.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Kl(this.headerComponent||B0e),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,r=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,s=i||r||t.dateFilter;if(s&&!s.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof Ti||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(t){return new(t||n)(_(np),_(Yn,8),_($l,8),_(qn))},n.\u0275cmp=lt({type:n,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(1&t&&(an(HW,5),an(WW,5),an($W,5)),2&t){let r;rt(r=st())&&(i.monthView=r.first),rt(r=st())&&(i.yearView=r.first),rt(r=st())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Ge([jW]),Qt],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,i){1&t&&(Ie(0,w0e,0,0,"ng-template",0),O(1,"div",1),Ie(2,E0e,1,11,"mat-month-view",2),Ie(3,C0e,1,6,"mat-year-view",3),Ie(4,I0e,1,6,"mat-multi-year-view",4),P()),2&t&&(z("cdkPortalOutlet",i._calendarHeaderPortal),L(1),z("ngSwitch",i.currentView),L(1),z("ngSwitchCase","month"),L(1),z("ngSwitchCase","year"),L(1),z("ngSwitchCase","multi-year"))},dependencies:[vf,CD,w_e,Yl,HW,WW,$W],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),n})();const qW={transformPanel:Ef("transformPanel",[Eo("void => enter-dropdown",wo("120ms cubic-bezier(0, 0, 0.2, 1)",Q$([Mn({opacity:0,transform:"scale(1, 0.8)"}),Mn({opacity:1,transform:"scale(1, 1)"})]))),Eo("void => enter-dialog",wo("150ms cubic-bezier(0, 0, 0.2, 1)",Q$([Mn({opacity:0,transform:"scale(0.7)"}),Mn({transform:"none",opacity:1})]))),Eo("* => void",wo("100ms linear",Mn({opacity:0})))]),fadeInCalendar:Ef("fadeInCalendar",[Pl("void",Mn({opacity:0})),Pl("enter",Mn({opacity:1})),Eo("void => *",wo("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let U0e=0;const KW=new E("mat-datepicker-scroll-strategy"),H0e={provide:KW,deps:[As],useFactory:function j0e(n){return()=>n.scrollStrategies.reposition()}},$0e=tv(class{constructor(n){this._elementRef=n}});let z0e=(()=>{class n extends $0e{constructor(t,i,r,s,o,a){super(t),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=o,this._subscriptions=new Ct,this._animationDone=new se,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=a.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const i=this._model.selection,r=t.value,s=i instanceof Ti;if(s&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(r,i,t.event);this._model.updateSelection(o,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating="start"===t.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,i){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(qn),_(Ia),_(Yn),_(Ov,8),_(np))},n.\u0275cmp=lt({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(1&t&&an(qS,5),2&t){let r;rt(r=st())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,i){1&t&&U_("@transformPanel.start",function(s){return i._handleAnimationEvent(s)})("@transformPanel.done",function(s){return i._handleAnimationEvent(s)}),2&t&&($_("@transformPanel",i._animationState),ct("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[me],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(t,i){if(1&t&&(O(0,"div",0)(1,"mat-calendar",1),Me("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)})("_userDragDrop",function(s){return i._handleUserDragDrop(s)}),P(),Ie(2,D0e,0,0,"ng-template",2),O(3,"button",3),Me("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),Fe(4),P()()),2&t){let r;ct("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),Pe("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),L(1),z("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),L(1),z("cdkPortalOutlet",i._actionsPortal),L(1),ct("cdk-visually-hidden",!i._closeButtonFocused),z("color",i.color||"primary"),L(1),Is(i._closeButtonText)}},dependencies:[wD,Wu,h_e,Yl,qS],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[qW.transformPanel,qW.fadeInCalendar]},changeDetection:0}),n})(),YW=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=Ft(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const i=Ft(t);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=Ft(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=function Fge(n,e=/\s+/){const t=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(e);for(const r of i){const s=`${r}`.trim();s&&t.push(s)}}return t}(t)}get opened(){return this._opened}set opened(t){Ft(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(t,i,r,s,o,a,l){this._overlay=t,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=o,this._dir=a,this._model=l,this._inputStateChanges=Ct.EMPTY,this._document=N(ye),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new Q,this.monthSelected=new Q,this.viewChanged=new Q(!0),this.openedStream=new Q,this.closedStream=new Q,this._opened=!1,this.id="mat-datepicker-"+U0e++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new se,this._scrollStrategy=s}ngOnChanges(t){const i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof fW&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=Pf(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(Kn(1)).subscribe(()=>{const o=this._document.activeElement;t&&(!o||o===this._document.activeElement||s.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,i=new Kl(z0e,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Dv({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const o=s.keyCode;(38===o||40===o||37===o||39===o||33===o||34===o)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",o="top"===s?"bottom":"top";return t.withPositions([{originX:i,originY:o,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o}])}_getCloseStream(t){const i=["ctrlKey","shiftKey","metaKey"];return so(t.backdropClick(),t.detachments(),t.keydownEvents().pipe(Jt(r=>27===r.keyCode&&!ga(r)||this.datepickerInput&&ga(r,"altKey")&&38===r.keyCode&&i.every(s=>!ga(r,s)))))}}return n.\u0275fac=function(t){return new(t||n)(_(As),_(q),_(sr),_(KW),_(Yn,8),_(va,8),_(Ia))},n.\u0275dir=F({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Qt]}),n})(),G0e=(()=>{class n extends YW{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=on(n)))(i||n)}}(),n.\u0275cmp=lt({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Ge([jW,{provide:YW,useExisting:n}]),me],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();class Pv{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let W0e=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const i=Ft(t),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new Pv(this,this._elementRef.nativeElement)),this.dateChange.emit(new Pv(this,this._elementRef.nativeElement))}})}constructor(t,i,r){this._elementRef=t,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new Q,this.dateInput=new Q,this.stateChanges=new se,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ct.EMPTY,this._localeSubscription=Ct.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),a=this._getMinDate();return!a||!o||this._dateAdapter.compareDate(a,o)<=0?null:{matDatepickerMin:{min:a,actual:o}}},this._maxValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),a=this._getMaxDate();return!a||!o||this._dateAdapter.compareDate(a,o)>=0?null:{matDatepickerMax:{max:a,actual:o}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function q0e(n,e){const t=Object.keys(n);for(let i of t){const{previousValue:r,currentValue:s}=n[i];if(!e.isDateInstance(r)||!e.isDateInstance(s))return!0;if(!e.sameDate(r,s))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){ga(t,"altKey")&&40===t.keyCode&&["ctrlKey","shiftKey","metaKey"].every(s=>!ga(t,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const i=this._lastValueValid;let r=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(t&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new Pv(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Pv(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const i=this._getDateFilter();return!i||i(t)}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(Yn,8),_($l,8))},n.\u0275dir=F({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Qt]}),n})();const K0e={provide:zi,useExisting:Xe(()=>KS),multi:!0},Y0e={provide:Xn,useExisting:Xe(()=>KS),multi:!0};let KS=(()=>{class n extends W0e{set matDatepicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(t,i,r,s){super(t,i,r),this._formField=s,this._closedSubscription=Ct.EMPTY,this._validator=Gf.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}}return n.\u0275fac=function(t){return new(t||n)(_(we),_(Yn,8),_($l,8),_(SS,8))},n.\u0275dir=F({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){1&t&&Me("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&t&&(la("disabled",i.disabled),Pe("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Ge([K0e,Y0e,{provide:rW,useExisting:n}]),me]}),n})(),Q0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),X0e=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=Ft(t)}constructor(t,i,r){this._intl=t,this._changeDetectorRef=i,this._stateChanges=Ct.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:Y(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Y(),r=this.datepicker?so(this.datepicker.openedStream,this.datepicker.closedStream):Y();this._stateChanges.unsubscribe(),this._stateChanges=so(this._intl.changes,t,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(_(np),_(qn),bl("tabindex"))},n.\u0275cmp=lt({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,r){if(1&t&&Sr(r,Q0e,5),2&t){let s;rt(s=st())&&(i._customIcon=s.first)}},viewQuery:function(t,i){if(1&t&&an(T0e,5),2&t){let r;rt(r=st())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){1&t&&Me("click",function(s){return i._open(s)}),2&t&&(Pe("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),ct("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Qt],ngContentSelectors:A0e,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){1&t&&(Tr(x0e),O(0,"button",0,1),Ie(2,S0e,2,0,"svg",2),gt(3),P()),2&t&&(z("disabled",i.disabled)("disableRipple",i.disableRipple),Pe("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),L(2),z("ngIf",!i._customIcon))},dependencies:[Nl,R3],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),eEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[np,H0e],imports:[Ol,sS,Sv,e3,Ku,Dt,MS]}),n})();const tEe=["determinateSpinner"];function nEe(n,e){if(1&n&&(Ah(),O(0,"svg",11),Je(1,"circle",12),P()),2&n){const t=Ve();Pe("viewBox",t._viewBox()),L(1),yo("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Pe("r",t._circleRadius())}}const iEe=tv(class{constructor(n){this._elementRef=n}},"primary"),rEe=new E("mat-progress-spinner-default-options",{providedIn:"root",factory:function sEe(){return{diameter:XW}}}),XW=100;let aEe=(()=>{class n extends iEe{constructor(t,i,r){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=XW,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,hi(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=hi(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=hi(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(t){return new(t||n)(_(we),_($r,8),_(rEe))},n.\u0275cmp=lt({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(1&t&&an(tEe,5),2&t){let r;rt(r=st())&&(i._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(t,i){2&t&&(Pe("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),yo("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),ct("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[me],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(1&t&&(Ie(0,nEe,2,8,"ng-template",null,0,$I),O(2,"div",1,2),Ah(),O(4,"svg",3),Je(5,"circle",4),P()(),YE(),O(6,"div",5)(7,"div",6)(8,"div",7),nf(9,8),P(),O(10,"div",9),nf(11,8),P(),O(12,"div",10),nf(13,8),P()()()),2&t){const r=xu(1);L(4),Pe("viewBox",i._viewBox()),L(1),yo("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),Pe("r",i._circleRadius()),L(4),z("ngTemplateOutlet",r),L(2),z("ngTemplateOutlet",r),L(2),z("ngTemplateOutlet",r)}},dependencies:[ID],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),lEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({imports:[Ol,Dt]}),n})();function ZW(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function y(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){ZW(s,i,r,o,a,"next",l)}function a(l){ZW(s,i,r,o,a,"throw",l)}o(void 0)})}}const U=function(n,e){if(!n)throw Qu(e)},Qu=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},JW=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},Fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JW(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw new uEe;i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uEe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e5=function(n){const e=JW(n);return Fv.encodeByteArray(e,!0)},Lv=function(n){return e5(n).replace(/\./g,"")},Vv=function(n){try{return Fv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dEe(n){return t5(void 0,n)}function t5(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!hEe(t)||(n[t]=t5(n[t],e[t]));return n}function hEe(n){return"__proto__"!==n}const Bv=()=>{try{return function fEe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Vv(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},n5=n=>{var e,t;return null===(t=null===(e=Bv())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},Uv=n=>{const e=n5(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},r5=()=>{var n;return null===(n=Bv())||void 0===n?void 0:n.config},s5=n=>{var e;return null===(e=Bv())||void 0===e?void 0:e[`_${n}`]};class Xu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function XS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Lv(JSON.stringify({alg:"none",type:"JWT"})),Lv(JSON.stringify(o)),""].join(".")}function kn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ZS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function JS(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function o5(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Da(){try{return"object"==typeof indexedDB}catch{return!1}}function Zu(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function jv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class cr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xr.prototype.create)}}class Xr{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function bEe(n,e){return n.replace(wEe,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new cr(r,`${this.serviceName}: ${o} (${r}).`,i)}}const wEe=/\{\$([^}]+)}/g;function rp(n){return JSON.parse(n)}function Zn(n){return JSON.stringify(n)}const Hv=function(n){let e={},t={},i={},r="";try{const s=n.split(".");e=rp(Vv(s[0])||""),t=rp(Vv(s[1])||""),r=s[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};function Ao(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ju(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function ex(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $v(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function sp(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],o=e[r];if(a5(s)&&a5(o)){if(!sp(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function a5(n){return null!==n&&"object"==typeof n}function op(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}class IEe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let c,u,r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<t;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}class TEe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function SEe(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=tx),void 0===r.error&&(r.error=tx),void 0===r.complete&&(r.complete=tx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tx(){}const Gv=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e},AEe=1e3,MEe=2,kEe=144e5,REe=.5;function nx(n,e=AEe,t=MEe){const i=e*Math.pow(t,n),r=Math.round(REe*i*(Math.random()-.5)*2);return Math.min(kEe,i+r)}function dn(n){return n&&n._delegate?n._delegate:n}class hn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xl="[DEFAULT]";class OEe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Xu;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function FEe(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xl})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Xl){return this.instances.has(e)}getOptions(e=Xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Xl?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=Xl){return this.component?this.component.multipleInstances?e:Xl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class LEe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OEe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ix=[];var de=(()=>((de=de||{})[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",de))();const l5={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},VEe=de.INFO,BEe={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},UEe=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=BEe[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class Ta{constructor(e){this.name=e,this._logLevel=VEe,this._logHandler=UEe,this._userLogHandler=null,ix.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?l5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const jEe=(n,e)=>e.some(t=>n instanceof t);let c5,u5;const d5=new WeakMap,rx=new WeakMap,h5=new WeakMap,sx=new WeakMap,ox=new WeakMap;let ax={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return rx.get(n);if("objectStoreNames"===e)return n.objectStoreNames||h5.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sa(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function KEe(n){return"function"==typeof n?function qEe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $Ee(){return u5||(u5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(lx(this),e),Sa(d5.get(this))}:function(...e){return Sa(n.apply(lx(this),e))}:function(e,...t){const i=n.call(lx(this),e,...t);return h5.set(i,e.sort?e.sort():[e]),Sa(i)}}(n):(n instanceof IDBTransaction&&function GEe(n){if(rx.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});rx.set(n,e)}(n),jEe(n,function HEe(){return c5||(c5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ax):n)}function Sa(n){if(n instanceof IDBRequest)return function zEe(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Sa(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&d5.set(t,n)}).catch(()=>{}),ox.set(e,n),e}(n);if(sx.has(n))return sx.get(n);const e=KEe(n);return e!==n&&(sx.set(n,e),ox.set(e,n)),e}const lx=n=>ox.get(n),QEe=["get","getKey","getAll","getAllKeys","count"],XEe=["put","add","delete","clear"],cx=new Map;function f5(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(cx.get(e))return cx.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=XEe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!QEe.includes(t))return;const s=function(){var o=y(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return cx.set(e,s),s}!function WEe(n){ax=n(ax)}(n=>({...n,get:(e,t,i)=>f5(e,t)||n.get(e,t,i),has:(e,t)=>!!f5(e,t)||n.has(e,t)}));class ZEe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function JEe(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const ux="@firebase/app",Zl=new Ta("@firebase/app"),Wv="[DEFAULT]",DCe={[ux]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jl=new Map,qv=new Map;function TCe(n,e){try{n.container.addComponent(e)}catch(t){Zl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Tn(n){const e=n.name;if(qv.has(e))return Zl.debug(`There were multiple attempts to register component ${e}.`),!1;qv.set(e,n);for(const t of Jl.values())TCe(t,n);return!0}function Gi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Mo=new Xr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xCe{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mo.create("app-deleted",{appName:this._name})}}const ko="9.22.1";function m5(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:Wv,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw Mo.create("bad-app-name",{appName:String(r)});if(t||(t=r5()),!t)throw Mo.create("no-options");const s=Jl.get(r);if(s){if(sp(t,s.options)&&sp(i,s.config))return s;throw Mo.create("duplicate-app",{appName:r})}const o=new LEe(r);for(const l of qv.values())o.addComponent(l);const a=new xCe(t,i,o);return Jl.set(r,a),a}function Ms(n=Wv){const e=Jl.get(n);if(!e&&n===Wv&&r5())return m5();if(!e)throw Mo.create("no-app",{appName:n});return e}function g5(){return Array.from(Jl.values())}function Re(n,e,t){var i;let r=null!==(i=DCe[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Zl.warn(a.join(" "))}Tn(new hn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const ACe="firebase-heartbeat-database",MCe=1,ap="firebase-heartbeat-store";let hx=null;function _5(){return hx||(hx=function YEe(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,e),a=Sa(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Sa(o.result),l.oldVersion,l.newVersion,Sa(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(ACe,MCe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ap)}}).catch(n=>{throw Mo.create("idb-open",{originalErrorMessage:n.message})})),hx}function fx(){return(fx=y(function*(n){try{return yield(yield _5()).transaction(ap).objectStore(ap).get(v5(n))}catch(e){if(e instanceof cr)Zl.warn(e.message);else{const t=Mo.create("idb-get",{originalErrorMessage:e?.message});Zl.warn(t.message)}}})).apply(this,arguments)}function y5(n,e){return px.apply(this,arguments)}function px(){return(px=y(function*(n,e){try{const i=(yield _5()).transaction(ap,"readwrite");yield i.objectStore(ap).put(e,v5(n)),yield i.done}catch(t){if(t instanceof cr)Zl.warn(t.message);else{const i=Mo.create("idb-set",{originalErrorMessage:t?.message});Zl.warn(i.message)}}})).apply(this,arguments)}function v5(n){return`${n.name}!${n.options.appId}`}class OCe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FCe(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return y(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=b5();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(s=>s.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=b5(),{heartbeatsToSend:i,unsentEntries:r}=function PCe(n,e=1024){const t=[];let i=n.slice();for(const r of n){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),w5(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),w5(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),s=Lv(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function b5(){return(new Date).toISOString().substring(0,10)}class FCe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!Da()&&Zu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function kCe(n){return fx.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return y(function*(){var i;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return y5(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return y(function*(){var i;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return y5(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function w5(n){return Lv(JSON.stringify({version:2,heartbeats:n})).length}!function LCe(n){Tn(new hn("platform-logger",e=>new ZEe(e),"PRIVATE")),Tn(new hn("heartbeat",e=>new OCe(e),"PRIVATE")),Re(ux,"0.9.11",n),Re(ux,"0.9.11","esm2017"),Re("fire-js","")}(""),Re("firebase","9.22.1","app");const UCe=(n,e)=>e.some(t=>n instanceof t);let E5,C5;const I5=new WeakMap,mx=new WeakMap,D5=new WeakMap,gx=new WeakMap,_x=new WeakMap;let yx={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return mx.get(n);if("objectStoreNames"===e)return n.objectStoreNames||D5.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xa(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function qCe(n){return"function"==typeof n?function WCe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function HCe(){return C5||(C5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(vx(this),e),xa(I5.get(this))}:function(...e){return xa(n.apply(vx(this),e))}:function(e,...t){const i=n.call(vx(this),e,...t);return D5.set(i,e.sort?e.sort():[e]),xa(i)}}(n):(n instanceof IDBTransaction&&function zCe(n){if(mx.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});mx.set(n,e)}(n),UCe(n,function jCe(){return E5||(E5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,yx):n)}function xa(n){if(n instanceof IDBRequest)return function $Ce(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(xa(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&I5.set(t,n)}).catch(()=>{}),_x.set(e,n),e}(n);if(gx.has(n))return gx.get(n);const e=qCe(n);return e!==n&&(gx.set(n,e),_x.set(e,n)),e}const vx=n=>_x.get(n),YCe=["get","getKey","getAll","getAllKeys","count"],QCe=["put","add","delete","clear"],bx=new Map;function T5(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(bx.get(e))return bx.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=QCe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!YCe.includes(t))return;const s=function(){var o=y(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return bx.set(e,s),s}!function GCe(n){yx=n(yx)}(n=>({...n,get:(e,t,i)=>T5(e,t)||n.get(e,t,i),has:(e,t)=>!!T5(e,t)||n.has(e,t)}));const S5="@firebase/installations",wx="0.6.4",x5=1e4,A5=`w:${wx}`,M5="FIS_v2",XCe="https://firebaseinstallations.googleapis.com/v1",ZCe=36e5,Ro=new Xr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function k5(n){return n instanceof cr&&n.code.includes("request-failed")}function Ex({projectId:n}){return`${XCe}/projects/${n}/installations`}function R5(n){return{token:n.token,requestStatus:2,expiresIn:nIe(n.expiresIn),creationTime:Date.now()}}function Cx(n,e){return Ix.apply(this,arguments)}function Ix(){return(Ix=y(function*(n,e){const i=(yield e.json()).error;return Ro.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function N5({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Dx(n){return Tx.apply(this,arguments)}function Tx(){return(Tx=y(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function nIe(n){return Number(n.replace("s","000"))}function Sx(){return(Sx=y(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=Ex(n),r=N5(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:M5,appId:n.appId,sdkVersion:A5})},l=yield Dx(()=>fetch(i,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:R5(c.authToken)}}throw yield Cx("Create Installation",l)})).apply(this,arguments)}function P5(n){return new Promise(e=>{setTimeout(e,n)})}const oIe=/^[cdef][\w-]{21}$/,xx="";function aIe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function lIe(n){return function sIe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return oIe.test(t)?t:xx}catch{return xx}}function ed(n){return`${n.appName}!${n.appId}`}const td=new Map;function F5(n,e){const t=ed(n);L5(t,e),function dIe(n,e){const t=function V5(){return!ec&&"BroadcastChannel"in self&&(ec=new BroadcastChannel("[Firebase] FID Change"),ec.onmessage=n=>{L5(n.data.key,n.data.fid)}),ec}();t&&t.postMessage({key:n,fid:e}),function B5(){0===td.size&&ec&&(ec.close(),ec=null)}()}(t,e)}function L5(n,e){const t=td.get(n);if(t)for(const i of t)i(e)}let ec=null;const hIe="firebase-installations-database",fIe=1,tc="firebase-installations-store";let Ax=null;function Mx(){return Ax||(Ax=function KCe(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,e),a=xa(o);return i&&o.addEventListener("upgradeneeded",l=>{i(xa(o.result),l.oldVersion,l.newVersion,xa(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}(hIe,fIe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(tc)}})),Ax}function Kv(n,e){return kx.apply(this,arguments)}function kx(){return(kx=y(function*(n,e){const t=ed(n),r=(yield Mx()).transaction(tc,"readwrite"),s=r.objectStore(tc),o=yield s.get(t);return yield s.put(e,t),yield r.done,(!o||o.fid!==e.fid)&&F5(n,e.fid),e})).apply(this,arguments)}function Rx(n){return Nx.apply(this,arguments)}function Nx(){return(Nx=y(function*(n){const e=ed(n),i=(yield Mx()).transaction(tc,"readwrite");yield i.objectStore(tc).delete(e),yield i.done})).apply(this,arguments)}function lp(n,e){return Ox.apply(this,arguments)}function Ox(){return(Ox=y(function*(n,e){const t=ed(n),r=(yield Mx()).transaction(tc,"readwrite"),s=r.objectStore(tc),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield r.done,a&&(!o||o.fid!==a.fid)&&F5(n,a.fid),a})).apply(this,arguments)}function Px(n){return Fx.apply(this,arguments)}function Fx(){return Fx=y(function*(n){let e;const t=yield lp(n.appConfig,i=>{const r=function pIe(n){return j5(n||{fid:aIe(),registrationStatus:0})}(i),s=function mIe(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ro.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function gIe(n,e){return Lx.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:_Ie(n)}:{installationEntry:e}}(n,r);return e=s.registrationPromise,s.installationEntry});return t.fid===xx?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),Fx.apply(this,arguments)}function Lx(){return Lx=y(function*(n,e){try{const t=yield function rIe(n,e){return Sx.apply(this,arguments)}(n,e);return Kv(n.appConfig,t)}catch(t){throw k5(t)&&409===t.customData.serverCode?yield Rx(n.appConfig):yield Kv(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),Lx.apply(this,arguments)}function _Ie(n){return Vx.apply(this,arguments)}function Vx(){return(Vx=y(function*(n){let e=yield U5(n.appConfig);for(;1===e.registrationStatus;)yield P5(100),e=yield U5(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield Px(n);return i||t}return e})).apply(this,arguments)}function U5(n){return lp(n,e=>{if(!e)throw Ro.create("installation-not-found");return j5(e)})}function j5(n){return function yIe(n){return 1===n.registrationStatus&&n.registrationTime+x5<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Bx(){return(Bx=y(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=function bIe(n,{fid:e}){return`${Ex(n)}/${e}/authTokens:generate`}(n,t),r=function O5(n,{refreshToken:e}){const t=N5(n);return t.append("Authorization",function iIe(n){return`${M5} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:A5,appId:n.appId}})},l=yield Dx(()=>fetch(i,a));if(l.ok)return R5(yield l.json());throw yield Cx("Generate Auth Token",l)})).apply(this,arguments)}function Ux(n){return jx.apply(this,arguments)}function jx(){return jx=y(function*(n,e=!1){let t;const i=yield lp(n.appConfig,s=>{if(!$5(s))throw Ro.create("not-registered");const o=s.authToken;if(!e&&function CIe(n){return 2===n.requestStatus&&!function IIe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+ZCe}(n)}(o))return s;if(1===o.requestStatus)return t=function wIe(n,e){return Hx.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw Ro.create("app-offline");const a=function DIe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function EIe(n,e){return $x.apply(this,arguments)}(n,a),a}});return t?yield t:i.authToken}),jx.apply(this,arguments)}function Hx(){return(Hx=y(function*(n,e){let t=yield H5(n.appConfig);for(;1===t.authToken.requestStatus;)yield P5(100),t=yield H5(n.appConfig);const i=t.authToken;return 0===i.requestStatus?Ux(n,e):i})).apply(this,arguments)}function H5(n){return lp(n,e=>{if(!$5(e))throw Ro.create("not-registered");return function TIe(n){return 1===n.requestStatus&&n.requestTime+x5<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function $x(){return $x=y(function*(n,e){try{const t=yield function vIe(n,e){return Bx.apply(this,arguments)}(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield Kv(n.appConfig,i),t}catch(t){if(!k5(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Kv(n.appConfig,i)}else yield Rx(n.appConfig);throw t}}),$x.apply(this,arguments)}function $5(n){return void 0!==n&&2===n.registrationStatus}function zx(){return(zx=y(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield Px(e);return i?i.catch(console.error):Ux(e).catch(console.error),t.fid})).apply(this,arguments)}function Gx(){return Gx=y(function*(n,e=!1){const t=n;return yield function AIe(n){return Wx.apply(this,arguments)}(t),(yield Ux(t,e)).token}),Gx.apply(this,arguments)}function Wx(){return(Wx=y(function*(n){const{registrationPromise:e}=yield Px(n);e&&(yield e)})).apply(this,arguments)}function Yx(n){return Ro.create("missing-app-config-values",{valueName:n})}const z5="installations",OIe=n=>{const e=n.getProvider("app").getImmediate(),t=function RIe(n){if(!n||!n.options)throw Yx("App Configuration");if(!n.name)throw Yx("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Yx(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Gi(e,"heartbeat"),_delete:()=>Promise.resolve()}},PIe=n=>{const t=Gi(n.getProvider("app").getImmediate(),z5).getImmediate();return{getId:()=>function SIe(n){return zx.apply(this,arguments)}(t),getToken:r=>function xIe(n){return Gx.apply(this,arguments)}(t,r)}};(function FIe(){Tn(new hn(z5,OIe,"PUBLIC")),Tn(new hn("installations-internal",PIe,"PRIVATE"))})(),Re(S5,wx),Re(S5,wx,"esm2017");const Qx="@firebase/remote-config",W5="remote-config",Wi=new Xr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function $Ie(n=Ms()){return Gi(n=dn(n),W5).getImmediate()}class KIe{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return y(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function YIe(n=navigator){return n.languages&&n.languages[0]||n.language}class QIe{constructor(e,t,i,r,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=o}fetch(e){var t=this;return y(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:YIe()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((w,v)=>{e.signal.addEventListener(()=>{const D=new Error("The operation was aborted.");D.name="AbortError",v(D)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(w){let v="fetch-client-network";throw"AbortError"===w?.name&&(v="fetch-timeout"),Wi.create(v,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let w;try{w=yield h.json()}catch(v){throw Wi.create("fetch-client-parse",{originalErrorMessage:v?.message})}m=w.entries,g=w.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==f&&200!==f)throw Wi.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class JIe{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return y(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return y(function*(){yield function XIe(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(Wi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function ZIe(n){if(!(n instanceof cr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+nx(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(o),r.attemptFetch(e,o)}})()}}class nDe{constructor(e,t,i,r,s){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qv(n,e){const t=n.target.error||void 0;return Wi.create(e,{originalErrorMessage:t&&t?.message})}const nc="app_namespace_store";class oDe{constructor(e,t,i,r=function sDe(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(Qv(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(nc,{keyPath:"compositeKey"})}}catch(t){e(Wi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return y(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{const a=i.transaction([nc],"readonly").objectStore(nc),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(Qv(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(c){s(Wi.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var i=this;return y(function*(){const r=yield i.openDbPromise;return new Promise((s,o)=>{const l=r.transaction([nc],"readwrite").objectStore(nc),c=i.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{o(Qv(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Wi.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return y(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{const a=i.transaction([nc],"readwrite").objectStore(nc),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(Qv(u,"storage-delete"))},c.onsuccess=()=>{r()}}catch(c){s(Wi.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class aDe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield i;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function cDe(){return tA.apply(this,arguments)}function tA(){return(tA=y(function*(){if(!Da())return!1;try{return yield Zu()}catch{return!1}})).apply(this,arguments)}!function lDe(){Tn(new hn(W5,function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wi.create("registration-window");if(!Da())throw Wi.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=i.options;if(!s)throw Wi.create("registration-project-id");if(!o)throw Wi.create("registration-api-key");if(!a)throw Wi.create("registration-app-id");const l=new oDe(a,i.name,t=t||"firebase"),c=new aDe(l),u=new Ta(Qx);u.logLevel=de.ERROR;const d=new QIe(r,ko,t,s,o,a),h=new JIe(d,l),f=new KIe(h,l,c,u),p=new nDe(i,f,c,l,u);return function GIe(n){const e=dn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Re(Qx,"0.4.4"),Re(Qx,"0.4.4","esm2017")}();const uDe=(n,e)=>e.some(t=>n instanceof t);let K5,Y5;const Q5=new WeakMap,nA=new WeakMap,X5=new WeakMap,iA=new WeakMap,rA=new WeakMap;let sA={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return nA.get(n);if("objectStoreNames"===e)return n.objectStoreNames||X5.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return No(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function _De(n){return"function"==typeof n?function gDe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hDe(){return Y5||(Y5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(oA(this),e),No(Q5.get(this))}:function(...e){return No(n.apply(oA(this),e))}:function(e,...t){const i=n.call(oA(this),e,...t);return X5.set(i,e.sort?e.sort():[e]),No(i)}}(n):(n instanceof IDBTransaction&&function pDe(n){if(nA.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});nA.set(n,e)}(n),uDe(n,function dDe(){return K5||(K5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,sA):n)}function No(n){if(n instanceof IDBRequest)return function fDe(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(No(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Q5.set(t,n)}).catch(()=>{}),rA.set(e,n),e}(n);if(iA.has(n))return iA.get(n);const e=_De(n);return e!==n&&(iA.set(n,e),rA.set(e,n)),e}const oA=n=>rA.get(n);function Z5(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,e),a=No(o);return i&&o.addEventListener("upgradeneeded",l=>{i(No(o.result),l.oldVersion,l.newVersion,No(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function aA(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),No(t).then(()=>{})}const yDe=["get","getKey","getAll","getAllKeys","count"],vDe=["put","add","delete","clear"],lA=new Map;function J5(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(lA.get(e))return lA.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=vDe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!yDe.includes(t))return;const s=function(){var o=y(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return lA.set(e,s),s}!function mDe(n){sA=n(sA)}(n=>({...n,get:(e,t,i)=>J5(e,t)||n.get(e,t,i),has:(e,t)=>!!J5(e,t)||n.has(e,t)}));const bDe="/firebase-messaging-sw.js",wDe="/firebase-cloud-messaging-push-scope",eq="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",EDe="https://fcmregistrations.googleapis.com/v1",tq="google.c.a.c_id",CDe="google.c.a.c_l",IDe="google.c.a.ts";var Aa=(()=>((Aa=Aa||{}).PUSH_RECEIVED="push-received",Aa.NOTIFICATION_CLICKED="notification-clicked",Aa))();function Oo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function TDe(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const cA="fcm_token_details_db",SDe=5,nq="fcm_token_object_Store";function uA(){return uA=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(cA))return null;let e=null;return(yield Z5(cA,SDe,{upgrade:(i=y(function*(r,s,o,a){var l;if(s<2||!r.objectStoreNames.contains(nq))return;const c=a.objectStore(nq),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Oo(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oo(d.auth),p256dh:Oo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oo(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oo(d.auth),p256dh:Oo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oo(d.vapidKey)}}}}),function(s,o,a,l){return i.apply(this,arguments)})})).close(),yield aA(cA),yield aA("fcm_vapid_details_db"),yield aA("undefined"),function ADe(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),uA.apply(this,arguments)}const MDe="firebase-messaging-database",kDe=1,ic="firebase-messaging-store";let dA=null;function hA(){return dA||(dA=Z5(MDe,kDe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ic)}})),dA}function iq(n){return fA.apply(this,arguments)}function fA(){return fA=y(function*(n){const e=_A(n),i=yield(yield hA()).transaction(ic).objectStore(ic).get(e);if(i)return i;{const r=yield function xDe(n){return uA.apply(this,arguments)}(n.appConfig.senderId);if(r)return yield pA(n,r),r}}),fA.apply(this,arguments)}function pA(n,e){return mA.apply(this,arguments)}function mA(){return(mA=y(function*(n,e){const t=_A(n),r=(yield hA()).transaction(ic,"readwrite");return yield r.objectStore(ic).put(e,t),yield r.done,e})).apply(this,arguments)}function gA(){return(gA=y(function*(n){const e=_A(n),i=(yield hA()).transaction(ic,"readwrite");yield i.objectStore(ic).delete(e),yield i.done})).apply(this,arguments)}function _A({appConfig:n}){return n.appId}const Jn=new Xr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ODe(n,e){return yA.apply(this,arguments)}function yA(){return(yA=y(function*(n,e){const t=yield EA(n),i=sq(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(wA(n.appConfig),r)).json()}catch(o){throw Jn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Jn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Jn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function vA(){return(vA=y(function*(n,e){const t=yield EA(n),i=sq(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(`${wA(n.appConfig)}/${e.token}`,r)).json()}catch(o){throw Jn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Jn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Jn.create("token-update-no-token");return s.token})).apply(this,arguments)}function rq(n,e){return bA.apply(this,arguments)}function bA(){return(bA=y(function*(n,e){const i={method:"DELETE",headers:yield EA(n)};try{const s=yield(yield fetch(`${wA(n.appConfig)}/${e}`,i)).json();if(s.error)throw Jn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(r){throw Jn.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function wA({projectId:n}){return`${EDe}/projects/${n}/registrations`}function EA(n){return CA.apply(this,arguments)}function CA(){return(CA=y(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function sq({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==eq&&(r.web.applicationPubKey=i),r}const FDe=6048e5;function IA(){return IA=y(function*(n){const e=yield function BDe(n,e){return xA.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Oo(e.getKey("auth")),p256dh:Oo(e.getKey("p256dh"))},i=yield iq(n.firebaseDependencies);if(i){if(function UDe(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,t))return Date.now()>=i.createTime+FDe?function VDe(n,e){return TA.apply(this,arguments)}(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield rq(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return aq(n.firebaseDependencies,t)}return aq(n.firebaseDependencies,t)}),IA.apply(this,arguments)}function DA(){return DA=y(function*(n){const e=yield iq(n.firebaseDependencies);e&&(yield rq(n.firebaseDependencies,e.token),yield function RDe(n){return gA.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),DA.apply(this,arguments)}function TA(){return TA=y(function*(n,e){try{const t=yield function PDe(n,e){return vA.apply(this,arguments)}(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield pA(n.firebaseDependencies,i),t}catch(t){throw yield function oq(n){return DA.apply(this,arguments)}(n),t}}),TA.apply(this,arguments)}function aq(n,e){return SA.apply(this,arguments)}function SA(){return(SA=y(function*(n,e){const i={token:yield ODe(n,e),createTime:Date.now(),subscriptionOptions:e};return yield pA(n,i),i.token})).apply(this,arguments)}function xA(){return(xA=y(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:TDe(e)})})).apply(this,arguments)}function lq(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function jDe(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function HDe(n,e){e.data&&(n.data=e.data)}(e,n),function $De(n,e){var t,i,r,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function cq(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function AA(n){return Jn.create("missing-app-config-values",{valueName:n})}cq("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),cq("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class WDe{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function GDe(n){if(!n||!n.options)throw AA("App Configuration Object");if(!n.name)throw AA("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw AA(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function MA(){return(MA=y(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(bDe,{scope:wDe}),n.swRegistration.update().catch(()=>{})}catch(e){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function kA(){return(kA=y(function*(n,e){if(!e&&!n.swRegistration&&(yield function uq(n){return MA.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function RA(){return(RA=y(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=eq)})).apply(this,arguments)}function NA(){return NA=y(function*(n,e){if(!navigator)throw Jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jn.create("permission-blocked");return yield function KDe(n,e){return RA.apply(this,arguments)}(n,e?.vapidKey),yield function qDe(n,e){return kA.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function LDe(n){return IA.apply(this,arguments)}(n)}),NA.apply(this,arguments)}function OA(){return(OA=y(function*(n,e,t){const i=function QDe(n){switch(n){case Aa.NOTIFICATION_CLICKED:return"notification_open";case Aa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[tq],message_name:t[CDe],message_time:t[IDe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function PA(){return PA=y(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Aa.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(lq(t)):n.onMessageHandler.next(lq(t)));const i=t.data;(function zDe(n){return"object"==typeof n&&!!n&&tq in n})(i)&&"1"===i["google.c.a.e"]&&(yield function YDe(n,e,t){return OA.apply(this,arguments)}(n,t.messageType,i))}),PA.apply(this,arguments)}const hq="@firebase/messaging",ZDe=n=>{const e=new WDe(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function XDe(n,e){return PA.apply(this,arguments)}(e,t)),e},JDe=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function dq(n,e){return NA.apply(this,arguments)}(e,i)}};function pq(){return FA.apply(this,arguments)}function FA(){return(FA=y(function*(){try{yield Zu()}catch{return!1}return typeof window<"u"&&Da()&&jv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function iTe(n=Ms()){return pq().then(e=>{if(!e)throw Jn.create("unsupported-browser")},e=>{throw Jn.create("indexed-db-unsupported")}),Gi(dn(n),"messaging").getImmediate()}!function eTe(){Tn(new hn("messaging",ZDe,"PUBLIC")),Tn(new hn("messaging-internal",JDe,"PRIVATE")),Re(hq,"0.12.4"),Re(hq,"0.12.4","esm2017")}();const Xv="analytics",rTe="firebase_id",sTe="origin",oTe=6e4,aTe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",BA="https://www.googletagmanager.com/gtag/js",Rn=new Ta("@firebase/analytics"),Si=new Xr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cTe(n){if(!n.startsWith(BA)){const e=Si.create("invalid-gtag-resource",{gtagURL:n});return Rn.warn(e.message),""}return n}function mq(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function UA(){return(UA=y(function*(n,e,t,i,r,s){const o=i[r];try{if(o)yield e[o];else{const l=(yield mq(t)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){Rn.error(a)}n("config",r,s)})).apply(this,arguments)}function jA(){return(jA=y(function*(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=yield mq(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){Rn.error(s)}})).apply(this,arguments)}const yTe=30,gq=new class bTe{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function wTe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function HA(){return(HA=y(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:wTe(i)},s=aTe.replace("{app-id}",t),o=yield fetch(s,r);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Si.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function $A(){return($A=y(function*(n,e=gq,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw Si.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Si.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new TTe;return setTimeout(y(function*(){a.abort()}),void 0!==t?t:oTe),_q({appId:i,apiKey:r,measurementId:s},o,a,e)})).apply(this,arguments)}function _q(n,e,t){return zA.apply(this,arguments)}function zA(){return zA=y(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=gq){var s;const{appId:o,measurementId:a}=n;try{yield function ITe(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(Si.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(l){if(a)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield function ETe(n){return HA.apply(this,arguments)}(n);return r.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!function DTe(n){if(!(n instanceof cr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(r.deleteThrottleMetadata(o),a)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?nx(t,r.intervalMillis,yTe):nx(t,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return r.setThrottleMetadata(o,d),Rn.debug(`Calling attemptFetch again in ${u} millis`),_q(n,d,i,r)}}),zA.apply(this,arguments)}class TTe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let GA,ZA;function WA(){return(WA=y(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const s=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function KA(){return(KA=y(function*(n,e,t,i){if(i&&i.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}function JA(){return(JA=y(function*(){if(!Da())return Rn.warn(Si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Zu()}catch(n){return Rn.warn(Si.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function eM(){return eM=y(function*(n,e,t,i,r,s,o){var a;const l=function CTe(n){return $A.apply(this,arguments)}(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Rn.error(f)),e.push(l);const c=function NTe(){return JA.apply(this,arguments)}().then(f=>{if(f)return i.getId()}),[u,d]=yield Promise.all([l,c]);(function _Te(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(BA)&&t.src.includes(n))return t;return null})(s)||function dTe(n,e){const t=function uTe(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:cTe}),i=document.createElement("script"),r=`${BA}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(s,u.measurementId),ZA&&(r("consent","default",ZA),function yq(n){ZA=n}(void 0)),r("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[sTe]="firebase",h.update=!0,null!=d&&(h[rTe]=d),r("config",u.measurementId,h),GA&&(r("set",GA),function vq(n){GA=n}(void 0)),u.measurementId}),eM.apply(this,arguments)}class PTe{constructor(e){this.app=e}_delete(){return delete ks[this.app.options.appId],Promise.resolve()}}let ks={},bq=[];const wq={};let Cq,Rs,Zv="dataLayer",tM=!1;function LTe(n,e,t){!function FTe(){const n=[];if(JS()&&n.push("This is a browser extension environment."),jv()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Si.create("invalid-analytics-context",{errorInfo:e});Rn.warn(t.message)}}();const i=n.options.appId;if(!i)throw Si.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Si.create("no-api-key");Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ks[i])throw Si.create("already-exists",{id:i});if(!tM){!function hTe(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Zv);const{wrappedGtag:s,gtagCore:o}=function gTe(n,e,t,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function mTe(n,e,t,i){function s(){return s=y(function*(o,...a){try{if("event"===o){const[l,c]=a;yield function pTe(n,e,t,i,r){return jA.apply(this,arguments)}(n,e,t,l,c)}else if("config"===o){const[l,c]=a;yield function fTe(n,e,t,i,r,s){return UA.apply(this,arguments)}(n,e,t,i,l,c)}else if("consent"===o){const[l]=a;n("consent","update",l)}else if("get"===o){const[l,c,u]=a;n("get",l,c,u)}else if("set"===o){const[l]=a;n("set",l)}else n(o,...a)}catch(l){Rn.error(l)}}),s.apply(this,arguments)}return function r(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}(ks,bq,wq,Zv,"gtag");Rs=s,Cq=o,tM=!0}return ks[i]=function OTe(n,e,t,i,r,s,o){return eM.apply(this,arguments)}(n,bq,wq,e,Cq,Zv,t),new PTe(n)}function VTe(n=Ms()){const e=Gi(n=dn(n),Xv);return e.isInitialized()?e.getImmediate():function BTe(n,e={}){const t=Gi(n,Xv);if(t.isInitialized()){const r=t.getImmediate();if(sp(e,t.getOptions()))return r;throw Si.create("already-initialized")}return t.initialize({options:e})}(n)}function UTe(){return nM.apply(this,arguments)}function nM(){return(nM=y(function*(){if(JS()||!jv()||!Da())return!1;try{return yield Zu()}catch{return!1}})).apply(this,arguments)}function jTe(n,e,t){n=dn(n),function ATe(n,e,t,i){return KA.apply(this,arguments)}(Rs,ks[n.app.options.appId],e,t).catch(i=>Rn.error(i))}function Iq(n,e,t,i){n=dn(n),function STe(n,e,t,i,r){return WA.apply(this,arguments)}(Rs,ks[n.app.options.appId],e,t,i).catch(r=>Rn.error(r))}const Dq="@firebase/analytics";!function HTe(){Tn(new hn(Xv,(e,{options:t})=>LTe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Tn(new hn("analytics-internal",function n(e){try{const t=e.getProvider(Xv).getImmediate();return{logEvent:(i,r,s)=>Iq(t,i,r,s)}}catch(t){throw Si.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Re(Dq,"0.10.0"),Re(Dq,"0.10.0","esm2017")}();const ur=new oa("7.6.1"),rM="__angularfire_symbol__analyticsIsSupportedValue",sM="__angularfire_symbol__analyticsIsSupported",oM="__angularfire_symbol__remoteConfigIsSupportedValue",aM="__angularfire_symbol__remoteConfigIsSupported",lM="__angularfire_symbol__messagingIsSupportedValue",cM="__angularfire_symbol__messagingIsSupported";globalThis[sM]||(globalThis[sM]=UTe().then(n=>globalThis[rM]=n).catch(()=>globalThis[rM]=!1)),globalThis[cM]||(globalThis[cM]=pq().then(n=>globalThis[lM]=n).catch(()=>globalThis[lM]=!1)),globalThis[aM]||(globalThis[aM]=cDe().then(n=>globalThis[oM]=n).catch(()=>globalThis[oM]=!1));const uM=n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`,Jv={async:()=>globalThis[cM],sync:()=>{const n=globalThis[lM];if(void 0===n)throw new Error(uM("Messaging"));return n}},eb={async:()=>globalThis[aM],sync:()=>{const n=globalThis[oM];if(void 0===n)throw new Error(uM("RemoteConfig"));return n}},tb={async:()=>globalThis[sM],sync:()=>{const n=globalThis[rM];if(void 0===n)throw new Error(uM("Analytics"));return n}};function Ns(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const Os=(n,e)=>{const t=e?[e]:g5(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};function nd(){}class Sq{constructor(e,t=Pz){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{e.apply(this,[o])})},t,i)}}class $Te{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nd,{},nd,nd)),t.pipe(Dn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ps=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Sq(Zone.current)),this.insideAngular=t.run(()=>new Sq(Zone.current,Qy)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(b(q))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rc(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function sc(n){return rc().ngZone.run(()=>n())}function GTe(n){return rc(),function WTe(n){return function(t){return(t=t.lift(new $Te(n.ngZone))).pipe(xg(n.outsideAngular),vh(n.insideAngular))}}(rc())(n)}const qTe=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),sc(()=>n.apply(void 0,i))},xi=(n,e)=>function(){let t;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(e&&(t||(t=sc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nd,{},nd,nd)))),i[s]=qTe(i[s],t));const r=function zTe(n){return rc().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof Ke){const s=rc();return r.pipe(xg(s.outsideAngular),vh(s.insideAngular))}return sc(()=>r)}return r instanceof Ke?r.pipe(GTe):r instanceof Promise?sc(()=>new Promise((s,o)=>r.then(a=>sc(()=>s(a)),a=>sc(()=>o(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:sc(()=>r)};class dr{constructor(e){return e}}class Fs{constructor(){return g5()}}const dM=new E("angularfire2._apps"),YTe={provide:dr,useFactory:function KTe(n){return n&&1===n.length?n[0]:new dr(Ms())},deps:[[new Ae,dM]]},QTe={provide:Fs,deps:[[new Ae,dM]]};function XTe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new dr(i)}}let ZTe=(()=>{class n{constructor(t){Re("angularfire",ur.full,"core"),Re("angularfire",ur.full,"app"),Re("angular",dB.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(b(Hr))},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[YTe,QTe]}),n})();function JTe(n,...e){return{ngModule:ZTe,providers:[{provide:dM,useFactory:XTe(n),multi:!0,deps:[q,it,Ps,...e]}]}}const eSe=xi(m5,!0),hM=new Map,xq={activated:!1,tokenObservers:[]},tSe={initialized:!1,enabled:!1};function Gt(n){return hM.get(n)||Object.assign({},xq)}function nb(){return tSe}const fM="https://content-firebaseappcheck.googleapis.com/v1",sSe="exchangeDebugToken",Aq={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class aSe{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return y(function*(){t.stop();try{t.pending=new Xu,yield function lSe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xu,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ei=new Xr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pM(n){if(!Gt(n).activated)throw ei.create("use-before-activation",{appName:n.name})}function sb(n,e){return gM.apply(this,arguments)}function gM(){return(gM=y(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const d=yield r.getHeartbeatsHeader();d&&(i["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:i};let o,a;try{o=yield fetch(n,s)}catch(d){throw ei.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw ei.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw ei.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw ei.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function Mq(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${fM}/projects/${t}/apps/${i}:${sSe}?key=${r}`,body:{debug_token:e}}}const hSe="firebase-app-check-database",fSe=1,cp="firebase-app-check-store";let ob=null;function _M(){return(_M=y(function*(n,e){const i=(yield function Rq(){return ob||(ob=new Promise((n,e)=>{try{const t=indexedDB.open(hSe,fSe);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(ei.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(cp,{keyPath:"compositeKey"})}}catch(t){e(ei.create("storage-open",{originalErrorMessage:t?.message}))}}),ob)}()).transaction(cp,"readwrite"),s=i.objectStore(cp).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(ei.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const up=new Ta("@firebase/app-check");function bM(n,e){return Da()?function mSe(n,e){return function Nq(n,e){return _M.apply(this,arguments)}(function Pq(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{up.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function EM(){return nb().enabled}function CM(){return IM.apply(this,arguments)}function IM(){return(IM=y(function*(){const n=nb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const wSe={error:"UNKNOWN_ERROR"};function ESe(n){return Fv.encodeString(JSON.stringify(n),!1)}function ab(n){return DM.apply(this,arguments)}function DM(){return(DM=y(function*(n,e=!1){const t=n.app;pM(t);const i=Gt(t);let s,r=i.token;if(r&&!id(r)&&(i.token=void 0,r=void 0),!r){const l=yield i.cachedTokenPromise;l&&(id(l)?r=l:yield bM(t,void 0))}if(!e&&r&&id(r))return{token:r.token};let a,o=!1;if(EM()){i.exchangeTokenPromise||(i.exchangeTokenPromise=sb(Mq(t,yield CM()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);const l=yield i.exchangeTokenPromise;return yield bM(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield Gt(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?up.warn(l.message):up.error(l),s=l}return r?s?a=id(r)?{token:r.token,internalError:s}:Bq(s):(a={token:r.token},i.token=r,yield bM(t,r)):a=Bq(s),o&&function Vq(n,e){const t=Gt(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function Fq(n){return TM.apply(this,arguments)}function TM(){return(TM=y(function*(n){const e=n.app;pM(e);const{provider:t}=Gt(e);if(EM()){const i=yield CM(),{token:r}=yield sb(Mq(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function xM(n,e){const t=Gt(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Lq(n){const{app:e}=n,t=Gt(e);let i=t.tokenRefresher;i||(i=function CSe(n){const{app:e}=n;return new aSe(y(function*(){let i;if(i=Gt(e).token?yield ab(n,!0):yield ab(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Gt(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Aq.RETRIAL_MIN_WAIT,Aq.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function id(n){return n.expireTimeMillis-Date.now()>0}function Bq(n){return{token:ESe(wSe),error:n}}class ISe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Gt(this.app);for(const t of e)xM(this.app,t.next);return Promise.resolve()}}const qq="app-check-internal";!function VSe(){Tn(new hn("app-check",n=>function DSe(n,e){return new ISe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qq).initialize()})),Tn(new hn(qq,n=>function TSe(n){return{getToken:e=>ab(n,e),getLimitedUseToken:()=>Fq(n),addTokenListener:e=>function SM(n,e,t,i){const{app:r}=n,s=Gt(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&id(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),Lq(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Lq(n))}(n,"INTERNAL",e),removeTokenListener:e=>xM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Re("@firebase/app-check","0.8.0")}();class rd{constructor(){return Os("app-check")}}typeof window<"u"&&window;const $Se=function Yq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qq=new Xr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cb=new Ta("@firebase/auth");function ub(n,...e){cb.logLevel<=de.ERROR&&cb.error(`Auth (${ko}): ${n}`,...e)}function qi(n,...e){throw NM(n,...e)}function Ls(n,...e){return NM(n,...e)}function NM(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Qq.create(n,...e)}function V(n,e,...t){if(!n)throw NM(e,...t)}function Vs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ub(e),new Error(e)}function Ma(n,e){n||Vs(e)}function dp(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Zq(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class hp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ma(t>e,"Short delay should be less than long delay!"),this.isMobile=ZS()||o5()}get(){return function GSe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function OM(){return"http:"===Zq()||"https:"===Zq()}()||JS()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function PM(n,e){Ma(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Jq{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qSe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},KSe=new hp(3e4,6e4);function Lt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Wt(n,e,t,i){return FM.apply(this,arguments)}function FM(){return(FM=y(function*(n,e,t,i,r={}){return e6(n,r,y(function*(){let s={},o={};i&&("GET"===e?o=i:s={body:JSON.stringify(i)});const a=op(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),Jq.fetch()(t6(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function e6(n,e,t){return LM.apply(this,arguments)}function LM(){return(LM=y(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},qSe),e);try{const r=new YSe(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw fp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw fp(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw fp(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw fp(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function Xq(n,e,t){const i=Object.assign(Object.assign({},$Se()),{[e]:t});return new Xr("auth","Firebase",i).create(e,{appName:n.name})}(n,u,c);qi(n,u)}}catch(r){if(r instanceof cr)throw r;qi(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function VM(){return(VM=y(function*(n,e,t,i,r={}){const s=yield Wt(n,e,t,i,r);return"mfaPendingCredential"in s&&qi(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function t6(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?PM(n.config,r):`${n.config.apiScheme}://${r}`}class YSe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ls(this.auth,"network-request-failed")),KSe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fp(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Ls(n,e,i);return r.customData._tokenResponse=t,r}function BM(){return(BM=y(function*(n,e){return Wt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function jM(){return(jM=y(function*(n,e){return Wt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function pp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function HM(){return(HM=y(function*(n,e=!1){const t=dn(n),i=yield t.getIdToken(e),r=db(i);V(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:pp($M(r.auth_time)),issuedAtTime:pp($M(r.iat)),expirationTime:pp($M(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function $M(n){return 1e3*Number(n)}function db(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return ub("JWT malformed, contained fewer than 3 sections"),null;try{const r=Vv(t);return r?JSON.parse(r):(ub("Failed to decode base64 JWT payload"),null)}catch(r){return ub("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Fo(n,e){return zM.apply(this,arguments)}function zM(){return(zM=y(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof cr&&function txe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class nxe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield t.iteration()}),i)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class n6{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pp(this.lastLoginAt),this.creationTime=pp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mp(n){return GM.apply(this,arguments)}function GM(){return GM=y(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield Fo(n,function ZSe(n,e){return jM.apply(this,arguments)}(t,{idToken:i}));V(r?.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function sxe(n){return n.map(e=>{var{providerId:t}=e,i=pE(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(s.providerUserInfo):[],a=function rxe(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new n6(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),GM.apply(this,arguments)}function WM(){return(WM=y(function*(n){const e=dn(n);yield mp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function qM(){return(qM=y(function*(n,e){const t=yield e6(n,{},y(function*(){const i=op({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=t6(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Jq.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class gp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function exe(n){const e=db(n);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return y(function*(){return V(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return y(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function oxe(n,e){return qM.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new gp;return i&&(V("string"==typeof i,"internal-error",{appName:e}),o.refreshToken=i),r&&(V("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),s&&(V("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gp,this.toJSON())}_performRefresh(){return Vs("not implemented")}}function ka(n,e){V("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class oc{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=pE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nxe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new n6(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return y(function*(){const i=yield Fo(t,t.stsTokenManager.getToken(t.auth,e));return V(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function JSe(n){return HM.apply(this,arguments)}(this,e)}reload(){return function ixe(n){return WM.apply(this,arguments)}(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new oc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return y(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield mp(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return y(function*(){const t=yield e.getIdToken();return yield Fo(e,function QSe(n,e){return BM.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,c,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,w=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:D,emailVerified:S,isAnonymous:H,providerData:ee,stsTokenManager:ke}=t;V(D&&ke,e,"internal-error");const Mt=gp.fromJSON(this.name,ke);V("string"==typeof D,e,"internal-error"),ka(d,e.name),ka(h,e.name),V("boolean"==typeof S,e,"internal-error"),V("boolean"==typeof H,e,"internal-error"),ka(f,e.name),ka(p,e.name),ka(m,e.name),ka(g,e.name),ka(w,e.name),ka(v,e.name);const _n=new oc({uid:D,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Mt,createdAt:w,lastLoginAt:v});return ee&&Array.isArray(ee)&&(_n.providerData=ee.map(us=>Object.assign({},us))),g&&(_n._redirectEventId=g),_n}static _fromIdTokenResponse(e,t,i=!1){return y(function*(){const r=new gp;r.updateFromServerResponse(t);const s=new oc({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield mp(s),s})()}}const i6=new Map;function Lo(n){Ma(n instanceof Function,"Expected a class definition");let e=i6.get(n);return e?(Ma(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,i6.set(n,e),e)}const r6=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(t,i){var r=this;return y(function*(){r.storage[t]=i})()}_get(t){var i=this;return y(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return y(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function hb(n,e,t){return`firebase:${n}:${e}:${t}`}class od{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=hb(this.userKey,r.apiKey,s),this.fullPersistenceKey=hb("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?oc._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return y(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return y(function*(){if(!t.length)return new od(Lo(r6),e,i);const r=(yield Promise.all(t.map(function(){var c=y(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||Lo(r6);const o=hb(i,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=oc._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=y(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new od(s,e,i)):new od(s,e,i)})()}}function s6(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(o6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u6(e))return"Blackberry";if(d6(e))return"Webos";if(KM(e))return"Safari";if((e.includes("chrome/")||a6(e))&&!e.includes("edge/"))return"Chrome";if(c6(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function o6(n=kn()){return/firefox\//i.test(n)}function KM(n=kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function a6(n=kn()){return/crios\//i.test(n)}function l6(n=kn()){return/iemobile/i.test(n)}function c6(n=kn()){return/android/i.test(n)}function u6(n=kn()){return/blackberry/i.test(n)}function d6(n=kn()){return/webos/i.test(n)}function fb(n=kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function h6(n=kn()){return fb(n)||c6(n)||d6(n)||u6(n)||/windows phone/i.test(n)||l6(n)}function f6(n,e=[]){let t;switch(n){case"Browser":t=s6(kn());break;case"Worker":t=`${s6(kn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ko}/${i}`}function p6(n,e){return QM.apply(this,arguments)}function QM(){return(QM=y(function*(n,e){return Wt(n,"GET","/v2/recaptchaConfig",Lt(n,e))})).apply(this,arguments)}function g6(n){return void 0!==n&&void 0!==n.enterprise}class _6{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function XM(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Ls("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",function dxe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function y6(n){return`__${n}${Math.floor(1e6*Math.random())}`}class v6{constructor(e){this.type="recaptcha-enterprise",this.auth=Nn(e)}verify(e="verify",t=!1){var i=this;return y(function*(){function s(){return s=y(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=y(function*(c,u){p6(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new _6(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,c){const u=window.grecaptcha;g6(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function r(a){return s.apply(this,arguments)})(i.auth).then(c=>{if(!t&&g6(window.grecaptcha))o(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));XM("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}class mxe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return y(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class gxe{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b6(this),this.idTokenSubscription=new b6(this),this.beforeStateQueue=new mxe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Lo(t)),this._initializationPromise=this.queue(y(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield od.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return y(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return V(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return y(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return y(function*(){try{yield mp(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function WSe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return y(function*(){const i=e?dn(e):null;return i&&V(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return y(function*(){if(!i._deleted)return e&&V(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(y(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(y(function*(){yield t.assertedPersistence.setPersistence(Lo(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const t=yield p6(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new _6(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new v6(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xr("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return y(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return y(function*(){if(!t.redirectPersistenceManager){const i=e&&Lo(e)||t._popupRedirectResolver;V(i,t,"argument-error"),t.redirectPersistenceManager=yield od.create(t,[Lo(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return y(function*(){var i,r;return t._isInitialized&&(yield t.queue(y(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return y(function*(){if(e===t.currentUser)return t.queue(y(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return V(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return y(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield e._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var e=this;return y(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function zSe(n,...e){cb.logLevel<=de.WARN&&cb.warn(`Auth (${ko}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Nn(n){return dn(n)}class b6{constructor(e){this.auth=e,this.observer=null,this.addObserver=function DEe(n,e){const t=new TEe(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function w6(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function E6(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Exe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vs("not implemented")}_getIdTokenResponse(e){return Vs("not implemented")}_linkToIdToken(e,t){return Vs("not implemented")}_getReauthenticationResolver(e){return Vs("not implemented")}}function Vo(n,e){return pk.apply(this,arguments)}function pk(){return(pk=y(function*(n,e){return function Po(n,e,t,i){return VM.apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",Lt(n,e))})).apply(this,arguments)}class Na{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fxe extends Na{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return y(function*(){const s=yield oc._fromIdTokenResponse(e,i,r),o=T6(i);return new Pr({user:s,providerId:o,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return y(function*(){yield e._updateTokensIfNecessary(i,!0);const r=T6(i);return new Pr({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function T6(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class yb extends cr{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,yb.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new yb(e,t,i,r)}}function S6(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?yb._fromErrorAndOperation(n,s,e,i):s})}function Ik(){return(Ik=y(function*(n,e,t=!1){const i=yield Fo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Pr._forOperation(n,"link",i)})).apply(this,arguments)}function Tk(){return(Tk=y(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const s=yield Fo(n,S6(i,r,e,n),t);V(s.idToken,i,"internal-error");const o=db(s.idToken);V(o,i,"internal-error");const{sub:a}=o;return V(n.uid===a,i,"user-mismatch"),Pr._forOperation(n,r,s)}catch(s){throw"auth/user-not-found"===s?.code&&qi(i,"user-mismatch"),s}})).apply(this,arguments)}function Sk(){return(Sk=y(function*(n,e,t=!1){const i="signIn",r=yield S6(n,i,e),s=yield Pr._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const bb="__sak";class R6{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bb,"1"),this.storage.removeItem(bb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oAe=(()=>{class n extends R6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function iAe(){const n=kn();return KM(n)||fb(n)}()&&function cxe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=h6(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const s=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);!function lxe(){return function yEe(){const n=kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,s=this;return y(function*(){yield r().call(s,t,i),s.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return y(function*(){const s=yield i().call(r,t);return r.localCache[t]=JSON.stringify(s),s})()}_remove(t){var i=()=>super._remove,r=this;return y(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),N6=(()=>{class n extends R6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let lAe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return y(function*(){const r=t,{eventId:s,eventType:o,data:a}=r.data,l=i.handlersMap[o];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=y(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function aAe(n){return Promise.all(n.map(function(){var e=y(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function iR(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class cAe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return y(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=iR("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},r.handlers.add(a),s.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function fn(){return window}function rR(){return typeof fn().WorkerGlobalScope<"u"&&"function"==typeof fn().importScripts}function sR(){return(sR=y(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const O6="firebaseLocalStorageDb",wb="firebaseLocalStorage",P6="fbase_key";class bp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Eb(n,e){return n.transaction([wb],e?"readwrite":"readonly").objectStore(wb)}function oR(){const n=indexedDB.open(O6,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wb,{keyPath:P6})}catch(r){t(r)}}),n.addEventListener("success",y(function*(){const i=n.result;i.objectStoreNames.contains(wb)?e(i):(i.close(),yield function mAe(){const n=indexedDB.deleteDatabase(O6);return new bp(n).toPromise()}(),e(yield oR()))}))})}function F6(n,e,t){return aR.apply(this,arguments)}function aR(){return(aR=y(function*(n,e,t){const i=Eb(n,!0).put({[P6]:e,value:t});return new bp(i).toPromise()})).apply(this,arguments)}function lR(){return(lR=y(function*(n,e){const t=Eb(n,!1).get(e),i=yield new bp(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function L6(n,e){const t=Eb(n,!0).delete(e);return new bp(t).toPromise()}const vAe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return y(function*(){return t.db||(t.db=yield oR()),t.db})()}_withRetries(t){var i=this;return y(function*(){let r=0;for(;;)try{const s=yield i._openDb();return yield t(s)}catch(s){if(r++>3)throw s;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return y(function*(){return rR()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return y(function*(){t.receiver=lAe._getInstance(function fAe(){return rR()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=y(function*(r,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(r,s){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=y(function*(r,s){return["keyChanged"]});return function(r,s){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return y(function*(){var i,r;if(t.activeServiceWorker=yield function dAe(){return sR.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new cAe(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(i=s[0])&&void 0!==i&&i.fulfilled&&null!==(r=s[0])&&void 0!==r&&r.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return y(function*(){if(i.sender&&i.activeServiceWorker&&function hAe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const t=yield oR();return yield F6(t,bb,"1"),yield L6(t,bb),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return y(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(s=>F6(s,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return y(function*(){const r=yield i._withRetries(s=>function gAe(n,e){return lR.apply(this,arguments)}(s,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(r=>L6(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return y(function*(){const i=yield t._withRetries(o=>{const a=Eb(o,!1).getAll();return new bp(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],s=new Set;for(const{fbase_key:o,value:a}of i)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),r.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),r.push(o));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();y6("rcb"),new hp(3e4,6e4);class _R extends Exe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function PAe(n){return function M6(n,e){return Sk.apply(this,arguments)}(n.auth,new _R(n),n.bypassAuthState)}function FAe(n){const{auth:e,user:t}=n;return V(t,e,"internal-error"),function A6(n,e){return Tk.apply(this,arguments)}(t,new _R(n),n.bypassAuthState)}function LAe(n){return yR.apply(this,arguments)}function yR(){return(yR=y(function*(n){const{auth:e,user:t}=n;return V(t,e,"internal-error"),function Ck(n,e){return Ik.apply(this,arguments)}(t,new _R(n),n.bypassAuthState)})).apply(this,arguments)}class VAe{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=y(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return y(function*(){const{urlResponse:i,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:i,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PAe;case"linkViaPopup":case"linkViaRedirect":return LAe;case"reauthViaPopup":case"reauthViaRedirect":return FAe;default:qi(this.auth,"internal-error")}}resolve(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new hp(2e3,1e4);const BAe="pendingRedirect",wp=new Map;class UAe extends VAe{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return y(function*(){let i=wp.get(t.auth._key());if(!i){try{const s=(yield function jAe(n,e){return CR.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(s)}catch(r){i=()=>Promise.reject(r)}wp.set(t.auth._key(),i)}return t.bypassAuthState||wp.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return y(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function CR(){return(CR=y(function*(n,e){const t=function U6(n){return hb(BAe,n.config.apiKey,n.name)}(e),i=function B6(n){return Lo(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function HAe(n,e){wp.set(n._key(),e)}function j6(n,e){return MR.apply(this,arguments)}function MR(){return(MR=y(function*(n,e,t=!1){const i=Nn(n),r=function lc(n,e){return e?Lo(e):(V(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(i,e),o=yield new UAe(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})).apply(this,arguments)}class qAe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function KAe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z6(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!z6(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ls(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($6(e))}saveEventToCache(e){this.cachedEventUids.add($6(e)),this.lastProcessedEventTime=Date.now()}}function $6(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function z6({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function RR(){return(RR=y(function*(n,e={}){return Wt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const QAe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XAe=/^https?/;function NR(){return NR=y(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function YAe(n){return RR.apply(this,arguments)}(n);for(const t of e)try{if(JAe(t))return}catch{}qi(n,"unauthorized-domain")}),NR.apply(this,arguments)}function JAe(n){const e=dp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===i}if(!XAe.test(t))return!1;if(QAe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const eMe=new hp(3e4,6e4);function G6(){const n=fn().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Ib=null;const iMe=new hp(5e3,15e3),rMe="__/auth/iframe",sMe="emulator/auth/iframe",oMe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aMe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lMe(n){const e=n.config;V(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?PM(e,sMe):`https://${n.config.authDomain}/${rMe}`,i={apiKey:e.apiKey,appName:n.name,v:ko},r=aMe.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${op(i).slice(1)}`}function OR(){return OR=y(function*(n){const e=yield function nMe(n){return Ib=Ib||function tMe(n){return new Promise((e,t)=>{var i,r,s;function o(){G6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G6(),t(Ls(n,"network-request-failed"))},timeout:eMe.get()})}if(null!==(r=null===(i=fn().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(s=fn().gapi)||void 0===s||!s.load){const a=y6("iframefcb");return fn()[a]=()=>{gapi.load?o():t(Ls(n,"network-request-failed"))},XM(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw Ib=null,e})}(n),Ib}(n),t=fn().gapi;return V(t,n,"internal-error"),e.open({where:document.body,url:lMe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oMe,dontclear:!0},i=>new Promise(function(){var r=y(function*(s,o){yield i.restyle({setHideOnLeave:!1});const a=Ls(n,"network-request-failed"),l=fn().setTimeout(()=>{o(a)},iMe.get());function c(){fn().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{o(a)})});return function(s,o){return r.apply(this,arguments)}}()))}),OR.apply(this,arguments)}const uMe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class W6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _Me="__/auth/handler",yMe="emulator/auth/handler",vMe=encodeURIComponent("fac");function q6(n,e,t,i,r,s){return PR.apply(this,arguments)}function PR(){return(PR=y(function*(n,e,t,i,r,s){V(n.config.authDomain,n,"auth-domain-config-required"),V(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ko,eventId:r};if(e instanceof Na){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",ex(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Fxe){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${vMe}=${encodeURIComponent(l)}`:"";return`${function bMe({config:n}){return n.emulator?PM(n,yMe):`https://${n.authDomain}/${_Me}`}(n)}?${op(a).slice(1)}${c}`})).apply(this,arguments)}const FR="webStorageSupport",EMe=class wMe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N6,this._completeRedirectFn=j6,this._overrideRedirectResult=HAe}_openPopup(e,t,i,r){var s=this;return y(function*(){var o;Ma(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield q6(e,t,i,dp(),r);return function mMe(n,e,t,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},uMe),{width:i.toString(),height:r.toString(),top:s,left:o}),c=kn().toLowerCase();t&&(a=a6(c)?"_blank":t),o6(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function axe(n=kn()){var e;return fb(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function gMe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new W6(null);const d=window.open(e||"",a,u);V(d,n,"popup-blocked");try{d.focus()}catch{}return new W6(d)}(e,a,iR())})()}_openRedirect(e,t,i,r){var s=this;return y(function*(){return yield s._originValidation(e),function uAe(n){fn().location.href=n}(yield q6(e,t,i,dp(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Ma(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return y(function*(){const i=yield function cMe(n){return OR.apply(this,arguments)}(e),r=new qAe(e);return i.register("authEvent",s=>(V(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(FR,{type:FR},r=>{var s;const o=null===(s=r?.[0])||void 0===s?void 0:s[FR];void 0!==o&&t(!!o),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function ZAe(n){return NR.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return h6()||KM()||fb()}};var Q6="@firebase/auth";class CMe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return y(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const SMe=s5("authIdTokenMaxAge")||300;let Z6=null;const xMe=n=>function(){var e=y(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>SMe)return;const s=i?.token;Z6!==s&&(Z6=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function AMe(n=Ms()){const e=Gi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function _xe(n,e){const t=Gi(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(sp(t.getOptions(),e??{}))return r;qi(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:EMe,persistence:[vAe,oAe,N6]}),i=s5("authTokenSyncURL");if(i){const s=xMe(i);(function Xxe(n,e,t){dn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function Qxe(n,e,t,i){dn(n).onIdTokenChanged(e,t,i)}(t,o=>s(o))}const r=n5("auth");return r&&function vxe(n,e,t){const i=Nn(n);V(i._canInitEmulator,i,"emulator-config-failed"),V(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,s=w6(e),{host:o,port:a}=function bxe(n){const e=w6(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:E6(i.substr(s.length+1))}}{const[s,o]=i.split(":");return{host:s,port:E6(o)}}}(e);i.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function wxe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}function MMe(n){return new Ke(function(e){var t=function Zxe(n,e,t,i){return dn(n).onAuthStateChanged(e,t,i)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function DMe(n){Tn(new hn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f6(n)},c=new gxe(i,r,s,l);return function yxe(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Lo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Tn(new hn("auth-internal",e=>{const t=Nn(e.getProvider("auth").getImmediate());return new CMe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(Q6,"0.23.2",function IMe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Re(Q6,"0.23.2","esm2017")}("Browser");class Tb{constructor(e){return e}}class Ep{constructor(){return Os("auth")}}const VR=new E("angularfire2.auth-instances");function NMe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Tb(i)}}const OMe={provide:Ep,deps:[[new Ae,VR]]},PMe={provide:Tb,useFactory:function RMe(n,e){const t=Ns("auth",n,e);return t&&new Tb(t)},deps:[[new Ae,VR],dr]};let FMe=(()=>{class n{constructor(){Re("angularfire",ur.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[PMe,OMe]}),n})();function LMe(n,...e){return{ngModule:FMe,providers:[{provide:VR,useFactory:NMe(n),multi:!0,deps:[q,it,Ps,Fs,[new Ae,rd],...e]}]}}const VMe=xi(MMe,!0),BMe=xi(AMe,!0),e8="@firebase/database";let BR="";class jMe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:rp(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class HMe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ao(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const n8=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jMe(e)}}catch{}return new HMe},cc=n8("localStorage"),UR=n8("sessionStorage"),ld=new Ta("@firebase/database"),i8=function(){let n=1;return function(){return n++}}(),r8=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,U(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new IEe;t.update(e);const i=t.digest();return Fv.encodeByteArray(i)},Cp=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Cp.apply(null,i):e+="object"==typeof i?Zn(i):i,e+=" "}return e};let uc=null,s8=!0;const On=function(...n){if(!0===s8&&(s8=!1,null===uc&&!0===UR.get("logging_enabled")&&function(n,e){U(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ld.logLevel=de.VERBOSE,uc=ld.log.bind(ld),e&&UR.set("logging_enabled",!0)):"function"==typeof n?uc=n:(uc=null,UR.remove("logging_enabled"))}(!0)),uc){const e=Cp.apply(null,n);uc(e)}},Ip=function(n){return function(...e){On(n,...e)}},jR=function(...n){const e="FIREBASE INTERNAL ERROR: "+Cp(...n);ld.error(e)},Bs=function(...n){const e=`FIREBASE FATAL ERROR: ${Cp(...n)}`;throw ld.error(e),new Error(e)},fi=function(...n){const e="FIREBASE WARNING: "+Cp(...n);ld.warn(e)},Sb=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Oa="[MIN_NAME]",Bo="[MAX_NAME]",dc=function(n,e){if(n===e)return 0;if(n===Oa||e===Bo)return-1;if(e===Oa||n===Bo)return 1;{const t=c8(n),i=c8(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},GMe=function(n,e){return n===e?0:n<e?-1:1},Dp=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Zn(e))},HR=function(n){if("object"!=typeof n||null===n)return Zn(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=Zn(e[i]),t+=":",t+=HR(n[e[i]]);return t+="}",t},a8=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Pn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const l8=function(n){U(!Sb(n),"Invalid JSON number");const i=1023;let r,s,o,a,l;0===n?(s=0,o=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=a+i,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},YMe=new RegExp("^-?(0*)\\d{1,10}$"),c8=function(n){if(YMe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},cd=function(n){try{n()}catch(e){setTimeout(()=>{throw fi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Tp=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class JMe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){fi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class eke{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(On("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fi(e)}}let Sp=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const p8=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_8="websocket",y8="long_polling";class zR{constructor(e,t,i,r,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&cc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function v8(n,e,t){let i;if(U("string"==typeof e,"typeof type must == string"),U("object"==typeof t,"typeof params must == object"),e===_8)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==y8)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function tke(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Pn(t,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class nke{constructor(){this.counters_={}}incrementCounter(e,t=1){Ao(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return dEe(this.counters_)}}const GR={},WR={};function qR(n){const e=n.toString();return GR[e]||(GR[e]=new nke),GR[e]}class rke{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&cd(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Pa{constructor(e,t,i,r,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ip(e),this.stats_=qR(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),v8(t,y8,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new rke(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new KR((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&p8.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Pa.forceAllow_=!0}static forceDisallow(){Pa.forceDisallow_=!0}static isAvailable(){return!(!Pa.forceAllow_&&(Pa.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Zn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=e5(t),r=a8(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Zn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class KR{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=i8(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=KR.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){On("frame writing exception"),a.stack&&On(a.stack),On(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||On("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{On("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Ab=null;typeof MozWebSocket<"u"?Ab=MozWebSocket:typeof WebSocket<"u"&&(Ab=WebSocket);let ud=(()=>{class n{constructor(t,i,r,s,o,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ip(this.connId),this.stats_=qR(i),this.connURL=n.connectionURL_(i,a,l,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&p8.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),s&&(a.ac=s),o&&(a.p=o),v8(t,_8,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cc.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new Ab(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==Ab&&!n.forceDisallow_}static previouslyFailed(){return cc.isInMemoryStorage||!0===cc.get("previous_websocket_failure")}markConnectionHealthy(){cc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=rp(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(U(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Zn(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=a8(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),T8=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Pa,ud]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=ud&&ud.isAvailable();let r=i&&!ud.previouslyFailed();if(t.webSocketOnly&&(i||fi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ud];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class N8{constructor(e,t,i,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ip("c:"+this.id+":"),this.transportManager_=new T8(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Tp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Dp("t",e),i=Dp("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Dp("t",e),i=Dp("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Dp("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?jR("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jR("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&fi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Tp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class O8{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class P8{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){U(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Mb extends P8{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ZS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Mb}getInitialEvent(e){return U("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ut{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function et(){return new ut("")}function Ne(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Fa(n){return n.pieces_.length-n.pieceNum_}function _t(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ut(n.pieces_,e)}function QR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function xp(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function V8(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ut(e,0)}function kt(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ut)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new ut(t,0)}function Oe(n){return n.pieceNum_>=n.pieces_.length}function Ai(n,e){const t=Ne(n),i=Ne(e);if(null===t)return e;if(t===i)return Ai(_t(n),_t(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function XR(n,e){if(Fa(n)!==Fa(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Fr(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Fa(n)>Fa(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class Ske{constructor(e,t){this.errorPrefix_=t,this.parts_=xp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Gv(this.parts_[i]);B8(this)}}function B8(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+hc(n))}function hc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class ZR extends P8{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new ZR}getInitialEvent(e){return U("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ap=1e3;let Rb,fc=(()=>{class n extends O8{constructor(t,i,r,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Ip("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ap,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ZR.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Mb.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,o={r:s,a:t,b:i};this.log_(Zn(o)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new Xu,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),U(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(r,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&Ao(t,"w")){const r=Ju(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();fi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=Hv(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=Hv(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),U(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const o={p:t};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,o){this.initConnection_();const a={p:i,d:r};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Zn(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):jR("Unrecognized action received from server: "+Zn(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ap,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ap,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ap),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return y(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){U(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?On("getToken() completed but was canceled"):(On("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new N8(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,m=>{fi(m+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&fi(f),u())}}})()}interrupt(t){On("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){On("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ex(this.interruptReasons_)&&(this.reconnectDelay_=Ap,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(o=>HR(o)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new ut(t).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){On("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){On("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+BR.replace(/\./g,"-")]=1,ZS()?t["framework.cordova"]=1:o5()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Mb.getInstance().currentlyOnline();return ex(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Le{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Le(e,t)}}class kb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Le(Oa,e),r=new Le(Oa,t);return 0!==this.compare(i,r)}minPost(){return Le.MIN}}class H8 extends kb{static get __EMPTY_NODE(){return Rb}static set __EMPTY_NODE(e){Rb=e}compare(e,t){return dc(e.name,t.name)}isDefinedOn(e){throw Qu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Le.MIN}maxPost(){return new Le(Bo,Rb)}makePost(e,t){return U("string"==typeof e,"KeyIndex indexValue must always be a string."),new Le(e,Rb)}toString(){return".key"}}const Us=new H8;class Nb{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let e1,Zr=(()=>{class n{constructor(t,i,r,s,o){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??Ki.EMPTY_NODE,this.right=o??Ki.EMPTY_NODE}copy(t,i,r,s,o){return new n(t??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ki.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Ki.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ki{constructor(e,t=Ki.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ki(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Zr.BLACK,null,null))}remove(e){return new Ki(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Zr.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Nb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Nb(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Nb(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Nb(this.root_,null,this.comparator_,!0,e)}}function Pke(n,e){return dc(n.name,e.name)}function JR(n,e){return dc(n,e)}Ki.EMPTY_NODE=new class Oke{copy(e,t,i,r,s){return this}insert(e,t,i){return new Zr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $8=function(n){return"number"==typeof n?"number:"+l8(n):"string:"+n},z8=function(n){if(n.isLeafNode()){const e=n.val();U("string"==typeof e||"number"==typeof e||"object"==typeof e&&Ao(e,".sv"),"Priority must be a string or number.")}else U(n===e1||n.isEmpty(),"priority of unexpected type.");U(n===e1||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let G8,W8,q8,dd=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,U(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),z8(this.priorityNode_)}static set __childrenNodeConstructor(t){G8=t}static get __childrenNodeConstructor(){return G8}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Oe(t)?this:".priority"===Ne(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Ne(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(U(".priority"!==r||1===Fa(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(_t(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+$8(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?l8(this.value_):this.value_,this.lazyHash_=r8(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(U(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return U(s>=0,"Unknown leaf type: "+i),U(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const bt=new class Bke extends kb{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?dc(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Le.MIN}maxPost(){return new Le(Bo,new dd("[PRIORITY-POST]",q8))}makePost(e,t){const i=W8(e);return new Le(t,new dd("[PRIORITY-POST]",i))}toString(){return".priority"}},Uke=Math.log(2);class jke{constructor(e){this.count=parseInt(Math.log(e+1)/Uke,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ob=function(n,e,t,i){n.sort(e);const r=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new Zr(h,d.node,Zr.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=n[f],h=t?t(d):d,new Zr(h,d.node,Zr.BLACK,p,m)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,m){const g=d-p,w=d;d-=p;const v=r(g+1,w),D=n[g],S=t?t(D):D;f(new Zr(S,D.node,m,null,v))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?h(g,Zr.BLACK):(h(g,Zr.BLACK),h(g,Zr.RED))}return u}(new jke(n.length));return new Ki(i||e,a)};let t1;const hd={};class Uo{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return U(hd&&bt,"ChildrenNode.ts has not been loaded"),t1=t1||new Uo({".priority":hd},{".priority":bt}),t1}get(e){const t=Ju(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ki?t:null}hasIndex(e){return Ao(this.indexSet_,e.toString())}addIndex(e,t){U(e!==Us,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Le.Wrap);let a,o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();a=r?Ob(i,e.getCompare()):hd;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Uo(u,c)}addToIndexes(e,t){const i=$v(this.indexes_,(r,s)=>{const o=Ju(this.indexSet_,s);if(U(o,"Missing index implementation for "+s),r===hd){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(Le.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ob(a,o.getCompare())}return hd}{const a=t.get(e.name);let l=r;return a&&(l=l.remove(new Le(e.name,a))),l.insert(e,e.node)}});return new Uo(i,this.indexSet_)}removeFromIndexes(e,t){const i=$v(this.indexes_,r=>{if(r===hd)return r;{const s=t.get(e.name);return s?r.remove(new Le(e.name,s)):r}});return new Uo(i,this.indexSet_)}}let Mp,De=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&z8(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Mp||(Mp=new n(new Ki(JR),null,Uo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Mp}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Mp:i}}getChild(t){const i=Ne(t);return null===i?this:this.getImmediateChild(i).getChild(_t(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(U(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Le(t,i);let s,o;i.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Mp:this.priorityNode_;return new n(s,a,o)}}updateChild(t,i){const r=Ne(t);if(null===r)return i;{U(".priority"!==Ne(t)||1===Fa(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(_t(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(bt,(a,l)=>{i[a]=l.val(t),r++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+$8(this.getPriority().val())+":"),this.forEachChild(bt,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":r8(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Le(t,i));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Le(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Le(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Le.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Le.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===kp?-1:0}withIndex(t){if(t===Us||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Us||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(bt),s=i.getIterator(bt);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Us?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const kp=new class Hke extends De{constructor(){super(new Ki(JR),De.EMPTY_NODE,Uo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return De.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Le,{MIN:{value:new Le(Oa,De.EMPTY_NODE)},MAX:{value:new Le(Bo,kp)}}),H8.__EMPTY_NODE=De.EMPTY_NODE,dd.__childrenNodeConstructor=De,function Fke(n){e1=n}(kp),function Vke(n){q8=n}(kp);const $ke=!0;function Vt(n,e=null){if(null===n)return De.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),U(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new dd(n,Vt(e));if(n instanceof Array||!$ke){let t=De.EMPTY_NODE;return Pn(n,(i,r)=>{if(Ao(n,i)&&"."!==i.substring(0,1)){const s=Vt(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Vt(e))}{const t=[];let i=!1;if(Pn(n,(o,a)=>{if("."!==o.substring(0,1)){const l=Vt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new Le(o,l)))}}),0===t.length)return De.EMPTY_NODE;const s=Ob(t,Pke,o=>o.name,JR);if(i){const o=Ob(t,bt.getCompare());return new De(s,Vt(e),new Uo({".priority":o},{".priority":bt}))}return new De(s,Vt(e),Uo.Default)}}!function Lke(n){W8=n}(Vt);class n1 extends kb{constructor(e){super(),this.indexPath_=e,U(!Oe(e)&&".priority"!==Ne(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?dc(e.name,t.name):s}makePost(e,t){const i=Vt(e),r=De.EMPTY_NODE.updateChild(this.indexPath_,i);return new Le(t,r)}maxPost(){const e=De.EMPTY_NODE.updateChild(this.indexPath_,kp);return new Le(Bo,e)}toString(){return xp(this.indexPath_,0).join("/")}}const r1=new class zke extends kb{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?dc(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Le.MIN}maxPost(){return Le.MAX}makePost(e,t){const i=Vt(e);return new Le(t,i)}toString(){return".value"}};function Np(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class o1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Oa}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bt}copy(){const e=new o1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Y8(n){const e={};if(n.isDefault())return e;let t;if(n.index_===bt?t="$priority":n.index_===r1?t="$value":n.index_===Us?t="$key":(U(n.index_ instanceof n1,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Zn(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Zn(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Zn(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Zn(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Zn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Q8(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==bt&&(e.i=n.index_.toString()),e}class Fb extends O8{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ip("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Fb.getListenId_(e,i),a={};this.listens_[o]=a;const l=Y8(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,i),Ju(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(h,null)}})}unlisten(e,t){const i=Fb.getListenId_(e,t);delete this.listens_[i]}get(e){const t=Y8(e._queryParams),i=e._path.toString(),r=new Xu;return this.restRequest_(i+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+op(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=rp(a.responseText)}catch{fi("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&fi("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}class Zke{constructor(){this.rootNode_=De.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Lb(){return{value:null,children:new Map}}function pd(n,e,t){if(Oe(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Ne(e);n.children.has(i)||n.children.set(i,Lb()),pd(n.children.get(i),e=_t(e),t)}}function u1(n,e,t){null!==n.value?t(e,n.value):function Jke(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{u1(r,new ut(e.toString()+"/"+i),t)})}class eRe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Pn(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class iRe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new eRe(e);const i=1e4+2e4*Math.random();Tp(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Pn(e,(r,s)=>{s>0&&Ao(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Tp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var pn=(()=>((pn=pn||{})[pn.OVERWRITE=0]="OVERWRITE",pn[pn.MERGE=1]="MERGE",pn[pn.ACK_USER_WRITE=2]="ACK_USER_WRITE",pn[pn.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",pn))();function f1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Vb{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=pn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Oe(this.path)){if(null!=this.affectedTree.value)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ut(e));return new Vb(et(),t,this.revert)}}return U(Ne(this.path)===e,"operationForChild called for unrelated child."),new Vb(_t(this.path),this.affectedTree,this.revert)}}class pc{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=pn.OVERWRITE}operationForChild(e){return Oe(this.path)?new pc(this.source,et(),this.snap.getImmediateChild(e)):new pc(this.source,_t(this.path),this.snap)}}class md{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=pn.MERGE}operationForChild(e){if(Oe(this.path)){const t=this.children.subtree(new ut(e));return t.isEmpty()?null:t.value?new pc(this.source,et(),t.value):new md(this.source,et(),t)}return U(Ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new md(this.source,_t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class La{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ne(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Fp(n,e,t,i,r,s){const o=i.filter(a=>a.type===t);o.sort((a,l)=>function aRe(n,e,t){if(null==e.childName||null==t.childName)throw Qu("Should only compare child_ events.");const i=new Le(e.childName,e.snapshotNode),r=new Le(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),o.forEach(a=>{const l=function oRe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function Bb(n,e){return{eventCache:n,serverCache:e}}function Lp(n,e,t,i){return Bb(new La(e,t,i),n.serverCache)}function Z8(n,e,t,i){return Bb(n.eventCache,new La(e,t,i))}function Ub(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function mc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let p1;class wt{constructor(e,t=(()=>(p1||(p1=new Ki(GMe)),p1))()){this.value=e,this.children=t}static fromObject(e){let t=new wt(null);return Pn(e,(i,r)=>{t=t.set(new ut(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:et(),value:this.value};if(Oe(e))return null;{const i=Ne(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(_t(e),t);return null!=s?{path:kt(new ut(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const t=Ne(e),i=this.children.get(t);return null!==i?i.subtree(_t(e)):new wt(null)}}set(e,t){if(Oe(e))return new wt(t,this.children);{const i=Ne(e),s=(this.children.get(i)||new wt(null)).set(_t(e),t),o=this.children.insert(i,s);return new wt(this.value,o)}}remove(e){if(Oe(e))return this.children.isEmpty()?new wt(null):new wt(null,this.children);{const t=Ne(e),i=this.children.get(t);if(i){const r=i.remove(_t(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new wt(null):new wt(this.value,s)}return this}}get(e){if(Oe(e))return this.value;{const t=Ne(e),i=this.children.get(t);return i?i.get(_t(e)):null}}setTree(e,t){if(Oe(e))return t;{const i=Ne(e),s=(this.children.get(i)||new wt(null)).setTree(_t(e),t);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new wt(this.value,o)}}fold(e){return this.fold_(et(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(kt(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,et(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Oe(e))return null;{const s=Ne(e),o=this.children.get(s);return o?o.findOnPath_(_t(e),kt(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,et(),t)}foreachOnPath_(e,t,i){if(Oe(e))return this;{this.value&&i(t,this.value);const r=Ne(e),s=this.children.get(r);return s?s.foreachOnPath_(_t(e),kt(t,r),i):new wt(null)}}foreach(e){this.foreach_(et(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(kt(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Jr{constructor(e){this.writeTree_=e}static empty(){return new Jr(new wt(null))}}function Vp(n,e,t){if(Oe(e))return new Jr(new wt(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const o=Ai(r,e);return s=s.updateChild(o,t),new Jr(n.writeTree_.set(r,s))}{const r=new wt(t),s=n.writeTree_.setTree(e,r);return new Jr(s)}}}function m1(n,e,t){let i=n;return Pn(t,(r,s)=>{i=Vp(i,kt(e,r),s)}),i}function J8(n,e){if(Oe(e))return Jr.empty();{const t=n.writeTree_.setTree(e,new wt(null));return new Jr(t)}}function g1(n,e){return null!=gc(n,e)}function gc(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Ai(t.path,e)):null}function e9(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(bt,(i,r)=>{e.push(new Le(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Le(i,r.value))}),e}function Va(n,e){if(Oe(e))return n;{const t=gc(n,e);return new Jr(null!=t?new wt(t):n.writeTree_.subtree(e))}}function _1(n){return n.writeTree_.isEmpty()}function gd(n,e){return t9(et(),n.writeTree_,e)}function t9(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?(U(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=t9(kt(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(kt(n,".priority"),i)),t}}function jb(n,e){return o9(e,n)}function fRe(n,e){if(n.snap)return Fr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Fr(kt(n.path,t),e))return!0;return!1}function mRe(n){return n.visible}function n9(n,e,t){let i=Jr.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const o=s.path;let a;if(s.snap)Fr(t,o)?(a=Ai(t,o),i=Vp(i,a,s.snap)):Fr(o,t)&&(a=Ai(o,t),i=Vp(i,et(),s.snap.getChild(a)));else{if(!s.children)throw Qu("WriteRecord should have .snap or .children");if(Fr(t,o))a=Ai(t,o),i=m1(i,a,s.children);else if(Fr(o,t))if(a=Ai(o,t),Oe(a))i=m1(i,et(),s.children);else{const l=Ju(s.children,Ne(a));if(l){const c=l.getChild(_t(a));i=Vp(i,et(),c)}}}}}return i}function i9(n,e,t,i,r){if(i||r){const s=Va(n.visibleWrites,e);return!r&&_1(s)?t:r||null!=t||g1(s,et())?gd(n9(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(Fr(c.path,e)||Fr(e,c.path))},e),t||De.EMPTY_NODE):null}{const s=gc(n.visibleWrites,e);if(null!=s)return s;{const o=Va(n.visibleWrites,e);return _1(o)?t:null!=t||g1(o,et())?gd(o,t||De.EMPTY_NODE):null}}}function Hb(n,e,t,i){return i9(n.writeTree,n.treePath,e,t,i)}function y1(n,e){return function gRe(n,e,t){let i=De.EMPTY_NODE;const r=gc(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(bt,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(t){const s=Va(n.visibleWrites,e);return t.forEachChild(bt,(o,a)=>{const l=gd(Va(s,new ut(o)),a);i=i.updateImmediateChild(o,l)}),e9(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return e9(Va(n.visibleWrites,e)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(n.writeTree,n.treePath,e)}function r9(n,e,t,i){return function _Re(n,e,t,i,r){U(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=kt(e,t);if(g1(n.visibleWrites,s))return null;{const o=Va(n.visibleWrites,s);return _1(o)?r.getChild(t):gd(o,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function $b(n,e){return function vRe(n,e){return gc(n.visibleWrites,e)}(n.writeTree,kt(n.treePath,e))}function v1(n,e,t){return function yRe(n,e,t,i){const r=kt(e,t),s=gc(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?gd(Va(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function s9(n,e){return o9(kt(n.treePath,e),n.writeTree)}function o9(n,e){return{treePath:n,writeTree:e}}class CRe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;U("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),U(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,Np(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,function Rp(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,function fd(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw Qu("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Np(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const a9=new class IRe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class b1{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new La(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return v1(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:mc(this.viewCache_),s=function ERe(n,e,t,i,r,s){return function bRe(n,e,t,i,r,s,o){let a;const l=Va(n.visibleWrites,e),c=gc(l,et());if(null!=c)a=c;else{if(null==t)return[];a=gd(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let f=h.getNext();for(;f&&u.length<r;)0!==d(f,i)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function l9(n,e,t,i,r,s){const o=e.eventCache;if(null!=$b(i,t))return e;{let a,l;if(Oe(t))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=mc(e),d=y1(i,c instanceof De?c:De.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Hb(i,mc(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Ne(t);if(".priority"===c){U(1===Fa(t),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=r9(i,t,u,l);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=_t(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=r9(i,t,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=v1(i,c,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),c,d,u,r,s):o.getNode()}}return Lp(e,a,o.isFullyInitialized()||Oe(t),n.filter.filtersNodes())}}function zb(n,e,t,i,r,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(Oe(t))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Ne(t);if(!l.isCompleteForPath(t)&&Fa(t)>1)return e;const p=_t(t),g=l.getNode().getImmediateChild(f).updateChild(p,i);c=".priority"===f?u.updatePriority(l.getNode(),g):u.updateChild(l.getNode(),f,g,p,a9,null)}const d=Z8(e,c,l.isFullyInitialized()||Oe(t),u.filtersNodes());return l9(n,d,t,r,new b1(r,d,s),a)}function w1(n,e,t,i,r,s,o){const a=e.eventCache;let l,c;const u=new b1(r,e,s);if(Oe(t))c=n.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Lp(e,c,!0,n.filter.filtersNodes());else{const d=Ne(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),i),l=Lp(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=_t(t),f=a.getNode().getImmediateChild(d);let p;if(Oe(h))p=i;else{const m=u.getCompleteChild(d);p=null!=m?".priority"===QR(h)&&m.getChild(V8(h)).isEmpty()?m:m.updateChild(h,i):De.EMPTY_NODE}l=f.equals(p)?e:Lp(e,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function c9(n,e){return n.eventCache.isCompleteForChild(e)}function u9(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function E1(n,e,t,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=Oe(t)?i:new wt(null).setTree(t,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=u9(0,e.serverCache.getNode().getImmediateChild(d),h);l=zb(n,l,new ut(d),p,r,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const m=u9(0,e.serverCache.getNode().getImmediateChild(d),h);l=zb(n,l,new ut(d),m,r,s,o,a)}}),l}function FRe(n,e){const t=mc(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Oe(e)&&!t.getImmediateChild(Ne(e)).isEmpty())?t.getChild(e):null}function f9(n,e,t,i){e.type===pn.MERGE&&null!==e.source.queryId&&(U(mc(n.viewCache_),"We should always have a full cache before handling merges"),U(Ub(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function SRe(n,e,t,i,r){const s=new CRe;let o,a;if(t.type===pn.OVERWRITE){const c=t;c.source.fromUser?o=w1(n,e,c.path,c.snap,i,r,s):(U(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Oe(c.path),o=zb(n,e,c.path,c.snap,i,r,a,s))}else if(t.type===pn.MERGE){const c=t;c.source.fromUser?o=function ARe(n,e,t,i,r,s,o){let a=e;return i.foreach((l,c)=>{const u=kt(t,l);c9(e,Ne(u))&&(a=w1(n,a,u,c,r,s,o))}),i.foreach((l,c)=>{const u=kt(t,l);c9(e,Ne(u))||(a=w1(n,a,u,c,r,s,o))}),a}(n,e,c.path,c.children,i,r,s):(U(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=E1(n,e,c.path,c.children,i,r,a,s))}else if(t.type===pn.ACK_USER_WRITE){const c=t;o=c.revert?function RRe(n,e,t,i,r,s){let o;if(null!=$b(i,t))return e;{const a=new b1(i,e,r),l=e.eventCache.getNode();let c;if(Oe(t)||".priority"===Ne(t)){let u;if(e.serverCache.isFullyInitialized())u=Hb(i,mc(e));else{const d=e.serverCache.getNode();U(d instanceof De,"serverChildren would be complete if leaf node"),u=y1(i,d)}c=n.filter.updateFullNode(l,u,s)}else{const u=Ne(t);let d=v1(i,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,_t(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,De.EMPTY_NODE,_t(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Hb(i,mc(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=$b(i,et()),Lp(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,i,r,s):function MRe(n,e,t,i,r,s,o){if(null!=$b(r,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=i.value){if(Oe(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return zb(n,e,t,l.getNode().getChild(t),r,s,a,o);if(Oe(t)){let c=new wt(null);return l.getNode().forEachChild(Us,(u,d)=>{c=c.set(new ut(u),d)}),E1(n,e,t,c,r,s,a,o)}return e}{let c=new wt(null);return i.foreach((u,d)=>{const h=kt(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),E1(n,e,t,c,r,s,a,o)}}(n,e,c.path,c.affectedTree,i,r,s)}else{if(t.type!==pn.LISTEN_COMPLETE)throw Qu("Unknown operation type: "+t.type);o=function kRe(n,e,t,i,r){const s=e.serverCache;return l9(n,Z8(e,s.getNode(),s.isFullyInitialized()||Oe(t),s.isFiltered()),t,i,a9,r)}(n,e,t.path,i,s)}const l=s.getChanges();return function xRe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Ub(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(function K8(n){return{type:"value",snapshotNode:n}}(Ub(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,r,e,t,i);return function TRe(n,e){U(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),U(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function p9(n,e,t,i){return function sRe(n,e,t,i){const r=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Gke(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),Fp(n,r,"child_removed",e,i,t),Fp(n,r,"child_added",e,i,t),Fp(n,r,"child_moved",s,i,t),Fp(n,r,"child_changed",e,i,t),Fp(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let Gb,qb;function C1(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return U(null!=s,"SyncTree gave us an op for an invalid query."),f9(s,e,t,i)}{let s=[];for(const o of n.views.values())s=s.concat(f9(o,e,t,i));return s}}function Ba(n,e){let t=null;for(const i of n.views.values())t=t||FRe(i,e);return t}class b9{constructor(e){this.listenProvider_=e,this.syncPointTree_=new wt(null),this.pendingWriteTree_=function wRe(){return{visibleWrites:Jr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function I1(n,e,t,i,r){return function cRe(n,e,t,i,r){U(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Vp(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?_d(n,new pc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function ja(n,e,t=!1){const i=function dRe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function hRe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);U(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&fRe(a,i.path)?r=!1:Fr(i.path,a.path)&&(s=!0)),o--}return!!r&&(s?(function pRe(n){n.visibleWrites=n9(n.allWrites,mRe,et()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=J8(n.visibleWrites,i.path):Pn(i.children,l=>{n.visibleWrites=J8(n.visibleWrites,kt(i.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new wt(null);return null!=i.snap?s=s.set(et(),!0):Pn(i.children,o=>{s=s.set(new ut(o),!0)}),_d(n,new Vb(i.path,s,t))}return[]}function Bp(n,e,t){return _d(n,new pc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Yb(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=Ba(a,Ai(o,e));if(c)return c});return i9(r,e,s,t,!0)}function _d(n,e){return E9(e,n.syncPointTree_,null,jb(n.pendingWriteTree_,et()))}function E9(n,e,t,i){if(Oe(n.path))return C9(n,e,t,i);{const r=e.get(et());null==t&&null!=r&&(t=Ba(r,et()));let s=[];const o=Ne(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=s9(i,o);s=s.concat(E9(a,l,c,u))}return r&&(s=s.concat(C1(r,n,i,t))),s}}function C9(n,e,t,i){const r=e.get(et());null==t&&null!=r&&(t=Ba(r,et()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=s9(i,o),u=n.operationForChild(o);u&&(s=s.concat(C9(u,a,l,c)))}),r&&(s=s.concat(C1(r,n,i,t))),s}function T1(n,e){return n.tagToQueryMap.get(e)}function S1(n){const e=n.indexOf("$");return U(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ut(n.substr(0,e))}}function x1(n,e,t){const i=n.syncPointTree_.get(e);return U(i,"Missing sync point for query tag that we're tracking"),C1(i,t,jb(n.pendingWriteTree_,e),null)}class A1{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new A1(t)}node(){return this.node_}}class M1{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=kt(this.path_,e);return new M1(this.syncTree_,t)}node(){return Yb(this.syncTree_,this.path_)}}const i1e=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},D9=function(n,e,t){return n&&"object"==typeof n?(U(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?r1e(n[".sv"],e,t):"object"==typeof n[".sv"]?s1e(n[".sv"],e):void U(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},r1e=function(n,e,t){if("timestamp"===n)return t.timestamp;U(!1,"Unexpected server value: "+n)},s1e=function(n,e,t){n.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&U(!1,"Unexpected increment value: "+i);const r=e.node();if(U(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},T9=function(n,e,t,i){return R1(e,new M1(t,n),i)},k1=function(n,e,t){return R1(n,new A1(e),t)};function R1(n,e,t){const i=n.getPriority().val(),r=D9(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=D9(o.getValue(),e,t);return a!==o.getValue()||r!==o.getPriority().val()?new dd(a,Vt(r)):n}{const o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new dd(r))),o.forEachChild(bt,(a,l)=>{const c=R1(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class N1{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Xb(n,e){let t=e instanceof ut?e:new ut(e),i=n,r=Ne(t);for(;null!==r;){const s=Ju(i.node.children,r)||{children:{},childCount:0};i=new N1(r,i,s),t=_t(t),r=Ne(t)}return i}function _c(n){return n.node.value}function O1(n,e){n.node.value=e,P1(n)}function S9(n){return n.node.childCount>0}function Zb(n,e){Pn(n.node.children,(t,i)=>{e(new N1(t,n,i))})}function x9(n,e,t,i){t&&!i&&e(n),Zb(n,r=>{x9(r,e,!0,i)}),t&&i&&e(n)}function Hp(n){return new ut(null===n.parent?n.name:Hp(n.parent)+"/"+n.name)}function P1(n){null!==n.parent&&function l1e(n,e,t){const i=function o1e(n){return void 0===_c(n)&&!S9(n)}(t),r=Ao(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,P1(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,P1(n))}(n.parent,n.name,n)}const c1e=/[\[\].#$\/\u0000-\u001F\u007F]/,u1e=/[\[\].#$\u0000-\u001F\u007F]/,F1=10485760,Jb=function(n){return"string"==typeof n&&0!==n.length&&!c1e.test(n)},zp=function(n,e,t){const i=t instanceof ut?new Ske(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+hc(i));if("function"==typeof e)throw new Error(n+"contains a function "+hc(i)+" with contents = "+e.toString());if(Sb(e))throw new Error(n+"contains "+e.toString()+" "+hc(i));if("string"==typeof e&&e.length>F1/3&&Gv(e)>F1)throw new Error(n+"contains a string greater than "+F1+" utf8 bytes "+hc(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Pn(e,(o,a)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Jb(o)))throw new Error(n+" contains an invalid key ("+o+") "+hc(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function xke(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Gv(e),B8(n)})(i,o),zp(n,a,i),function Ake(n){const e=n.parts_.pop();n.byteLength_-=Gv(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+hc(i)+" in addition to actual children.")}},k9=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Jb(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!u1e.test(n)}(n)}(t))throw new Error(function zv(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class p1e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hr(n,e,t){(function ew(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!XR(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function N9(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(m1e(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>Fr(i,e)||Fr(e,i))}function m1e(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();uc&&On("event: "+t.toString()),cd(i)}}}const g1e=25;class _1e{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new p1e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lb(),this.transactionQueueTree_=new N1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function P9(n){const t=n.infoData_.getNode(new ut(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Wp(n){return i1e({timestamp:P9(n)})}function F9(n,e,t,i,r){n.dataUpdateCount++;const s=new ut(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(r)if(i){const l=$v(t,c=>Vt(c));o=function XRe(n,e,t,i){const r=T1(n,i);if(r){const s=S1(r),o=s.path,a=s.queryId,l=Ai(o,e),c=wt.fromObject(t);return x1(n,o,new md(f1(a),l,c))}return[]}(n.serverSyncTree_,s,l,r)}else{const l=Vt(t);o=function w9(n,e,t,i){const r=T1(n,i);if(null!=r){const s=S1(r),o=s.path,a=s.queryId,l=Ai(o,e);return x1(n,o,new pc(f1(a),l,t))}return[]}(n.serverSyncTree_,s,l,r)}else if(i){const l=$v(t,c=>Vt(c));o=function KRe(n,e,t){const i=wt.fromObject(t);return _d(n,new md({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,l)}else{const l=Vt(t);o=Bp(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=vd(n,s)),hr(n.eventQueue_,a,o)}function L9(n,e){B1(n,"connected",e),!1===e&&function E1e(n){yd(n,"onDisconnectEvents");const e=Wp(n),t=Lb();u1(n.onDisconnect_,et(),(r,s)=>{const o=T9(r,s,n.serverSyncTree_,e);pd(t,r,o)});let i=[];u1(t,et(),(r,s)=>{i=i.concat(Bp(n.serverSyncTree_,r,s));const o=function $1(n,e){const t=Hp(U9(n,e)),i=Xb(n.transactionQueueTree_,e);return function a1e(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{z1(n,r)}),z1(n,i),x9(i,r=>{z1(n,r)}),t}(n,r);vd(n,o)}),n.onDisconnect_=Lb(),hr(n.eventQueue_,et(),i)}(n)}function B1(n,e,t){const i=new ut("/.info/"+e),r=Vt(t);n.infoData_.updateSnapshot(i,r);const s=Bp(n.infoSyncTree_,i,r);hr(n.eventQueue_,i,s)}function tw(n){return n.nextWriteId_++}function yd(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),On(t,...e)}function H1(n,e,t){return Yb(n.serverSyncTree_,e,t)||De.EMPTY_NODE}function nw(n,e=n.transactionQueueTree_){if(e||iw(n,e),_c(e)){const t=j9(n,e);U(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function A1e(n,e,t){const i=t.map(c=>c.currentWriteId),r=H1(n,e,i);let s=r;const o=r.hash();for(let c=0;c<t.length;c++){const u=t[c];U(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Ai(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{yd(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(ja(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();iw(n,Xb(n.transactionQueueTree_,e)),nw(n,n.transactionQueueTree_),hr(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)cd(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{fi("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}vd(n,e)}},o)}(n,Hp(e),t)}else S9(e)&&Zb(e,t=>{nw(n,t)})}function vd(n,e){const t=U9(n,e),i=Hp(t);return function M1e(n,e,t){if(0===e.length)return;const i=[];let r=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ai(t,l.path);let d,u=!1;if(U(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,r=r.concat(ja(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=g1e)u=!0,d="maxretry",r=r.concat(ja(n.serverSyncTree_,l.currentWriteId,!0));else{const h=H1(n,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){zp("transaction failed: Data returned ",f,l.path);let p=Vt(f);"object"==typeof f&&null!=f&&Ao(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=l.currentWriteId,w=Wp(n),v=k1(p,h,w);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=tw(n),o.splice(o.indexOf(g),1),r=r.concat(I1(n.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),r=r.concat(ja(n.serverSyncTree_,g,!0))}else u=!0,d="nodata",r=r.concat(ja(n.serverSyncTree_,l.currentWriteId,!0))}hr(n.eventQueue_,t,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}iw(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)cd(i[a]);nw(n,n.transactionQueueTree_)}(n,j9(n,t),i),i}function U9(n,e){let t,i=n.transactionQueueTree_;for(t=Ne(e);null!==t&&void 0===_c(i);)i=Xb(i,t),t=Ne(e=_t(e));return i}function j9(n,e){const t=[];return H9(n,e,t),t.sort((i,r)=>i.order-r.order),t}function H9(n,e,t){const i=_c(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Zb(e,r=>{H9(n,r,t)})}function iw(n,e){const t=_c(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,O1(e,t.length>0?t:void 0)}Zb(e,i=>{iw(n,i)})}function z1(n,e){const t=_c(e);if(t){const i=[];let r=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(U(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(U(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(ja(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&i.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?O1(e,void 0):t.length=s+1,hr(n.eventQueue_,Hp(e),r);for(let o=0;o<i.length;o++)cd(i[o])}}const G1=function(n,e){const t=N1e(n),i=t.namespace;return"firebase.com"===t.domain&&Bs(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Bs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new zR(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new ut(t.pathString)}},N1e=function(n){let e="",t="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(r=function k1e(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(u,d)));const h=function R1e(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):fi(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=i}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};class fr{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Oe(this._path)?null:QR(this._path)}get ref(){return new es(this._repo,this._path)}get _queryIdentifier(){const e=Q8(this._queryParams),t=HR(e);return"{}"===t?"default":t}get _queryObject(){return Q8(this._queryParams)}isEqual(e){if(!((e=dn(e))instanceof fr))return!1;const t=this._repo===e._repo,i=XR(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Dke(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class es extends fr{constructor(e,t){super(e,t,new o1,!1)}get parent(){const e=V8(this._path);return null===e?null:new es(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function BRe(n){U(!Gb,"__referenceConstructor has already been defined"),Gb=n})(es),function zRe(n){U(!qb,"__referenceConstructor has already been defined"),qb=n}(es);const q1={};class J1e{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function y1e(n,e,t){if(n.stats_=qR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Fb(n.repoInfo_,(i,r,s,o)=>{F9(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>L9(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zn(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new fc(n.repoInfo_,e,(i,r,s,o)=>{F9(n,i,r,s,o)},i=>{L9(n,i)},i=>{!function v1e(n,e){Pn(e,(t,i)=>{B1(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function ike(n,e){const t=n.toString();return WR[t]||(WR[t]=e()),WR[t]}(n.repoInfo_,()=>new iRe(n.stats_,n.server_)),n.infoData_=new Zke,n.infoSyncTree_=new b9({startListening:(i,r,s,o)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=Bp(n.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),B1(n,"connected",!1),n.serverSyncTree_=new b9({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);hr(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new es(this._repo,et())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Q1e(n,e){const t=q1[e];(!t||t[n.key]!==n)&&Bs(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function B9(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Bs("Cannot call "+e+" on a deleted database.")}}function eNe(n=Ms(),e){const t=Gi(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=Uv("database");i&&function tNe(n,e,t,i={}){(n=dn(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Bs("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Bs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Sp(Sp.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:XS(i.mockUserToken,n.app.options.projectId);s=new Sp(o)}!function K1e(n,e,t,i){n.repoInfo_=new zR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(t,...i)}return t}fc.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},fc.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function nNe(n){(function UMe(n){BR=n})(ko),Tn(new hn("database",(e,{instanceIdentifier:t})=>function Y1e(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Bs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),On("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=G1(s,r),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=G1(s,r),a=o.repoInfo):l=!o.repoInfo.secure;const u=r&&l?new Sp(Sp.OWNER):new eke(n.name,n.options,e);k9("Invalid Firebase Database URL",o),Oe(o.path)||Bs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function X1e(n,e,t,i){let r=q1[e.name];r||(r={},q1[e.name]=r);let s=r[n.toURLString()];return s&&Bs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new _1e(n,!1,t,i),r[n.toURLString()]=s,s}(a,n,u,new JMe(n.name,t));return new J1e(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Re(e8,"0.14.4",n),Re(e8,"0.14.4","esm2017")}();class K1{constructor(e){return e}}const X9="database",Y1=new E("angularfire2.database-instances");function aNe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new K1(i)}}const lNe={provide:class sNe{constructor(){return Os(X9)}},deps:[[new Ae,Y1]]},cNe={provide:K1,useFactory:function oNe(n,e){const t=Ns(X9,n,e);return t&&new K1(t)},deps:[[new Ae,Y1],dr]};let uNe=(()=>{class n{constructor(){Re("angularfire",ur.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[cNe,lNe]}),n})();function dNe(n,...e){return{ngModule:uNe,providers:[{provide:Y1,useFactory:aNe(n),multi:!0,deps:[q,it,Ps,Fs,[new Ae,Ep],[new Ae,rd],...e]}]}}const hNe=xi(eNe,!0);function pr(n,e){return mt((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(Qe(i,l=>{r?.unsubscribe();let c=0;const u=s++;yn(n(l,u)).subscribe(r=Qe(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}const aw=mh(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Q1(){return mt((n,e)=>{let t=null;n._refCount++;const i=Qe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Z9 extends Ke{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,vL(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ct;const t=this.getSubject();e.add(this.source.subscribe(Qe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ct.EMPTY)}return e}refCount(){return Q1()(this)}}function lw(n){return mt((e,t)=>{let i=!1;e.subscribe(Qe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function J9(n=mNe){return mt((e,t)=>{let i=!1;e.subscribe(Qe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function mNe(){return new aw}function vc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Jt((r,s)=>n(r,s,i)):io,Kn(1),t?lw(e):J9(()=>new aw))}function X1(n){return n<=0?()=>Er:mt((e,t)=>{let i=[];e.subscribe(Qe(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}const Te="primary",Yp=Symbol("RouteTitle");class yNe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wd(n){return new yNe(n)}function vNe(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function $s(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!e7(n[r],e[r]))return!1;return!0}function e7(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function t7(n){return n.length>0?n[n.length-1]:null}function za(n){return function pNe(n){return!!n&&(n instanceof Ke||Ue(n.lift)&&Ue(n.subscribe))}(n)?n:rf(n)?vn(Promise.resolve(n)):Y(n)}const wNe={exact:function r7(n,e,t){if(!bc(n.segments,e.segments)||!cw(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!r7(n.children[i],e.children[i],t))return!1;return!0},subset:s7},n7={exact:function ENe(n,e){return $s(n,e)},subset:function CNe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>e7(n[t],e[t]))},ignored:()=>!0};function i7(n,e,t){return wNe[t.paths](n.root,e.root,t.matrixParams)&&n7[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function s7(n,e,t){return o7(n,e,e.segments,t)}function o7(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!bc(r,t)||e.hasChildren()||!cw(r,t,i))}if(n.segments.length===t.length){if(!bc(n.segments,t)||!cw(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!s7(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(bc(n.segments,r)&&cw(n.segments,r,i)&&n.children[Te])&&o7(n.children[Te],e,s,i)}}function cw(n,e,t){return e.every((i,r)=>n7[t](n[r].parameters,i.parameters))}class Ed{constructor(e=new ht([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wd(this.queryParams)),this._queryParamMap}toString(){return TNe.serialize(this)}}class ht{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uw(this)}}class Qp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=wd(this.parameters)),this._parameterMap}toString(){return c7(this)}}function bc(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Xp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return new Z1},providedIn:"root"}),n})();class Z1{parse(e){const t=new LNe(e);return new Ed(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zp(e.root,!0)}`,i=function ANe(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${dw(t)}=${dw(r)}`).join("&"):`${dw(t)}=${dw(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function SNe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const TNe=new Z1;function uw(n){return n.segments.map(e=>c7(e)).join("/")}function Zp(n,e){if(!n.hasChildren())return uw(n);if(e){const t=n.children[Te]?Zp(n.children[Te],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Te&&i.push(`${r}:${Zp(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function DNe(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Te&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Te&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Te?[Zp(n.children[Te],!1)]:[`${r}:${Zp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Te]?`${uw(n)}/${t[0]}`:`${uw(n)}/(${t.join("//")})`}}function a7(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dw(n){return a7(n).replace(/%3B/gi,";")}function J1(n){return a7(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hw(n){return decodeURIComponent(n)}function l7(n){return hw(n.replace(/\+/g,"%20"))}function c7(n){return`${J1(n.path)}${function xNe(n){return Object.keys(n).map(e=>`;${J1(e)}=${J1(n[e])}`).join("")}(n.parameters)}`}const MNe=/^[^\/()?;#]+/;function eN(n){const e=n.match(MNe);return e?e[0]:""}const kNe=/^[^\/()?;=#]+/,NNe=/^[^=?&#]+/,PNe=/^[^&#]+/;class LNe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ht([],{}):new ht([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Te]=new ht(e,t)),i}parseSegment(){const e=eN(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Qp(hw(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function RNe(n){const e=n.match(kNe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=eN(this.remaining);r&&(i=r,this.capture(i))}e[hw(t)]=hw(i)}parseQueryParam(e){const t=function ONe(n){const e=n.match(NNe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function FNe(n){const e=n.match(PNe);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=l7(t),s=l7(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=eN(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new T(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Te);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Te]:new ht([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function u7(n){return n.segments.length>0?new ht([],{[Te]:n}):n}function d7(n){const e={};for(const i of Object.keys(n.children)){const s=d7(n.children[i]);if(i===Te&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function VNe(n){if(1===n.numberOfChildren&&n.children[Te]){const e=n.children[Te];return new ht(n.segments.concat(e.segments),e.children)}return n}(new ht(n.segments,e))}function wc(n){return n instanceof Ed}function h7(n){let e;const r=u7(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new ht(s.url,o);return s===n&&(e=a),a}(n.root));return e??r}function f7(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return tN(r,r,r,t,i);const s=function UNe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new m7(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new m7(t,e,i)}(e);if(s.toRoot())return tN(r,r,new ht([],{}),t,i);const o=function jNe(n,e,t){if(n.isAbsolute)return new pw(e,!0,0);if(!t)return new pw(e,!1,NaN);if(null===t.parent)return new pw(t,!0,0);const i=fw(n.commands[0])?0:1;return function HNe(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new T(4005,!1);r=i.segments.length}return new pw(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?em(o.segmentGroup,o.index,s.commands):g7(o.segmentGroup,o.index,s.commands);return tN(r,o.segmentGroup,a,t,i)}function fw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jp(n){return"object"==typeof n&&null!=n&&n.outlets}function tN(n,e,t,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:p7(n,e,t);const a=u7(d7(o));return new Ed(a,s,r)}function p7(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:p7(s,e,t)}),new ht(n.segments,i)}class m7{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&fw(i[0]))throw new T(4003,!1);const r=i.find(Jp);if(r&&r!==t7(i))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pw{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function g7(n,e,t){if(n||(n=new ht([],{})),0===n.segments.length&&n.hasChildren())return em(n,e,t);const i=function zNe(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(Jp(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!y7(l,c,o))return s;i+=2}else{if(!y7(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new ht(n.segments.slice(0,i.pathIndex),{});return s.children[Te]=new ht(n.segments.slice(i.pathIndex),n.children),em(s,0,r)}return i.match&&0===r.length?new ht(n.segments,{}):i.match&&!n.hasChildren()?nN(n,e,t):i.match?em(n,0,r):nN(n,e,t)}function em(n,e,t){if(0===t.length)return new ht(n.segments,{});{const i=function $Ne(n){return Jp(n[0])?n[0].outlets:{[Te]:n}}(t),r={};if(!i[Te]&&n.children[Te]&&1===n.numberOfChildren&&0===n.children[Te].segments.length){const s=em(n.children[Te],e,t);return new ht(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=g7(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new ht(n.segments,r)}}function nN(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Jp(s)){const l=GNe(s.outlets);return new ht(i,l)}if(0===r&&fw(t[0])){i.push(new Qp(n.segments[e].path,_7(t[0]))),r++;continue}const o=Jp(s)?s.outlets[Te]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&fw(a)?(i.push(new Qp(o,_7(a))),r+=2):(i.push(new Qp(o,{})),r++)}return new ht(i,{})}function GNe(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=nN(new ht([],{}),0,i))}),e}function _7(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function y7(n,e,t){return n==t.path&&$s(e,t.parameters)}const tm="imperative";class zs{constructor(e,t){this.id=e,this.url=t}}class v7 extends zs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nm extends zs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mw extends zs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gw extends zs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class iN extends zs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WNe extends zs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qNe extends zs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KNe extends zs{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YNe extends zs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QNe extends zs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XNe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ZNe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class JNe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eOe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tOe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nOe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new im,this.attachRef=null}}let im=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new nOe,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class w7{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=rN(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=rN(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sN(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return sN(e,this._root).map(t=>t.value)}}function rN(n,e){if(n===e.value)return e;for(const t of e.children){const i=rN(n,t);if(i)return i}return null}function sN(n,e){if(n===e.value)return[e];for(const t of e.children){const i=sN(n,t);if(i.length)return i.unshift(e),i}return[]}class jo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Cd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class E7 extends w7{constructor(e,t){super(e),this.snapshot=t,oN(this,e)}toString(){return this.snapshot.toString()}}function C7(n,e){const t=function iOe(n,e){const o=new _w([],{},{},"",{},Te,e,null,{});return new D7("",new jo(o,[]))}(0,e),i=new ai([new Qp("",{})]),r=new ai({}),s=new ai({}),o=new ai({}),a=new ai(""),l=new Id(i,r,o,a,s,Te,e,t.root);return l.snapshot=t.root,new E7(new jo(l,[]),t)}class Id{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(le(c=>c[Yp]))??Y(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(le(e=>wd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(le(e=>wd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function I7(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function rOe(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class _w{get title(){return this.data?.[Yp]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class D7 extends w7{constructor(e,t){super(t),this.url=e,oN(this,t)}toString(){return T7(this._root)}}function oN(n,e){e.value._routerState=n,e.children.forEach(t=>oN(n,t))}function T7(n){const e=n.children.length>0?` { ${n.children.map(T7).join(", ")} } `:"";return`${n.value}${e}`}function aN(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$s(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),$s(e.params,t.params)||n.paramsSubject.next(t.params),function bNe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$s(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),$s(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function lN(n,e){const t=$s(n.params,e.params)&&function INe(n,e){return bc(n,e)&&n.every((t,i)=>$s(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||lN(n.parent,e.parent))}let S7=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Te,this.activateEvents=new Q,this.deactivateEvents=new Q,this.attachEvents=new Q,this.detachEvents=new Q,this.parentContexts=N(im),this.location=N(sr),this.changeDetector=N(qn),this.environmentInjector=N(sa),this.inputBinder=N(yw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new sOe(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=F({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qt]}),n})();class sOe{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Id?this.route:e===im?this.childContexts:this.parent.get(e,t)}}const yw=new E("");function rm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function aOe(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return rm(n,i,r);return rm(n,i)})}(n,e,t);return new jo(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>rm(n,a)),o}}const i=function lOe(n){return new Id(new ai(n.url),new ai(n.params),new ai(n.queryParams),new ai(n.fragment),new ai(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>rm(n,s));return new jo(i,r)}}const cN="ngNavigationCancelingError";function A7(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=wc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=M7(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function M7(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[cN]=!0,i.cancellationCode=e,t&&(i.url=t),i}function k7(n){return R7(n)&&wc(n.url)}function R7(n){return n&&n[cN]}let uN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=lt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Oj],decls:1,vars:0,template:function(t,i){1&t&&Je(0,"router-outlet")},dependencies:[S7],encapsulation:2}),n})();function dN(n){const e=n.children&&n.children.map(dN),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Te&&(t.component=uN),t}function ts(n){return n.outlet||Te}function sm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class mOe{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),aN(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Cd(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Cd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Cd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Cd(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new b7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new eOe(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(aN(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),aN(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=sm(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class N7{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vw{constructor(e,t){this.component=e,this.route=t}}function gOe(n,e,t){const i=n._root;return om(i,e?e._root:null,t,[i.value])}function Dd(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function ate(n){return null!==Rg(n)}(n)?e.get(n):n:i}function om(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Cd(e);return n.children.forEach(o=>{(function yOe(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function vOe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!bc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bc(n.url,e.url)||!$s(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lN(n,e)||!$s(n.queryParams,e.queryParams);default:return!lN(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new N7(i)):(s.data=o.data,s._resolvedData=o._resolvedData),om(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new vw(a.outlet.component,o))}else o&&am(e,a,r),r.canActivateChecks.push(new N7(i)),om(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>am(a,t.getContext(o),r)),r}function am(n,e,t){const i=Cd(n),r=n.value;Object.entries(i).forEach(([s,o])=>{am(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new vw(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function lm(n){return"function"==typeof n}function O7(n){return n instanceof aw||"EmptyError"===n?.name}const bw=Symbol("INITIAL_VALUE");function Td(){return pr(n=>YT(n.map(e=>e.pipe(Kn(1),ya(bw)))).pipe(le(e=>{for(const t of e)if(!0!==t){if(t===bw)return bw;if(!1===t||t instanceof Ed)return t}return!0}),Jt(e=>e!==bw),Kn(1)))}function P7(n){return function _ee(...n){return gL(n)}(Dn(e=>{if(wc(e))throw A7(0,e)}),le(e=>!0===e))}class ww{constructor(e){this.segmentGroup=e||null}}class F7{constructor(e){this.urlTree=e}}function Sd(n){return Ul(new ww(n))}function L7(n){return Ul(new F7(n))}class BOe{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Y(i);if(r.numberOfChildren>1||!r.children[Te])return Ul(new T(4e3,!1));r=r.children[Te]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Ed(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new ht(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new T(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const hN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UOe(n,e,t,i,r){const s=fN(n,e,t);return s.matched?(i=function cOe(n,e){return n.providers&&!n._injector&&(n._injector=Nj(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function FOe(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Y(r.map(o=>{const a=Dd(o,n);return za(function DOe(n){return n&&lm(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Td(),P7()):Y(!0)}(i,e,t).pipe(le(o=>!0===o?s:{...hN}))):Y(s)}function fN(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...hN}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||vNe)(t,n,e);if(!r)return{...hN};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function V7(n,e,t,i){return t.length>0&&function $Oe(n,e,t){return t.some(i=>Ew(n,e,i)&&ts(i)!==Te)}(n,t,i)?{segmentGroup:new ht(e,HOe(i,new ht(t,n.children))),slicedSegments:[]}:0===t.length&&function zOe(n,e,t){return t.some(i=>Ew(n,e,i))}(n,t,i)?{segmentGroup:new ht(n.segments,jOe(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new ht(n.segments,n.children),slicedSegments:t}}function jOe(n,e,t,i,r){const s={};for(const o of i)if(Ew(n,t,o)&&!r[ts(o)]){const a=new ht([],{});s[ts(o)]=a}return{...r,...s}}function HOe(n,e){const t={};t[Te]=e;for(const i of n)if(""===i.path&&ts(i)!==Te){const r=new ht([],{});t[ts(i)]=r}return t}function Ew(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class KOe{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new BOe(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=V7(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Te).pipe(Or(t=>{if(t instanceof F7)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof ww?this.noMatchError(t):t}),le(t=>{const i=new _w([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Te,this.rootComponentType,null,{}),r=new jo(i,t),s=new D7("",r),o=function BNe(n,e,t=null,i=null){return f7(h7(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Te).pipe(Or(i=>{throw i instanceof ww?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=I7(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return vn(r).pipe(Uf(s=>{const o=i.children[s],a=function fOe(n,e){const t=n.filter(i=>ts(i)===e);return t.push(...n.filter(i=>ts(i)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),Fz((s,o)=>(s.push(...o),s)),lw(null),function gNe(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Jt((r,s)=>n(r,s,i)):io,X1(1),t?lw(e):J9(()=>new aw))}(),Yt(s=>{if(null===s)return Sd(i);const o=B7(s);return function YOe(n){n.sort((e,t)=>e.value.outlet===Te?-1:t.value.outlet===Te?1:e.value.outlet.localeCompare(t.value.outlet))}(o),Y(o)}))}processSegment(e,t,i,r,s,o){return vn(t).pipe(Uf(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,s,o).pipe(Or(l=>{if(l instanceof ww)return Y(null);throw l}))),vc(a=>!!a),Or(a=>{if(O7(a))return function WOe(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?Y([]):Sd(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,s,o,a){return function GOe(n,e,t,i){return!!(ts(n)===i||i!==Te&&Ew(e,t,n))&&("**"===n.path||fN(e,n,t).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o):Sd(r):Sd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?L7(s):this.applyRedirects.lineralizeSegments(i,s).pipe(Yt(o=>{const a=new ht(o,{});return this.processSegment(e,t,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=fN(t,r,s);if(!a)return Sd(t);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?L7(d):this.applyRedirects.lineralizeSegments(r,d).pipe(Yt(h=>this.processSegment(e,i,t,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?t7(r).parameters:{};a=Y({snapshot:new _w(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,U7(i),ts(i),i.component??i._loadedComponent??null,i,j7(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=UOe(t,i,r,e).pipe(le(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new _w(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,U7(i),ts(i),i.component??i._loadedComponent??null,i,j7(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(pr(l=>null===l?Sd(t):this.getChildConfig(e=i._injector??e,i,r).pipe(pr(({routes:c})=>{const u=i._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:m}=V7(t,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(le(w=>null===w?null:[new jo(d,w)]));if(0===c.length&&0===m.length)return Y([new jo(d,[])]);const g=ts(i)===s;return this.processSegment(u,c,p,m,g?Te:s,!0).pipe(le(w=>[new jo(d,w)]))}))))}getChildConfig(e,t,i){return t.children?Y({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Y({routes:t._loadedRoutes,injector:t._loadedInjector}):function POe(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Y(!0):Y(r.map(o=>{const a=Dd(o,n);return za(function wOe(n){return n&&lm(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Td(),P7())}(e,t,i).pipe(Yt(r=>r?this.configLoader.loadChildren(e,t).pipe(Dn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function VOe(n){return Ul(M7(!1,3))}())):Y({routes:[],injector:e})}}function QOe(n){const e=n.value.routeConfig;return e&&""===e.path}function B7(n){const e=[],t=new Set;for(const i of n){if(!QOe(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=B7(i.children);e.push(new jo(i.value,r))}return e.filter(i=>!t.has(i))}function U7(n){return n.data||{}}function j7(n){return n.resolve||{}}function H7(n){return"string"==typeof n.title||null===n.title}function pN(n){return pr(e=>{const t=n(e);return t?vn(t).pipe(le(()=>e)):Y(e)})}const Cw=new E("ROUTES");let $7=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(Rce)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Y(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=za(t.loadComponent()).pipe(le(z7),Dn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),nv(()=>{this.componentLoaders.delete(t)})),r=new Z9(i,()=>new se).pipe(Q1());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(le(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c;return Array.isArray(a)?c=a:(l=a.create(t).injector,c=l.get(Cw,[],ce.Self|ce.Optional).flat()),{routes:c.map(dN),injector:l}}),nv(()=>{this.childrenLoaders.delete(i)})),o=new Z9(s,()=>new se).pipe(Q1());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return za(t()).pipe(le(z7),Yt(i=>i instanceof kj||Array.isArray(i)?Y(i):vn(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z7(n){return function iPe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Iw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new se,this.configLoader=N($7),this.environmentInjector=N(sa),this.urlSerializer=N(Xp),this.rootContexts=N(im),this.inputBindingEnabled=null!==N(yw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new ZNe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new XNe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new ai({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:tm,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Jt(i=>0!==i.id),le(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),pr(i=>{let r=!1,s=!1;return Y(i).pipe(Dn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pr(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new gw(o.id,t.serializeUrl(i.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Er}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return G7(o.source)&&(t.browserUrlTree=o.extractedUrl),Y(o).pipe(pr(u=>{const d=this.transitions?.getValue();return this.events.next(new v7(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Er:Promise.resolve(u)}),function XOe(n,e,t,i,r,s){return Yt(o=>function qOe(n,e,t,i,r,s,o="emptyOnly"){return new KOe(n,e,t,i,r,o,s).recognize()}(n,e,t,i,o.extractedUrl,r,s).pipe(le(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Dn(u=>{if(i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new WNe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new v7(u,this.urlSerializer.serialize(d),h,f);this.events.next(m);const g=C7(0,this.rootComponentType).snapshot;return Y(i={...o,targetSnapshot:g,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new gw(o.id,t.serializeUrl(i.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Er}}),Dn(o=>{const a=new qNe(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),le(o=>i={...o,guards:gOe(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function SOe(n,e){return Yt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Y({...t,guardsResult:!0}):function xOe(n,e,t,i){return vn(n).pipe(Yt(r=>function OOe(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const l=sm(e)??r,c=Dd(a,l);return za(function IOe(n){return n&&lm(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(vc())})).pipe(Td()):Y(!0)}(r.component,r.route,t,e,i)),vc(r=>!0!==r,!0))}(o,i,r,n).pipe(Yt(a=>a&&function bOe(n){return"boolean"==typeof n}(a)?function AOe(n,e,t,i){return vn(e).pipe(Uf(r=>Xy(function kOe(n,e){return null!==n&&e&&e(new JNe(n)),Y(!0)}(r.route.parent,i),function MOe(n,e){return null!==n&&e&&e(new tOe(n)),Y(!0)}(r.route,i),function NOe(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function _Oe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>xv(()=>Y(o.guards.map(l=>{const c=sm(o.node)??t,u=Dd(l,c);return za(function COe(n){return n&&lm(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(vc())})).pipe(Td())));return Y(s).pipe(Td())}(n,r.path,t),function ROe(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Y(!0);const r=i.map(s=>xv(()=>{const o=sm(e)??t,a=Dd(s,o);return za(function EOe(n){return n&&lm(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(vc())}));return Y(r).pipe(Td())}(n,r.route,t))),vc(r=>!0!==r,!0))}(i,s,n,e):Y(a)),le(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Dn(o=>{if(i.guardsResult=o.guardsResult,wc(o.guardsResult))throw A7(0,o.guardsResult);const a=new KNe(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Jt(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),pN(o=>{if(o.guards.canActivateChecks.length)return Y(o).pipe(Dn(a=>{const l=new YNe(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),pr(a=>{let l=!1;return Y(a).pipe(function ZOe(n,e){return Yt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Y(t);let s=0;return vn(r).pipe(Uf(o=>function JOe(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!H7(r)&&(s[Yp]=r.title),function ePe(n,e,t,i){const r=function tPe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Y({});const s={};return vn(r).pipe(Yt(o=>function nPe(n,e,t,i){const r=sm(e)??i,s=Dd(n,r);return za(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(vc(),Dn(a=>{s[o]=a}))),X1(1),function _Ne(n){return le(()=>n)}(s),Or(o=>O7(o)?Er:Ul(o)))}(s,n,e,i).pipe(le(o=>(n._resolvedData=o,n.data=I7(n,t).resolve,r&&H7(r)&&(n.data[Yp]=r.title),null)))}(o.route,i,n,e)),Dn(()=>s++),X1(1),Yt(o=>s===r.length?Y(t):Er))})}(t.paramsInheritanceStrategy,this.environmentInjector),Dn({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Dn(a=>{const l=new QNe(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),pN(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Dn(u=>{l.component=u}),le(()=>{})));for(const u of l.children)c.push(...a(u));return c};return YT(a(o.targetSnapshot.root)).pipe(lw(),Kn(1))}),pN(()=>this.afterPreactivation()),le(o=>{const a=function oOe(n,e,t){const i=rm(n,e._root,t?t._root:void 0);return new E7(i,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:a}}),Dn(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t,i)=>le(r=>(new mOe(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Kn(1),Dn({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new nm(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),nv(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Or(o=>{if(s=!0,R7(o)){k7(o)||(t.navigated=!0,t.restoreHistory(i,!0));const a=new mw(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),k7(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||G7(i.source)};t.scheduleNavigation(l,tm,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const a=new iN(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(t.errorHandler(o))}catch(l){i.reject(l)}}return Er}))}))}cancelNavigationTransition(t,i,r){const s=new mw(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function G7(n){return n!==tm}let W7=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Te);return i}getResolvedTitleForRoute(t){return t.data[Yp]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return N(rPe)},providedIn:"root"}),n})(),rPe=(()=>{class n extends W7{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(b(VD))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sPe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return N(aPe)},providedIn:"root"}),n})();class oPe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let aPe=(()=>{class n extends oPe{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=on(n)))(i||n)}}(),n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mN=new E("",{providedIn:"root",factory:()=>({})});let lPe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:function(){return N(cPe)},providedIn:"root"}),n})(),cPe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var mr=(()=>((mr=mr||{})[mr.COMPLETE=0]="COMPLETE",mr[mr.FAILED=1]="FAILED",mr[mr.REDIRECTING=2]="REDIRECTING",mr))();function uPe(n){throw n}function dPe(n,e,t){return e.parse("/")}const hPe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fPe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ns=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=N(wH),this.isNgZoneEnabled=!1,this.options=N(mN,{optional:!0})||{},this.pendingTasks=N(EH),this.errorHandler=this.options.errorHandler||uPe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dPe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=N(lPe),this.routeReuseStrategy=N(sPe),this.titleStrategy=N(W7),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=N(Cw,{optional:!0})?.flat()??[],this.navigationTransitions=N(Iw),this.urlSerializer=N(Xp),this.location=N(gf),this.componentInputBindingEnabled=!!N(yw,{optional:!0}),this.isNgZoneEnabled=N(q)instanceof q&&q.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ed,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=C7(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),tm,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(dN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=h7(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return f7(d,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=wc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,tm,null,i)}navigate(t,i={skipLocationChange:!1}){return function pPe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new T(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...hPe}:!1===i?{...fPe}:i,wc(t))return i7(this.currentUrlTree,t,r);const s=this.parseUrl(t);return i7(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return function q7(n,e){n.events.pipe(Jt(t=>t instanceof nm||t instanceof mw||t instanceof iN||t instanceof gw),le(t=>t instanceof nm||t instanceof gw?mr.COMPLETE:t instanceof mw&&(0===t.code||1===t.code)?mr.REDIRECTING:mr.FAILED),Jt(t=>t!==mr.REDIRECTING),Kn(1)).subscribe(()=>{e()})}(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cm{constructor(e){return e}}const eK="analytics",tK=tb.async,CPe=xi(VTe,!0),IPe=xi(Iq,!0),DPe=xi(jTe,!0);let vN=(()=>{class n{constructor(t,i,r){let s;this.disposables=[],Re("angularfire",ur.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(o=>{s=o})),tK().then(()=>{const o=r.get(cm);o?this.disposables=[VMe(t).subscribe(a=>{DPe(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(b(Tb),b(q),b(it))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const nK="firebase_screen_id",bN="outlet",um="screen_class",iK="screen_name";let LPe=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const wN={},VPe=n=>{const e=[n[um],n[bN]].join("#");if(wN.hasOwnProperty(e))return wN[e];{const t=LPe++;return wN[e]=t,t}};let rK=(()=>{class n{constructor(t,i,r,s,o,a){Re("angularfire",ur.full,"screen-tracking"),tK().then(()=>{const l=a.get(cm);!t||!l||s.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(Jt(r=>r instanceof b7)).pipe(pr(r=>{var s;const a=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===s?void 0:s.toString())||"",l=n.routerState.root.children.map(f=>f).find(f=>f.outlet===r.snapshot.outlet);if(!l)return Y(null);let c=l;for(;c.firstChild;)c=c.firstChild;const u=c.pathFromRoot.map(f=>{var p;return null===(p=f.routeConfig)||void 0===p?void 0:p.path}).filter(f=>f).join("/")||"/",d={[iK]:u,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:u,[bN]:r.snapshot.outlet};e&&(d.page_title=e.getTitle());let h=l.component;if(h){if(h===uN){let f=r.snapshot;for(;f.firstChild;)f=f.firstChild;h=f.component}}else h=r.snapshot.component;if("string"==typeof h)return Y(Object.assign(Object.assign({},d),{[um]:h}));if(h){const f=t.resolveComponentFactory(h);return Y(Object.assign(Object.assign({},d),{[um]:f.selector}))}return Y(null)}),Jt(r=>!!r),le(r=>Object.assign({firebase_screen_class:r[um],[nK]:VPe(r)},r)),OT(r=>r[bN]),Yt(r=>r.pipe(Ag((s,o)=>JSON.stringify(s)===JSON.stringify(o)),ya(void 0),function fNe(){return mt((n,e)=>{let t,i=!1;n.subscribe(Qe(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}(),le(([s,o])=>s?Object.assign({firebase_previous_class:s[um],firebase_previous_screen:s[iK],firebase_previous_id:s[nK]},o):o)))))(t,i,r).pipe(pr(c=>mE(this,void 0,void 0,function*(){return o&&(yield o.initialized),IPe(l,"screen_view",c)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(b(ns,8),b(VD,8),b(Tl),b(q),b(vN,8),b(it))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const EN=new E("angularfire2.analytics-instances");function jPe(n){return(e,t)=>{if(!tb.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new cm(i)}}const HPe={provide:class EPe{constructor(){return Os(eK)}},deps:[[new Ae,EN]]},$Pe={provide:cm,useFactory:function UPe(n,e){if(!tb.sync())return null;const t=Ns(eK,n,e);return t&&new cm(t)},deps:[[new Ae,EN],dr]};let zPe=(()=>{class n{constructor(t,i){Re("angularfire",ur.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(b(rK,8),b(vN,8))},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[$Pe,HPe,{provide:Q_,useValue:tb.async,multi:!0}]}),n})();function GPe(n,...e){return{ngModule:zPe,providers:[{provide:EN,useFactory:jPe(n),multi:!0,deps:[q,it,Ps,Fs,...e]}]}}var $,WPe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},is={},CN=CN||{},ve=WPe||self;function Dw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function dm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var IN="closure_uid_"+(1e9*Math.random()>>>0),KPe=0;function YPe(n,e,t){return n.call.apply(n.bind,arguments)}function QPe(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function pi(n,e,t){return(pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?YPe:QPe).apply(null,arguments)}function Tw(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Fn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function Ga(){this.s=this.s,this.o=this.o}Ga.prototype.s=!1,Ga.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function qPe(n){Object.prototype.hasOwnProperty.call(n,IN)&&n[IN]||(n[IN]=++KPe)}(this)},Ga.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sK=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function DN(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function oK(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Dw(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}mi.prototype.h=function(){this.defaultPrevented=!0};var ZPe=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ve.addEventListener("test",()=>{},e),ve.removeEventListener("test",()=>{},e)}catch{}return n}();function hm(n){return/^[\s\xa0]*$/.test(n)}function Sw(){var n=ve.navigator;return n&&(n=n.userAgent)?n:""}function Gs(n){return-1!=Sw().indexOf(n)}function TN(n){return TN[" "](n),n}TN[" "]=function(){};var xN,n,eFe=Gs("Opera"),xd=Gs("Trident")||Gs("MSIE"),aK=Gs("Edge"),SN=aK||xd,lK=Gs("Gecko")&&!(-1!=Sw().toLowerCase().indexOf("webkit")&&!Gs("Edge"))&&!(Gs("Trident")||Gs("MSIE"))&&!Gs("Edge"),tFe=-1!=Sw().toLowerCase().indexOf("webkit")&&!Gs("Edge");function cK(){var n=ve.document;return n?n.documentMode:void 0}e:{var AN="",MN=(n=Sw(),lK?/rv:([^\);]+)(\)|;)/.exec(n):aK?/Edge\/([\d\.]+)/.exec(n):xd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tFe?/WebKit\/(\S+)/.exec(n):eFe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(MN&&(AN=MN?MN[1]:""),xd){var kN=cK();if(null!=kN&&kN>parseFloat(AN)){xN=String(kN);break e}}xN=AN}var nFe=ve.document&&xd&&(cK()||parseInt(xN,10))||void 0;function fm(n,e){if(mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(lK){e:{try{TN(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iFe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&fm.$.h.call(this)}}Fn(fm,mi);var iFe={2:"touch",3:"pen",4:"mouse"};fm.prototype.h=function(){fm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var pm="closure_listenable_"+(1e6*Math.random()|0),rFe=0;function sFe(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++rFe,this.fa=this.ia=!1}function xw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function NN(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function dK(n){const e={};for(const t in n)e[t]=n[t];return e}const hK="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fK(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<hK.length;s++)t=hK[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Aw(n){this.src=n,this.g={},this.h=0}function ON(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=sK(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(xw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function PN(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}Aw.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=PN(n,e,i,r);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new sFe(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var FN="closure_lm_"+(1e6*Math.random()|0),LN={};function pK(n,e,t,i,r){if(i&&i.once)return gK(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pK(n,e[s],t,i,r);return null}return t=jN(t),n&&n[pm]?n.O(e,t,dm(i)?!!i.capture:!!i,r):mK(n,e,t,!1,i,r)}function mK(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var o=dm(r)?!!r.capture:!!r,a=BN(n);if(a||(n[FN]=a=new Aw(n)),(t=a.add(e,t,i,o,s)).proxy)return t;if(i=function aFe(){const e=lFe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)ZPe||(r=o),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(yK(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function gK(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gK(n,e[s],t,i,r);return null}return t=jN(t),n&&n[pm]?n.P(e,t,dm(i)?!!i.capture:!!i,r):mK(n,e,t,!0,i,r)}function _K(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)_K(n,e[s],t,i,r);else i=dm(i)?!!i.capture:!!i,t=jN(t),n&&n[pm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=PN(s=n.g[e],t,i,r))&&(xw(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=BN(n))&&(e=n.g[e.toString()],n=-1,e&&(n=PN(e,t,i,r)),(t=-1<n?e[n]:null)&&VN(t))}function VN(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[pm])ON(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(yK(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=BN(e))?(ON(t,n),0==t.h&&(t.src=null,e[FN]=null)):xw(n)}}}function yK(n){return n in LN?LN[n]:LN[n]="on"+n}function lFe(n,e){if(n.fa)n=!0;else{e=new fm(e,this);var t=n.listener,i=n.la||n.src;n.ia&&VN(n),n=t.call(i,e)}return n}function BN(n){return(n=n[FN])instanceof Aw?n:null}var UN="__closure_events_fn_"+(1e9*Math.random()>>>0);function jN(n){return"function"==typeof n?n:(n[UN]||(n[UN]=function(e){return n.handleEvent(e)}),n[UN])}function Ln(){Ga.call(this),this.i=new Aw(this),this.S=this,this.J=null}function ti(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new mi(e,n);else if(e instanceof mi)e.target=e.target||n;else{var r=e;fK(e=new mi(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];r=Mw(o,i,!0,e)&&r}if(r=Mw(o=e.g=n,i,!0,e)&&r,r=Mw(o,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=Mw(o=e.g=t[s],i,!1,e)&&r}function Mw(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&ON(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Fn(Ln,Ga),Ln.prototype[pm]=!0,Ln.prototype.removeEventListener=function(n,e,t,i){_K(this,n,e,t,i)},Ln.prototype.N=function(){if(Ln.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)xw(t[i]);delete n.g[e],n.h--}}this.J=null},Ln.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ln.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var HN=ve.JSON.stringify;function uFe(){var n=$N;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vK=new class cFe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new hFe,n=>n.reset());class hFe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fFe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function pFe(n){ve.setTimeout(()=>{throw n},0)}let mm,gm=!1,$N=new class dFe{constructor(){this.h=this.g=null}add(e,t){const i=vK.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},bK=()=>{const n=ve.Promise.resolve(void 0);mm=()=>{n.then(mFe)}};var mFe=()=>{for(var n;n=uFe();){try{n.h.call(n.g)}catch(t){pFe(t)}var e=vK;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}gm=!1};function kw(n,e){Ln.call(this),this.h=n||1,this.g=e||ve,this.j=pi(this.qb,this),this.l=Date.now()}function zN(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function GN(n,e,t){if("function"==typeof n)t&&(n=pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:ve.setTimeout(n,e||0)}function wK(n){n.g=GN(()=>{n.g=null,n.i&&(n.i=!1,wK(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Fn(kw,Ln),($=kw.prototype).ga=!1,$.T=null,$.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ti(this,"tick"),this.ga&&(zN(this),this.start()))}},$.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$.N=function(){kw.$.N.call(this),zN(this),delete this.g};class gFe extends Ga{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wK(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _m(n){Ga.call(this),this.h=n,this.g={}}Fn(_m,Ga);var EK=[];function CK(n,e,t,i){Array.isArray(t)||(t&&(EK[0]=t.toString()),t=EK);for(var r=0;r<t.length;r++){var s=pK(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function IK(n){NN(n.g,function(e,t){this.g.hasOwnProperty(t)&&VN(e)},n),n.g={}}function Rw(){this.g=!0}function Ad(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function bFe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return HN(t)}catch{return e}}(n,t)+(i?" "+i:"")})}_m.prototype.N=function(){_m.$.N.call(this),IK(this)},_m.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rw.prototype.Ea=function(){this.g=!1},Rw.prototype.info=function(){};var Ec={},DK=null;function Nw(){return DK=DK||new Ln}function TK(n){mi.call(this,Ec.Ta,n)}function ym(n){const e=Nw();ti(e,new TK(e))}function SK(n,e){mi.call(this,Ec.STAT_EVENT,n),this.stat=e}function Mi(n){const e=Nw();ti(e,new SK(e,n))}function xK(n,e){mi.call(this,Ec.Ua,n),this.size=e}function vm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){n()},e)}Ec.Ta="serverreachability",Fn(TK,mi),Ec.STAT_EVENT="statevent",Fn(SK,mi),Ec.Ua="timingevent",Fn(xK,mi);var Ow={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AK={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function WN(){}function kK(){}WN.prototype.h=null;var YN,bm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qN(){mi.call(this,"d")}function KN(){mi.call(this,"c")}function Pw(){}function wm(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new _m(this),this.P=wFe,this.V=new kw(n=SN?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new RK}function RK(){this.i=null,this.g="",this.h=!1}Fn(qN,mi),Fn(KN,mi),Fn(Pw,WN),Pw.prototype.g=function(){return new XMLHttpRequest},Pw.prototype.i=function(){return{}},YN=new Pw;var wFe=45e3,QN={},Fw={};function XN(n,e,t){n.L=1,n.v=Uw($o(e)),n.s=t,n.S=!0,NK(n,null)}function NK(n,e){n.G=Date.now(),Em(n),n.A=$o(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),$K(t.i,"t",i),n.C=0,t=n.l.J,n.h=new RK,n.g=fY(n.l,t?e:null,!n.s),0<n.O&&(n.M=new gFe(pi(n.Pa,n,n.g),n.O)),CK(n.U,n.g,"readystatechange",n.nb),e=n.I?dK(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),ym(),function _Fe(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function OK(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function PK(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=EFe(n,t),r==Fw){4==e&&(n.o=4,Mi(14),i=!1),Ad(n.j,n.m,null,"[Incomplete Response]");break}if(r==QN){n.o=4,Mi(15),Ad(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Ad(n.j,n.m,r,null),ZN(n,r)}OK(n)&&r!=Fw&&r!=QN&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Mi(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),sO(e),e.M=!0,Mi(11))):(Ad(n.j,n.m,t,"[Invalid Chunked Response]"),Cc(n),Cm(n))}function EFe(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Fw:(t=Number(e.substring(t,i)),isNaN(t)?QN:(i+=1)+t>e.length?Fw:(e=e.slice(i,i+t),n.C=i+t,e))}function Em(n){n.Y=Date.now()+n.P,FK(n,n.P)}function FK(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vm(pi(n.lb,n),e)}function Lw(n){n.B&&(ve.clearTimeout(n.B),n.B=null)}function Cm(n){0==n.l.H||n.J||cY(n.l,n)}function Cc(n){Lw(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,zN(n.V),IK(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function ZN(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||JN(t.i,n)))if(!n.K&&JN(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ww(t),zw(t)}rO(t),Mi(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=vm(pi(t.ib,t),6e3));if(1>=WK(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Dc(t,11)}else if((n.K||t.g==n)&&Ww(t),!hm(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=i=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(eO(s,s.h),s.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,Tt(i.I,i.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((i=t).wa=hY(i,i.J?i.pa:null,i.Y),o.K){qK(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(Lw(a),Em(a)),i.g=o}else aY(i);0<t.j.length&&Gw(t)}else"stop"!=c[0]&&"close"!=c[0]||Dc(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Dc(t,7):iO(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}ym()}catch{}}function LK(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Dw(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function IFe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Dw(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function CFe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Dw(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}($=wm.prototype).setTimeout=function(n){this.P=n},$.nb=function(n){n=n.target;const e=this.M;e&&3==Ws(n)?e.l():this.Pa(n)},$.Pa=function(n){try{if(n==this.g)e:{const u=Ws(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||SN||this.g&&(this.h.h||this.g.ja()||tY(this.g)))){this.J||4!=u||7==e||ym(),Lw(this);var t=this.g.da();this.ca=t;t:if(OK(this)){var i=tY(this.g);n="";var r=i.length,s=4==Ws(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cc(this),Cm(this);var o="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function yFe(n,e,t,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hm(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Mi(12),Cc(this),Cm(this);break e}Ad(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ZN(this,t)}this.S?(PK(this,u,o),SN&&this.i&&3==u&&(CK(this.U,this.V,"tick",this.mb),this.V.start())):(Ad(this.j,this.m,o,null),ZN(this,o)),4==u&&Cc(this),this.i&&!this.J&&(4==u?cY(this.l,this):(this.i=!1,Em(this)))}else(function HFe(n){const e={};n=(n.g&&2<=Ws(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(hm(n[i]))continue;var t=fFe(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function oFe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Mi(12)):(this.o=0,Mi(13)),Cc(this),Cm(this)}}}catch{}},$.mb=function(){if(this.g){var n=Ws(this.g),e=this.g.ja();this.C<e.length&&(Lw(this),PK(this,n,e),this.i&&4!=n&&Em(this))}},$.cancel=function(){this.J=!0,Cc(this)},$.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function vFe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ym(),Mi(17)),Cc(this),this.o=2,Cm(this)):FK(this,this.Y-n)};var VK=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ic(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ic){this.h=n.h,Vw(this,n.j),this.s=n.s,this.g=n.g,Bw(this,n.m),this.l=n.l;var e=n.i,t=new Tm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),BK(this,t),this.o=n.o}else n&&(e=String(n).match(VK))?(this.h=!1,Vw(this,e[1]||"",!0),this.s=Im(e[2]||""),this.g=Im(e[3]||"",!0),Bw(this,e[4]),this.l=Im(e[5]||"",!0),BK(this,e[6]||"",!0),this.o=Im(e[7]||"")):(this.h=!1,this.i=new Tm(null,this.h))}function $o(n){return new Ic(n)}function Vw(n,e,t){n.j=t?Im(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Bw(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function BK(n,e,t){e instanceof Tm?(n.i=e,function kFe(n,e){e&&!n.j&&(Wa(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(jK(this,i),$K(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Dm(e,AFe)),n.i=new Tm(e,n.h))}function Tt(n,e,t){n.i.set(e,t)}function Uw(n){return Tt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Im(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Dm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,TFe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function TFe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ic.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Dm(e,UK,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Dm(e,UK,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Dm(t,"/"==t.charAt(0)?xFe:SFe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Dm(t,MFe)),n.join("")};var UK=/[#\/\?@]/g,SFe=/[#\?:]/g,xFe=/[#\?]/g,AFe=/[#\?@]/g,MFe=/#/g;function Tm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Wa(n){n.g||(n.g=new Map,n.h=0,n.i&&function DFe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jK(n,e){Wa(n),e=Md(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function HK(n,e){return Wa(n),e=Md(n,e),n.g.has(e)}function $K(n,e,t){jK(n,e),0<t.length&&(n.i=null,n.g.set(Md(n,e),DN(t)),n.h+=t.length)}function Md(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function zK(n){this.l=n||NFe,n=ve.PerformanceNavigationTiming?0<(n=ve.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($=Tm.prototype).add=function(n,e){Wa(this),this.i=null,n=Md(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$.forEach=function(n,e){Wa(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},$.ta=function(){Wa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},$.Z=function(n){Wa(this);let e=[];if("string"==typeof n)HK(this,n)&&(e=e.concat(this.g.get(Md(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},$.set=function(n,e){return Wa(this),this.i=null,HK(this,n=Md(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var NFe=10;function GK(n){return!!n.h||!!n.g&&n.g.size>=n.j}function WK(n){return n.h?1:n.g?n.g.size:0}function JN(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function eO(n,e){n.g?n.g.add(e):n.h=e}function qK(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function KK(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return DN(n.i)}zK.prototype.cancel=function(){if(this.i=KK(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var OFe=class{stringify(n){return ve.JSON.stringify(n,void 0)}parse(n){return ve.JSON.parse(n,void 0)}};function PFe(){this.g=new OFe}function FFe(n,e,t){const i=t||"";try{LK(n,function(r,s){let o=r;dm(r)&&(o=HN(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function jw(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Sm(n){this.l=n.fc||null,this.j=n.ob||!1}function Hw(n,e){Ln.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=tO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fn(Sm,WN),Sm.prototype.g=function(){return new Hw(this.l,this.j)},Sm.prototype.i=function(n){return function(){return n}}({}),Fn(Hw,Ln);var tO=0;function YK(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function xm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Am(n)}function Am(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($=Hw.prototype).open=function(n,e){if(this.readyState!=tO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Am(this)},$.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xm(this)),this.readyState=tO},$.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Am(this)),this.g&&(this.readyState=3,Am(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YK(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},$.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?xm(this):Am(this),3==this.readyState&&YK(this)}},$.Za=function(n){this.g&&(this.response=this.responseText=n,xm(this))},$.Ya=function(n){this.g&&(this.response=n,xm(this))},$.ka=function(){this.g&&xm(this)},$.setRequestHeader=function(n,e){this.v.append(n,e)},$.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Hw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var VFe=ve.JSON.parse;function qt(n){Ln.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=QK,this.L=this.M=!1}Fn(qt,Ln);var QK="",BFe=/^https?$/i,UFe=["POST","PUT"];function XK(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ZK(n),$w(n)}function ZK(n){n.F||(n.F=!0,ti(n,"complete"),ti(n,"error"))}function JK(n){if(n.h&&typeof CN<"u"&&(!n.C[1]||4!=Ws(n)||2!=n.da()))if(n.v&&4==Ws(n))GN(n.La,0,n);else if(ti(n,"readystatechange"),4==Ws(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===o){var r=String(n.I).match(VK)[1]||null;!r&&ve.self&&ve.self.location&&(r=ve.self.location.protocol.slice(0,-1)),i=!BFe.test(r?r.toLowerCase():"")}t=i}if(t)ti(n,"complete"),ti(n,"success");else{n.m=6;try{var s=2<Ws(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",ZK(n)}}finally{$w(n)}}}function $w(n,e){if(n.g){eY(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ti(n,"ready");try{t.onreadystatechange=i}catch{}}}function eY(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ve.clearTimeout(n.A),n.A=null)}function Ws(n){return n.g?n.g.readyState:0}function tY(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case QK:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function nY(n){let e="";return NN(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function nO(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=nY(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Tt(n,e,t))}function Mm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function iY(n){this.Ga=0,this.j=[],this.l=new Rw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mm("baseRetryDelayMs",5e3,n),this.hb=Mm("retryDelaySeedMs",1e4,n),this.eb=Mm("forwardChannelMaxRetries",2,n),this.xa=Mm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new zK(n&&n.concurrentRequestLimit),this.Ja=new PFe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function iO(n){if(rY(n),3==n.H){var e=n.W++,t=$o(n.I);if(Tt(t,"SID",n.K),Tt(t,"RID",e),Tt(t,"TYPE","terminate"),km(n,t),(e=new wm(n,n.l,e)).L=2,e.v=Uw($o(t)),t=!1,ve.navigator&&ve.navigator.sendBeacon)try{t=ve.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ve.Image&&((new Image).src=e.v,t=!0),t||(e.g=fY(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Em(e)}dY(n)}function zw(n){n.g&&(sO(n),n.g.cancel(),n.g=null)}function rY(n){zw(n),n.u&&(ve.clearTimeout(n.u),n.u=null),Ww(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ve.clearTimeout(n.m),n.m=null)}function Gw(n){if(!GK(n.i)&&!n.m){n.m=!0;var e=n.Na;mm||bK(),gm||(mm(),gm=!0),$N.add(e,n),n.C=0}}function sY(n,e){var t;t=e?e.m:n.W++;const i=$o(n.I);Tt(i,"SID",n.K),Tt(i,"RID",t),Tt(i,"AID",n.V),km(n,i),n.o&&n.s&&nO(i,n.o,n.s),t=new wm(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=oY(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),eO(n.i,t),XN(t,i,e)}function km(n,e){n.na&&NN(n.na,function(t,i){Tt(e,i,t)}),n.h&&LK({},function(t,i){Tt(e,i,t)})}function oY(n,e,t){t=Math.min(n.j.length,t);var i=n.h?pi(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{FFe(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function aY(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;mm||bK(),gm||(mm(),gm=!0),$N.add(e,n),n.A=0}}function rO(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=vm(pi(n.Ma,n),uY(n,n.A)),n.A++,0))}function sO(n){null!=n.B&&(ve.clearTimeout(n.B),n.B=null)}function lY(n){n.g=new wm(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=$o(n.wa);Tt(e,"RID","rpc"),Tt(e,"SID",n.K),Tt(e,"AID",n.V),Tt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Tt(e,"TO",n.qa),Tt(e,"TYPE","xmlhttp"),km(n,e),n.o&&n.s&&nO(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Uw($o(e)),t.s=null,t.S=!0,NK(t,n)}function Ww(n){null!=n.v&&(ve.clearTimeout(n.v),n.v=null)}function cY(n,e){var t=null;if(n.g==e){Ww(n),sO(n),n.g=null;var i=2}else{if(!JN(n.i,e))return;t=e.F,qK(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;ti(i=Nw(),new xK(i,t)),Gw(n)}else aY(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function $Fe(n,e){return!(WK(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=vm(pi(n.Na,n,e),uY(n,n.C)),n.C++,0)))}(n,e)||2==i&&rO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Dc(n,5);break;case 4:Dc(n,10);break;case 3:Dc(n,6);break;default:Dc(n,2)}}function uY(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Dc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=pi(n.pb,n);t||(t=new Ic("//www.google.com/images/cleardot.gif"),ve.location&&"http"==ve.location.protocol||Vw(t,"https"),Uw(t)),function LFe(n,e){const t=new Rw;if(ve.Image){const i=new Image;i.onload=Tw(jw,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Tw(jw,t,i,"TestLoadImage: error",!1,e),i.onabort=Tw(jw,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Tw(jw,t,i,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Mi(2);n.H=0,n.h&&n.h.za(e),dY(n),rY(n)}function dY(n){if(n.H=0,n.ma=[],n.h){const e=KK(n.i);(0!=e.length||0!=n.j.length)&&(oK(n.ma,e),oK(n.ma,n.j),n.i.i.length=0,DN(n.j),n.j.length=0),n.h.ya()}}function hY(n,e,t){var i=t instanceof Ic?$o(t):new Ic(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Bw(i,i.m);else{var r=ve.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Ic(null);i&&Vw(s,i),e&&(s.g=e),r&&Bw(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&Tt(i,t,e),Tt(i,"VER",n.ra),km(n,i),i}function fY(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qt(t&&n.Ha&&!n.va?new Sm({ob:!0}):n.va)).Oa(n.J),e}function pY(){}function qw(){if(xd&&!(10<=Number(nFe)))throw Error("Environmental error: no available transport.")}function gr(n,e){Ln.call(this),this.g=new iY(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!hm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kd(this)}function mY(n){qN.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function gY(){KN.call(this),this.status=1}function kd(n){this.g=n}function rs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function oO(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function ft(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}($=qt.prototype).Oa=function(n){this.M=n},$.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():YN.g(),this.C=function MK(n){return n.h||(n.h=n.i())}(this.u?this.u:YN),this.g.onreadystatechange=pi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void XK(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=ve.FormData&&n instanceof ve.FormData,!(0<=sK(UFe,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{eY(this),0<this.B&&((this.L=function jFe(n){return xd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pi(this.ua,this)):this.A=GN(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){XK(this,s)}},$.ua=function(){typeof CN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ti(this,"timeout"),this.abort(8))},$.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ti(this,"complete"),ti(this,"abort"),$w(this))},$.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$w(this,!0)),qt.$.N.call(this)},$.La=function(){this.s||(this.G||this.v||this.l?JK(this):this.kb())},$.kb=function(){JK(this)},$.isActive=function(){return!!this.g},$.da=function(){try{return 2<Ws(this)?this.g.status:-1}catch{return-1}},$.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),VFe(e)}},$.Ia=function(){return this.m},$.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($=iY.prototype).ra=8,$.H=1,$.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new wm(this,this.l,n);let s=this.s;if(this.U&&(s?(s=dK(s),fK(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=oY(this,r,e),Tt(t=$o(this.I),"RID",n),Tt(t,"CVER",22),this.F&&Tt(t,"X-HTTP-Session-Id",this.F),km(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(nY(s)))+"&"+e:this.o&&nO(t,this.o,s)),eO(this.i,r),this.bb&&Tt(t,"TYPE","init"),this.P?(Tt(t,"$req",e),Tt(t,"SID","null"),r.aa=!0,XN(r,t,null)):XN(r,t,e),this.H=2}}else 3==this.H&&(n?sY(this,n):0==this.j.length||GK(this.i)||sY(this))},$.Ma=function(){if(this.u=null,lY(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=vm(pi(this.jb,this),n)}},$.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mi(10),zw(this),lY(this))},$.ib=function(){null!=this.v&&(this.v=null,zw(this),rO(this),Mi(19))},$.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Mi(2)):(this.l.info("Failed to ping google.com"),Mi(1))},$.isActive=function(){return!!this.h&&this.h.isActive(this)},($=pY.prototype).Ba=function(){},$.Aa=function(){},$.za=function(){},$.ya=function(){},$.isActive=function(){return!0},$.Va=function(){},qw.prototype.g=function(n,e){return new gr(n,e)},Fn(gr,Ln),gr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Mi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=hY(n,null,n.Y),Gw(n)},gr.prototype.close=function(){iO(this.g)},gr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=HN(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Gw(e)},gr.prototype.N=function(){this.g.h=null,delete this.j,iO(this.g),delete this.g,gr.$.N.call(this)},Fn(mY,qN),Fn(gY,KN),Fn(kd,pY),kd.prototype.Ba=function(){ti(this.g,"a")},kd.prototype.Aa=function(n){ti(this.g,new mY(n))},kd.prototype.za=function(n){ti(this.g,new gY)},kd.prototype.ya=function(){ti(this.g,"b")},Fn(rs,function zFe(){this.blockSize=-1}),rs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},rs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)oO(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){oO(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){oO(this,i),r=0;break}}this.h=r,this.i+=e},rs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var GFe={};function aO(n){return-128<=n&&128>n?function JPe(n,e){var t=GFe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ft([0|e],0>e?-1:0)}):new ft([0|n],0>n?-1:0)}function qs(n){if(isNaN(n)||!isFinite(n))return Rd;if(0>n)return ni(qs(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=lO;return new ft(e,0)}var lO=4294967296,Rd=aO(0),cO=aO(1),yY=aO(16777216);function zo(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Lr(n){return-1==n.h}function ni(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new ft(t,~n.h).add(cO)}function Kw(n,e){return n.add(ni(e))}function Yw(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Rm(n,e){this.g=n,this.h=e}function Qw(n,e){if(zo(e))throw Error("division by zero");if(zo(n))return new Rm(Rd,Rd);if(Lr(n))return e=Qw(ni(n),e),new Rm(ni(e.g),ni(e.h));if(Lr(e))return e=Qw(n,ni(e)),new Rm(ni(e.g),e.h);if(30<n.g.length){if(Lr(n)||Lr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=cO,i=e;0>=i.X(n);)t=vY(t),i=vY(i);var r=Nd(t,1),s=Nd(i,1);for(i=Nd(i,2),t=Nd(t,2);!zo(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(t),s=o),i=Nd(i,1),t=Nd(t,1)}return e=Kw(n,r.R(e)),new Rm(r,e)}for(r=Rd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),o=(s=qs(t)).R(e);Lr(o)||0<o.X(n);)o=(s=qs(t-=i)).R(e);zo(s)&&(s=cO),r=r.add(s),n=Kw(n,o)}return new Rm(r,n)}function vY(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new ft(t,n.h)}function Nd(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new ft(r,n.h)}($=ft.prototype).ea=function(){if(Lr(this))return-ni(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:lO+i)*e,e*=lO}return n},$.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(zo(this))return"0";if(Lr(this))return"-"+ni(this).toString(n);for(var e=qs(Math.pow(n,6)),t=this,i="";;){var r=Qw(t,e).g,s=((0<(t=Kw(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(zo(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},$.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},$.X=function(n){return Lr(n=Kw(this,n))?-1:zo(n)?0:1},$.abs=function(){return Lr(this)?ni(this):this},$.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,t[r]=(o&=65535)<<16|(s&=65535)}return new ft(t,-2147483648&t[t.length-1]?-1:0)},$.R=function(n){if(zo(this)||zo(n))return Rd;if(Lr(this))return Lr(n)?ni(this).R(ni(n)):ni(ni(this).R(n));if(Lr(n))return ni(this.R(ni(n)));if(0>this.X(yY)&&0>n.X(yY))return qs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=o*l,Yw(t,2*i+2*r),t[2*i+2*r+1]+=s*l,Yw(t,2*i+2*r+1),t[2*i+2*r+1]+=o*a,Yw(t,2*i+2*r+1),t[2*i+2*r+2]+=s*a,Yw(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new ft(t,0)},$.gb=function(n){return Qw(this,n).h},$.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new ft(t,this.h&n.h)},$.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new ft(t,this.h|n.h)},$.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new ft(t,this.h^n.h)},qw.prototype.createWebChannel=qw.prototype.g,gr.prototype.send=gr.prototype.u,gr.prototype.open=gr.prototype.m,gr.prototype.close=gr.prototype.close,Ow.NO_ERROR=0,Ow.TIMEOUT=8,Ow.HTTP_ERROR=6,AK.COMPLETE="complete",kK.EventType=bm,bm.OPEN="a",bm.CLOSE="b",bm.ERROR="c",bm.MESSAGE="d",Ln.prototype.listen=Ln.prototype.O,qt.prototype.listenOnce=qt.prototype.P,qt.prototype.getLastError=qt.prototype.Sa,qt.prototype.getLastErrorCode=qt.prototype.Ia,qt.prototype.getStatus=qt.prototype.da,qt.prototype.getResponseJson=qt.prototype.Wa,qt.prototype.getResponseText=qt.prototype.ja,qt.prototype.send=qt.prototype.ha,qt.prototype.setWithCredentials=qt.prototype.Oa,rs.prototype.digest=rs.prototype.l,rs.prototype.reset=rs.prototype.reset,rs.prototype.update=rs.prototype.j,ft.prototype.add=ft.prototype.add,ft.prototype.multiply=ft.prototype.R,ft.prototype.modulo=ft.prototype.gb,ft.prototype.compare=ft.prototype.X,ft.prototype.toNumber=ft.prototype.ea,ft.prototype.toString=ft.prototype.toString,ft.prototype.getBits=ft.prototype.D,ft.fromNumber=qs,ft.fromString=function _Y(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ni(_Y(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=qs(Math.pow(e,8)),i=Rd,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),e);8>s?(s=qs(Math.pow(e,s)),i=i.R(s).add(qs(o))):i=(i=i.R(t)).add(qs(o))}return i};var WFe=is.createWebChannelTransport=function(){return new qw},qFe=is.getStatEventTarget=function(){return Nw()},uO=is.ErrorCode=Ow,KFe=is.EventType=AK,YFe=is.Event=Ec,bY=is.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},QFe=is.FetchXmlHttpFactory=Sm,Xw=is.WebChannel=kK,XFe=is.XhrIo=qt,ZFe=is.Md5=rs,Od=is.Integer=ft;const wY="@firebase/firestore";class Vn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");let Pd="9.22.1";const qa=new Ta("@firebase/firestore");function dO(){return qa.logLevel}function R(n,...e){if(qa.logLevel<=de.DEBUG){const t=e.map(hO);qa.debug(`Firestore (${Pd}): ${n}`,...t)}}function en(n,...e){if(qa.logLevel<=de.ERROR){const t=e.map(hO);qa.error(`Firestore (${Pd}): ${n}`,...t)}}function ss(n,...e){if(qa.logLevel<=de.WARN){const t=e.map(hO);qa.warn(`Firestore (${Pd}): ${n}`,...t)}}function hO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function K(n="Unexpected state"){const e=`FIRESTORE (${Pd}) INTERNAL ASSERTION FAILED: `+n;throw en(e),new Error(e)}function J(n,e){n||K()}function j(n,e){return n}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends cr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class EY{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JFe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vn.UNAUTHENTICATED))}shutdown(){}}class eLe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tLe{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let o=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(J("string"==typeof i.accessToken),new EY(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return J(null===e||"string"==typeof e),new Vn(e)}}class nLe{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class iLe{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new nLe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CY{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rLe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,R("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(J("string"==typeof t.token),this.T=t.token,new CY(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sLe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class IY{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=sLe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function ge(n,e){return n<e?-1:n>e?1:0}function Fd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class Bt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Bt(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new Bt(0,0))}static max(){return new te(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Nm{constructor(e,t,i){void 0===t?t=0:t>e.length&&K(),void 0===i?i=e.length-t:i>e.length-t&&K(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Nm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nm?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class We extends Nm{construct(e,t,i){return new We(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new M(I.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new We(t)}static emptyPath(){return new We([])}}const oLe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Nm{construct(e,t,i){return new tn(e,t,i)}static isValidIdentifier(e){return oLe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new M(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new M(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new M(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new M(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}class B{constructor(e){this.path=e}static fromPath(e){return new B(We.fromString(e))}static fromName(e){return new B(We.fromString(e).popFirst(5))}static empty(){return new B(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===We.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return We.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new We(e.slice()))}}function SY(n){return new _r(n.readTime,n.key,-1)}class _r{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _r(te.min(),B.empty(),-1)}static max(){return new _r(te.max(),B.empty(),-1)}}function pO(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=B.comparator(n.documentKey,e.documentKey),0!==t?t:ge(n.largestBatchId,e.largestBatchId))}const xY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cLe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ka(n){return mO.apply(this,arguments)}function mO(){return mO=y(function*(n){if(n.code!==I.FAILED_PRECONDITION||n.message!==xY)throw n;R("LocalStore","Unexpectedly lost primary lease")}),mO.apply(this,arguments)}class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new C((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof C?t:C.resolve(t)}catch(t){return C.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):C.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):C.reject(t)}static resolve(e){return new C((t,i)=>{t(e)})}static reject(e){return new C((t,i)=>{i(e)})}static waitFor(e){return new C((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=C.resolve(!1);for(const i of e)t=t.next(r=>r?C.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new C((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,t){return new C((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}function Ya(n){return"IndexedDbTransactionError"===n.name}let yr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Fm(n){return null==n}function Lm(n){return 0===n&&1/n==-1/0}function LY(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class Et{constructor(e,t){this.comparator=e,this.root=t||ii.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ii.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new n0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new n0(this.root,e,this.comparator,!1)}getReverseIterator(){return new n0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new n0(this.root,e,this.comparator,!0)}}class n0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ii{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??ii.RED,this.left=r??ii.EMPTY,this.right=s??ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new ii(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ii.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}ii.EMPTY=null,ii.RED=!0,ii.BLACK=!1,ii.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(n,e,t,i,r){return this}insert(n,e,t){return new ii(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class St{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BY(this.data.getIterator())}getIteratorFrom(e){return new BY(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class BY{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yi{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Yi([])}unionWith(e){let t=new St(tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Yi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class UY extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new UY("Invalid base64 string: "+r):r}}(e);return new xn(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const RLe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(n){if(J(!!n),"string"==typeof n){let e=0;const t=RLe.exec(n);if(J(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kt(n.seconds),nanos:Kt(n.nanos)}}function Kt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Go(n){return"string"==typeof n?xn.fromBase64String(n):xn.fromUint8Array(n)}function r0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function s0(n){const e=n.mapValue.fields.__previous_value__;return r0(e)?s0(e):e}function Vm(n){const e=Xa(n.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}class NLe{constructor(e,t,i,r,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class xc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xc&&e.projectId===this.projectId&&e.database===this.database}}const Za={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ja(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?r0(n)?4:zY(n)?9007199254740991:10:K()}function Ys(n,e){if(n===e)return!0;const t=Ja(n);if(t!==Ja(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vm(n).isEqual(Vm(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Xa(i.timestampValue),o=Xa(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Go(n.bytesValue).isEqual(Go(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Kt(i.geoPointValue.latitude)===Kt(r.geoPointValue.latitude)&&Kt(i.geoPointValue.longitude)===Kt(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Kt(i.integerValue)===Kt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Kt(i.doubleValue),o=Kt(r.doubleValue);return s===o?Lm(s)===Lm(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Fd(n.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(LY(s)!==LY(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ys(s[a],o[a])))return!1;return!0}(n,e);default:return K()}var r}function Bm(n,e){return void 0!==(n.values||[]).find(t=>Ys(t,e))}function el(n,e){if(n===e)return 0;const t=Ja(n),i=Ja(e);if(t!==i)return ge(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ge(n.booleanValue,e.booleanValue);case 2:return function(r,s){const o=Kt(r.integerValue||r.doubleValue),a=Kt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return jY(n.timestampValue,e.timestampValue);case 4:return jY(Vm(n),Vm(e));case 5:return ge(n.stringValue,e.stringValue);case 6:return function(r,s){const o=Go(r),a=Go(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ge(o[l],a[l]);if(0!==c)return c}return ge(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const o=ge(Kt(r.latitude),Kt(s.latitude));return 0!==o?o:ge(Kt(r.longitude),Kt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=el(o[l],a[l]);if(c)return c}return ge(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Za.mapValue&&s===Za.mapValue)return 0;if(r===Za.mapValue)return 1;if(s===Za.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=ge(a[u],c[u]);if(0!==d)return d;const h=el(o[a[u]],l[c[u]]);if(0!==h)return h}return ge(a.length,c.length)}(n.mapValue,e.mapValue);default:throw K()}}function jY(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ge(n,e);const t=Xa(n),i=Xa(e),r=ge(t.seconds,i.seconds);return 0!==r?r:ge(t.nanos,i.nanos)}function Vd(n){return yO(n)}function yO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Xa(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Go(n.bytesValue).toBase64():"referenceValue"in n?B.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=yO(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${yO(i.fields[a])}`;return s+"}"}(n.mapValue):K();var e}function vO(n){return!!n&&"integerValue"in n}function Um(n){return!!n&&"arrayValue"in n}function HY(n){return!!n&&"nullValue"in n}function $Y(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function l0(n){return!!n&&"mapValue"in n}function jm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=jm(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zY(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ri{constructor(e){this.value=e}static empty(){return new ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!l0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jm(t)}setAll(e){let t=tn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=jm(o):r.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());l0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];l0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Qa(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new ri(jm(this.value))}}class xt{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xt(e,0,te.min(),te.min(),te.min(),ri.empty(),0)}static newFoundDocument(e,t,i,r){return new xt(e,1,t,te.min(),i,r,0)}static newNoDocument(e,t){return new xt(e,2,t,te.min(),te.min(),ri.empty(),0)}static newUnknownDocument(e,t){return new xt(e,3,t,te.min(),te.min(),ri.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(te.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tl{constructor(e,t){this.position=e,this.inclusive=t}}function KY(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(i=s.field.isKeyField()?B.comparator(B.fromName(o.referenceValue),t.key):el(o,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function YY(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ys(n.position[t],e.position[t]))return!1;return!0}class Bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function FLe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class QY{}class He extends QY{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new LLe(e,t,i):"array-contains"===t?new ULe(e,i):"in"===t?new nQ(e,i):"not-in"===t?new jLe(e,i):"array-contains-any"===t?new HLe(e,i):new He(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new VLe(e,i):new BLe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(el(t,this.value)):null!==t&&Ja(this.value)===Ja(t)&&this.matchesComparison(el(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pt extends QY{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new pt(e,t)}matches(e){return Ud(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ud(n){return"and"===n.op}function wO(n){return function XY(n){for(const e of n.filters)if(e instanceof pt)return!1;return!0}(n)&&Ud(n)}function EO(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+Vd(n.value);if(wO(n))return n.filters.map(e=>EO(e)).join(",");{const e=n.filters.map(t=>EO(t)).join(",");return`${n.op}(${e})`}}function ZY(n,e){return n instanceof He?(t=n,(i=e)instanceof He&&t.op===i.op&&t.field.isEqual(i.field)&&Ys(t.value,i.value)):n instanceof pt?function(t,i){return i instanceof pt&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,o)=>r&&ZY(s,i.filters[o]),!0)}(n,e):void K();var t,i}function eQ(n){return n instanceof He?`${(e=n).field.canonicalString()} ${e.op} ${Vd(e.value)}`:n instanceof pt?function(e){return e.op.toString()+" {"+e.getFilters().map(eQ).join(" ,")+"}"}(n):"Filter";var e}class LLe extends He{constructor(e,t,i){super(e,t,i),this.key=B.fromName(i.referenceValue)}matches(e){const t=B.comparator(e.key,this.key);return this.matchesComparison(t)}}class VLe extends He{constructor(e,t){super(e,"in",t),this.keys=tQ(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class BLe extends He{constructor(e,t){super(e,"not-in",t),this.keys=tQ(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tQ(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>B.fromName(i.referenceValue))}class ULe extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Um(t)&&Bm(t.arrayValue,this.value)}}class nQ extends He{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bm(this.value.arrayValue,t)}}class jLe extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bm(this.value.arrayValue,t)}}class HLe extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Um(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Bm(this.value.arrayValue,i))}}class $Le{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function CO(n,e=null,t=[],i=[],r=null,s=null,o=null){return new $Le(n,e,t,i,r,s,o)}function Mc(n){const e=j(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>EO(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Fm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vd(i)).join(",")),e.dt=t}return e.dt}function Hm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!FLe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ZY(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YY(n.startAt,e.startAt)&&YY(n.endAt,e.endAt)}function c0(n){return B.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Wo{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function jd(n){return new Wo(n)}function oQ(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function kc(n){const e=j(n);if(null===e.wt){e.wt=[];const t=function d0(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),i=function IO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Bd(t)),e.wt.push(new Bd(tn.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Bd(tn.keyField(),s))}}}return e.wt}function ki(n){const e=j(n);if(!e._t)if("F"===e.limitType)e._t=CO(e.path,e.collectionGroup,kc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of kc(e))t.push(new Bd(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new tl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new tl(e.startAt.position,e.startAt.inclusive):null;e._t=CO(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function h0(n,e,t){return new Wo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $m(n,e){return Hm(ki(n),ki(e))&&n.limitType===e.limitType}function aQ(n){return`${Mc(ki(n))}|lt:${n.limitType}`}function SO(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>eQ(i)).join(", ")}]`),Fm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vd(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vd(i)).join(",")),`Target(${t})`}(ki(n))}; limitType=${n.limitType})`}function zm(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):B.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of kc(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,o){const a=KY(r,s,o);return r.inclusive?a<=0:a<0}(t.startAt,kc(t),i)||t.endAt&&!function(r,s,o){const a=KY(r,s,o);return r.inclusive?a>=0:a>0}(t.endAt,kc(t),i)));var t,i}function cQ(n){return(e,t)=>{let i=!1;for(const r of kc(n)){const s=zLe(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function zLe(n,e,t){const i=n.field.isKeyField()?B.comparator(e.key,t.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return null!==a&&null!==l?el(a,l):K()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return K()}}class qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return function VY(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const GLe=new Et(B.comparator);function Qi(){return GLe}const uQ=new Et(B.comparator);function Gm(...n){let e=uQ;for(const t of n)e=e.insert(t.key,t);return e}function dQ(n){let e=uQ;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Qs(){return Wm()}function hQ(){return Wm()}function Wm(){return new qo(n=>n.toString(),(n,e)=>n.isEqual(e))}new Et(B.comparator);const qLe=new St(B.comparator);function Se(...n){let e=qLe;for(const t of n)e=e.add(t);return e}const KLe=new St(ge);class f0{constructor(){this._=void 0}}function YLe(n,e,t){return n instanceof Hd?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&r0(r)&&(r=s0(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Rc?_Q(n,e):n instanceof Nc?yQ(n,e):function(i,r){const s=function gQ(n,e){return n instanceof $d?vO(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}(i,r),o=vQ(s)+vQ(i.gt);return vO(s)&&vO(i.gt)?function pQ(n){return{integerValue:""+n}}(o):function fQ(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lm(e)?"-0":e}}(i.serializer,o)}(n,e)}function QLe(n,e,t){return n instanceof Rc?_Q(n,e):n instanceof Nc?yQ(n,e):t}class Hd extends f0{}class Rc extends f0{constructor(e){super(),this.elements=e}}function _Q(n,e){const t=bQ(e);for(const i of n.elements)t.some(r=>Ys(r,i))||t.push(i);return{arrayValue:{values:t}}}class Nc extends f0{constructor(e){super(),this.elements=e}}function yQ(n,e){let t=bQ(e);for(const i of n.elements)t=t.filter(r=>!Ys(r,i));return{arrayValue:{values:t}}}class $d extends f0{constructor(e,t){super(),this.serializer=e,this.gt=t}}function vQ(n){return Kt(n.integerValue||n.doubleValue)}function bQ(n){return Um(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Rt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rt}static exists(e){return new Rt(void 0,e)}static updateTime(e){return new Rt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function p0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class AO{}function wQ(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Gd(n.key,Rt.none()):new zd(n.key,n.data,Rt.none());{const t=n.data,i=ri.empty();let r=new St(tn.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Ko(n.key,i,new Yi(r.toArray()),Rt.none())}}function JLe(n,e,t){n instanceof zd?function(i,r,s){const o=i.value.clone(),a=IQ(i.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ko?function(i,r,s){if(!p0(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=IQ(i.fieldTransforms,r,s.transformResults),a=r.data;a.setAll(CQ(i)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Km(n,e,t,i){return n instanceof zd?function(r,s,o,a){if(!p0(r.precondition,s))return o;const l=r.value.clone(),c=DQ(r.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ko?function(r,s,o,a){if(!p0(r.precondition,s))return o;const l=DQ(r.fieldTransforms,a,s),c=s.data;return c.setAll(CQ(r)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,e,t,i):(o=t,p0(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function EQ(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Fd(t,i,(r,s)=>function XLe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Rc&&i instanceof Rc||t instanceof Nc&&i instanceof Nc?Fd(t.elements,i.elements,Ys):t instanceof $d&&i instanceof $d?Ys(t.gt,i.gt):t instanceof Hd&&i instanceof Hd);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class zd extends AO{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ko extends AO{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function CQ(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function IQ(n,e,t){const i=new Map;J(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,QLe(o,a,t[r]))}return i}function DQ(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,YLe(s,o,e))}return i}class Gd extends AO{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kO{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&JLe(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Km(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Km(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=hQ();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;const l=wQ(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Se())}isEqual(e){return this.batchId===e.batchId&&Fd(this.mutations,e.mutations,(t,i)=>EQ(t,i))&&Fd(this.baseMutations,e.baseMutations,(t,i)=>EQ(t,i))}}class NO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nVe{constructor(e,t){this.count=e,this.unchangedNames=t}}var mn,qe;function SQ(n){if(void 0===n)return en("GRPC error has no .code"),I.UNKNOWN;switch(n){case mn.OK:return I.OK;case mn.CANCELLED:return I.CANCELLED;case mn.UNKNOWN:return I.UNKNOWN;case mn.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case mn.INTERNAL:return I.INTERNAL;case mn.UNAVAILABLE:return I.UNAVAILABLE;case mn.UNAUTHENTICATED:return I.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case mn.NOT_FOUND:return I.NOT_FOUND;case mn.ALREADY_EXISTS:return I.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return I.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case mn.ABORTED:return I.ABORTED;case mn.OUT_OF_RANGE:return I.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return I.UNIMPLEMENTED;case mn.DATA_LOSS:return I.DATA_LOSS;default:return K()}}(qe=mn||(mn={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";class OO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return m0}static getOrCreateInstance(){return null===m0&&(m0=new OO),m0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let m0=null;const iVe=new Od([4294967295,4294967295],0);function AQ(n){const e=function xQ(){return new TextEncoder}().encode(n),t=new ZFe;return t.update(e),new Uint8Array(t.digest())}function MQ(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Od([t,i],0),new Od([r,s],0)]}class PO{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ym(`Invalid padding: ${t}`);if(i<0)throw new Ym(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Ym(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Ym(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Od.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Od.fromNumber(i)));return 1===r.compare(iVe)&&(r=new Od([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=AQ(e),[i,r]=MQ(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(i,r,s);if(!this.At(o))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new PO(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=AQ(e),[i,r]=MQ(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(i,r,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ym extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qm{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Xm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Qm(te.min(),r,new Et(ge),Qi(),Se())}}class Xm{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Xm(i,t,Se(),Se(),Se())}}class g0{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class kQ{constructor(e,t){this.targetId=e,this.Vt=t}}class RQ{constructor(e,t,i=xn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class NQ{constructor(){this.St=0,this.Dt=PQ(),this.Ct=xn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Se(),t=Se(),i=Se();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:K()}}),new Xm(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=PQ()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class rVe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Qi(),this.zt=OQ(),this.Wt=new Et(ge)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:K()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const o=s.target;if(c0(o))if(0===r){const a=new B(o.path);this.Yt(i,a,xt.newNoDocument(a,te.min()))}else J(1===r);else{const a=this.ie(i);if(a!==r){const l=this.re(e,a);0!==l&&(this.ee(i),this.Wt=this.Wt.insert(i,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=OO.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,p,m,g,w;const v={localCacheCount:u,existenceFilterCount:d.count},D=d.unchangedNames;return D&&(v.bloomFilter={applied:0===c,hashCount:null!==(h=D?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=D?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(w=null===(g=D?.bits)||void 0===g?void 0:g.padding)&&void 0!==w?w:0}),v}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=i;let l,c;try{l=Go(s).toUint8Array()}catch(u){if(u instanceof UY)return ss("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new PO(l,o,a)}catch(u){return ss(u instanceof Ym?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:r!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&c0(a.target)){const l=new B(a.target.path);null!==this.jt.get(l)||this.ae(o,l)||this.Yt(o,l,xt.newNoDocument(l,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let i=Se();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const r=new Qm(e,t,this.Wt,this.jt,i);return this.jt=Qi(),this.zt=OQ(),this.Wt=new Et(ge),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new NQ,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new St(ge),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||R("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new NQ),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function OQ(){return new Et(B.comparator)}function PQ(){return new Et(B.comparator)}const sVe={asc:"ASCENDING",desc:"DESCENDING"},oVe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aVe={and:"AND",or:"OR"};class lVe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function FO(n,e){return n.useProto3Json||Fm(e)?e:{value:e}}function nn(n){return J(!!n),te.fromTimestamp(function(e){const t=Xa(e);return new Bt(t.seconds,t.nanos)}(n))}function LQ(n){const e=We.fromString(n);return J(WQ(e)),e}function Xs(n,e){const t=LQ(e);if(t.get(1)!==n.databaseId.projectId)throw new M(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new B(BQ(t))}function VO(n,e){return function LO(n,e){return(t=n,new We(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}(n.databaseId,e)}function Jm(n){return new We(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BQ(n){return J(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function HQ(n,e){return{documents:[VO(n,e.path)]}}function UO(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=VO(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=VO(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return GQ(pt.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:nl((u=c).field),direction:pVe(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=FO(n,e.limit);var a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function $Q(n){let e=function VQ(n){const e=LQ(n);return 4===e.length?We.emptyPath():BQ(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){J(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=zQ(u);return d instanceof pt&&wO(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Bd(qd((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Fm(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new tl((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new tl(u.values||[],!u.before)}(t.endAt)),function sQ(n,e,t,i,r,s,o,a){return new Wo(n,e,t,i,r,s,o,a)}(e,r,o,s,a,"F",l,c)}function zQ(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qd(e.unaryFilter.field);return He.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=qd(e.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qd(e.unaryFilter.field);return He.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qd(e.unaryFilter.field);return He.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(n):void 0!==n.fieldFilter?He.create(qd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return pt.create(e.compositeFilter.filters.map(t=>zQ(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return K()}}(e.compositeFilter.op))}(n):K();var e}function pVe(n){return sVe[n]}function mVe(n){return oVe[n]}function gVe(n){return aVe[n]}function nl(n){return{fieldPath:n.canonicalString()}}function qd(n){return tn.fromServerFormat(n.fieldPath)}function GQ(n){return n instanceof He?function(e){if("=="===e.op){if($Y(e.value))return{unaryFilter:{field:nl(e.field),op:"IS_NAN"}};if(HY(e.value))return{unaryFilter:{field:nl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($Y(e.value))return{unaryFilter:{field:nl(e.field),op:"IS_NOT_NAN"}};if(HY(e.value))return{unaryFilter:{field:nl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(e.field),op:mVe(e.op),value:e.value}}}(n):n instanceof pt?function(e){const t=e.getFilters().map(i=>GQ(i));return 1===t.length?t[0]:{compositeFilter:{op:gVe(e.op),filters:t}}}(n):K()}function WQ(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Yo{constructor(e,t,i,r,s=te.min(),o=te.min(),a=xn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qQ{constructor(e){this.fe=e}}function jO(n){const e=$Q({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?h0(e,e.limit,"L"):e}class Lc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Kt(e.integerValue));else if("doubleValue"in e){const i=Kt(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Lm(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Go(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?zY(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):K()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),B.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Lc.Ve=new Lc;class TVe{constructor(){this.rn=new qO}addToCollectionParentIndex(e,t){return this.rn.add(t),C.resolve()}getCollectionParents(e,t){return C.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return C.resolve()}deleteFieldIndex(e,t){return C.resolve()}getDocumentsMatchingTarget(e,t){return C.resolve(null)}getIndexType(e,t){return C.resolve(0)}getFieldIndexes(e,t){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,t){return C.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,t){return C.resolve(_r.min())}updateCollectionGroup(e,t,i){return C.resolve()}updateIndexEntries(e,t){return C.resolve()}}class qO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new St(We.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new St(We.comparator)).toArray()}}new Uint8Array(0);class _i{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(41943040,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);class Bc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bc(0)}static Mn(){return new Bc(-1)}}class RVe{constructor(){this.changes=new qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?C.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PVe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vX{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Km(i.mutation,r,Yi.empty(),Bt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Se()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Se()){const r=Qs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=Gm();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=Qs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Se()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=Qi();const o=Wm(),a=Wm();return t.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Ko)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Km(u.mutation,c,u.mutation.getFieldMask(),Bt.now())):o.set(c.key,Yi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new PVe(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Wm();let r=new Et((o,a)=>o-a),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=i.get(l)||Yi.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||Se()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=hQ();u.forEach(h=>{if(!s.has(h)){const f=wQ(t.get(h),i.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return C.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return B.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function DO(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):C.resolve(Qs());let a=-1,l=s;return o.next(c=>C.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Se())).next(u=>({batchId:a,changes:dQ(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new B(t)).next(i=>{let r=Gm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Gm();return this.indexManager.getCollectionParents(e,r).next(o=>C.forEach(o,a=>{const l=(c=t,u=a.child(r),new Wo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((a,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,xt.newInvalidDocument(c)))});let o=Gm();return s.forEach((a,l)=>{const c=r.get(a);void 0!==c&&Km(c.mutation,l,Yi.empty(),Bt.now()),zm(t,l)&&(o=o.insert(a,l))}),o})}}class FVe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return C.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:nn(i.createTime)}),C.resolve()}getNamedQuery(e,t){return C.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:jO(i.bundledQuery),readTime:nn(i.readTime)}),C.resolve();var i}}class LVe{constructor(){this.overlays=new Et(B.comparator),this.ls=new Map}getOverlay(e,t){return C.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Qs();return C.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),C.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),C.resolve()}getOverlaysForCollection(e,t,i){const r=Qs(),s=t.length+1,o=new B(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return C.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Et((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=Qs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Qs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return C.resolve(a)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new NO(t,i));let s=this.ls.get(t);void 0===s&&(s=Se(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class KO{constructor(){this.fs=new St(Un.ds),this.ws=new St(Un._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Un(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Un(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new B(new We([])),i=new Un(t,e),r=new Un(t,e+1),s=[];return this.ws.forEachInRange([i,r],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new B(new We([])),i=new Un(t,e),r=new Un(t,e+1);let s=Se();return this.ws.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Un(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Un{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return B.comparator(e.key,t.key)||ge(e.As,t.As)}static _s(e,t){return ge(e.As,t.As)||B.comparator(e.key,t.key)}}class VVe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new St(Un.ds)}checkEmpty(e){return C.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const o=new kO(s,t,i,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new Un(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,t){return C.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Un(t,0),r=new Un(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],o=>{const a=this.Ps(o.As);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new St(ge);return t.forEach(r=>{const s=new Un(r,0),o=new Un(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{i=i.add(a.As)})}),C.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;B.isDocumentKey(s)||(s=s.child(""));const o=new Un(new B(s),0);let a=new St(ge);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.As)),!0)},o),C.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){J(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return C.forEach(t.mutations,r=>{const s=new Un(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Un(t,0),r=this.Rs.firstAfterOrEqual(i);return C.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return C.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class BVe{constructor(e){this.Ds=e,this.docs=new Et(B.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return C.resolve(i?i.document.mutableCopy():xt.newInvalidDocument(t))}getEntries(e,t){let i=Qi();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():xt.newInvalidDocument(r))}),C.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Qi();const o=t.path,a=new B(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||pO(SY(u),i)<=0||(r.has(u.key)||zm(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,t,i,r){K()}Cs(e,t){return C.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new UVe(this)}getSize(e){return C.resolve(this.size)}}class UVe extends RVe{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),C.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class jVe{constructor(e){this.persistence=e,this.xs=new qo(t=>Mc(t),Hm),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Ns=0,this.ks=new KO,this.targetCount=0,this.Ms=Bc.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),C.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Bc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,C.resolve()}updateTargetData(e,t){return this.Fn(t),C.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),C.waitFor(s).next(()=>r)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return C.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),C.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),C.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return C.resolve(i)}containsKey(e,t){return C.resolve(this.ks.containsKey(t))}}class YO{constructor(e,t){this.$s={},this.overlays={},this.Os=new yr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new jVe(this),this.indexManager=new TVe,this.remoteDocumentCache=new BVe(i=>this.referenceDelegate.Ls(i)),this.serializer=new qQ(t),this.qs=new FVe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LVe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new VVe(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){R("MemoryPersistence","Starting transaction:",e);const r=new HVe(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return C.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class HVe extends cLe{constructor(e){super(),this.currentSequenceNumber=e}}class D0{constructor(e){this.persistence=e,this.Qs=new KO,this.js=null}static zs(e){return new D0(e)}get Ws(){if(this.js)return this.js;throw K()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),C.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),C.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),C.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Ws,i=>{const r=B.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,te.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return C.or([()=>C.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class JO{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Se(),r=Se();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new JO(e,t.fromCache,i,r)}}class wX{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(oQ(t))return C.resolve(null);let i=ki(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=h0(t,null,"F"),i=ki(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=Se(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.ji(t,a);return this.zi(t,c,o,l.readTime)?this.Ki(e,h0(t,null,"F")):this.Wi(e,c,t,l)}))})))}Gi(e,t,i,r){return oQ(t)||r.isEqual(te.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const o=this.ji(t,s);return this.zi(t,o,i,r)?this.Qi(e,t):(dO()<=de.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),SO(t)),this.Wi(e,o,t,function TY(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=te.fromTimestamp(1e9===i?new Bt(t+1,0):new Bt(t,i));return new _r(r,B.empty(),e)}(r,-1)))})}ji(e,t){let i=new St(cQ(e));return t.forEach((r,s)=>{zm(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return dO()<=de.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",SO(t)),this.Ui.getDocumentsMatchingQuery(e,t,_r.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class zVe{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Et(ge),this.Yi=new qo(s=>Mc(s),Hm),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vX(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function CX(n,e){return eP.apply(this,arguments)}function eP(){return eP=y(function*(n,e){const t=j(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Se();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),eP.apply(this,arguments)}function IX(n){const e=j(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Xd(n,e,t){return tP.apply(this,arguments)}function tP(){return tP=y(function*(n,e,t){const i=j(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Ya(o))throw o;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),tP.apply(this,arguments)}function x0(n,e,t){const i=j(n);let r=te.min(),s=Se();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=j(a),d=u.Yi.get(c);return void 0!==d?C.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(i,o,ki(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,e,t?r:te.min(),t?s:Se())).next(a=>(function xX(n,e,t){let i=n.Xi.get(e)||te.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}(i,function lQ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class oP{constructor(){this.activeTargetIds=function xO(){return KLe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kX{constructor(){this.Hr=new oP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new oP,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QVe{Yr(e){}shutdown(){}}class RX{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let k0=null;function lP(){return null===k0?k0=268435456+Math.round(2147483648*Math.random()):k0++,"0x"+k0.toString(16)}const XVe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZVe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const yi="WebChannelConnection";class JVe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const o=lP(),a=this.To(e,t);R("RestConnection",`Sending RPC '${e}' ${o}:`,a,i);const l={};return this.Eo(l,r,s),this.Ao(e,a,l,i).then(c=>(R("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw ss("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",i),c})}vo(e,t,i,r,s,o){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${XVe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=lP();return new Promise((o,a)=>{const l=new XFe;l.setWithCredentials(!0),l.listenOnce(KFe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case uO.NO_ERROR:const u=l.getResponseJson();R(yi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case uO.TIMEOUT:R(yi,`RPC '${e}' ${s} timed out`),a(new M(I.DEADLINE_EXCEEDED,"Request time out"));break;case uO.HTTP_ERROR:const d=l.getStatus();if(R(yi,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(g)>=0?g:I.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(I.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new M(I.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{R(yi,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);R(yi,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",c,i,15)})}Ro(e,t,i){const r=lP(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WFe(),a=qFe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new QFe({})),this.Eo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const u=s.join("");R(yi,`Creating RPC '${e}' stream ${r}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new ZVe({ro:g=>{f?R(yi,`Not sending because RPC '${e}' stream ${r} is closed:`,g):(h||(R(yi,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),R(yi,`RPC '${e}' stream ${r} sending:`,g),d.send(g))},oo:()=>d.close()}),m=(g,w,v)=>{g.listen(w,D=>{try{v(D)}catch(S){setTimeout(()=>{throw S},0)}})};return m(d,Xw.EventType.OPEN,()=>{f||R(yi,`RPC '${e}' stream ${r} transport opened.`)}),m(d,Xw.EventType.CLOSE,()=>{f||(f=!0,R(yi,`RPC '${e}' stream ${r} transport closed`),p.wo())}),m(d,Xw.EventType.ERROR,g=>{f||(f=!0,ss(yi,`RPC '${e}' stream ${r} transport errored:`,g),p.wo(new M(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,Xw.EventType.MESSAGE,g=>{var w;if(!f){const v=g.data[0];J(!!v);const S=v.error||(null===(w=v[0])||void 0===w?void 0:w.error);if(S){R(yi,`RPC '${e}' stream ${r} received error:`,S);const H=S.status;let ee=function(Mt){const _n=mn[Mt];if(void 0!==_n)return SQ(_n)}(H),ke=S.message;void 0===ee&&(ee=I.INTERNAL,ke="Unknown error status: "+H+" with message "+S.message),f=!0,p.wo(new M(ee,ke)),d.close()}else R(yi,`RPC '${e}' stream ${r} received:`,v),p._o(v)}}),m(a,YFe.STAT_EVENT,g=>{g.stat===bY.PROXY?R(yi,`RPC '${e}' stream ${r} detected buffering proxy`):g.stat===bY.NOPROXY&&R(yi,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function R0(){return typeof document<"u"?document:null}function cg(n){return new lVe(n,!0)}class cP{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&R("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class e2e{constructor(e,t,i,r,s,o,a,l){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new cP(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return y(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===I.RESOURCE_EXHAUSTED?(en(t.toString()),en("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===I.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new M(I.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t2e extends e2e{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function dVe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:K(),r=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(J(void 0===c||"string"==typeof c),xn.fromBase64String(c||"")):(J(void 0===c||c instanceof Uint8Array),xn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?I.UNKNOWN:SQ(l.code);return new M(c,l.message||"")}(o);t=new RQ(i,r,s,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Xs(n,i.document.name),s=nn(i.document.updateTime),o=i.document.createTime?nn(i.document.createTime):te.min(),a=new ri({mapValue:{fields:i.document.fields}}),l=xt.newFoundDocument(r,s,o,a);t=new g0(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=Xs(n,i.document),s=i.readTime?nn(i.readTime):te.min(),o=xt.newNoDocument(r,s);t=new g0([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=Xs(n,i.document);t=new g0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return K();{const i=e.filter,{count:r=0,unchangedNames:s}=i,o=new nVe(r,s);t=new kQ(i.targetId,o)}}var l;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return te.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?nn(s.readTime):te.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Jm(this.serializer),t.addTarget=function(r,s){let o;const a=s.target;if(o=c0(a)?{documents:HQ(r,a)}:{query:UO(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=function FQ(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}(r,s.resumeToken);const l=FO(r,s.expectedCount);null!==l&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){o.readTime=function Wd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(r,s.snapshotVersion.toTimestamp());const l=FO(r,s.expectedCount);null!==l&&(o.expectedCount=l)}return o}(this.serializer,e);const i=function fVe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Jm(this.serializer),t.removeTarget=e,this.Wo(t)}}class i2e extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new M(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new M(I.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class s2e{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(en(t),this.mu=!1):R("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class o2e{constructor(e,t,i,r,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{i.enqueueAndForget(y(function*(){var l;ol(o)&&(R("RemoteStore","Restarting streams for network reachability change."),yield(l=y(function*(c){const u=j(c);u.vu.add(4),yield Zd(u),u.bu.set("Unknown"),u.vu.delete(4),yield ug(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.bu=new s2e(i,r)}}function ug(n){return dP.apply(this,arguments)}function dP(){return dP=y(function*(n){if(ol(n))for(const e of n.Ru)yield e(!0)}),dP.apply(this,arguments)}function Zd(n){return hP.apply(this,arguments)}function hP(){return hP=y(function*(n){for(const e of n.Ru)yield e(!1)}),hP.apply(this,arguments)}function N0(n,e){const t=j(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),mP(t)?pP(t):eh(t).Ko()&&fP(t,e))}function dg(n,e){const t=j(n),i=eh(t);t.Au.delete(e),i.Ko()&&OX(t,e),0===t.Au.size&&(i.Ko()?i.jo():ol(t)&&t.bu.set("Unknown"))}function fP(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}eh(n).su(e)}function OX(n,e){n.Vu.qt(e),eh(n).iu(e)}function pP(n){n.Vu=new rVe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),eh(n).start(),n.bu.gu()}function mP(n){return ol(n)&&!eh(n).Uo()&&n.Au.size>0}function ol(n){return 0===j(n).vu.size}function PX(n){n.Vu=void 0}function a2e(n){return gP.apply(this,arguments)}function gP(){return gP=y(function*(n){n.Au.forEach((e,t)=>{fP(n,e)})}),gP.apply(this,arguments)}function l2e(n,e){return _P.apply(this,arguments)}function _P(){return _P=y(function*(n,e){PX(n),mP(n)?(n.bu.Iu(e),pP(n)):n.bu.set("Unknown")}),_P.apply(this,arguments)}function c2e(n,e,t){return yP.apply(this,arguments)}function yP(){return yP=y(function*(n,e,t){if(n.bu.set("Online"),e instanceof RQ&&2===e.state&&e.cause)try{yield(i=y(function*(r,s){const o=s.cause;for(const a of s.targetIds)r.Au.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.Au.delete(a),r.Vu.removeTarget(a))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield O0(n,i)}else if(e instanceof g0?n.Vu.Ht(e):e instanceof kQ?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(te.min()))try{const i=yield IX(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const o=r.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Au.get(l);c&&r.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=r.Au.get(a);if(!c)return;r.Au.set(a,c.withResumeToken(xn.EMPTY_BYTE_STRING,c.snapshotVersion)),OX(r,a);const u=new Yo(c.target,a,l,c.sequenceNumber);fP(r,u)}),r.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(i){R("RemoteStore","Failed to raise snapshot:",i),yield O0(n,i)}var i}),yP.apply(this,arguments)}function O0(n,e,t){return vP.apply(this,arguments)}function vP(){return vP=y(function*(n,e,t){if(!Ya(e))throw e;n.vu.add(1),yield Zd(n),n.bu.set("Offline"),t||(t=()=>IX(n.localStore)),n.asyncQueue.enqueueRetryable(y(function*(){R("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield ug(n)}))}),vP.apply(this,arguments)}function BX(n,e){return DP.apply(this,arguments)}function DP(){return DP=y(function*(n,e){const t=j(n);t.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const i=ol(t);t.vu.add(3),yield Zd(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield ug(t)}),DP.apply(this,arguments)}function SP(){return SP=y(function*(n,e){const t=j(n);e?(t.vu.delete(2),yield ug(t)):e||(t.vu.add(2),yield Zd(t),t.bu.set("Unknown"))}),SP.apply(this,arguments)}function eh(n){return n.Su||(n.Su=function(e,t,i){const r=j(e);return r.fu(),new t2e(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:a2e.bind(null,n),ao:l2e.bind(null,n),nu:c2e.bind(null,n)}),n.Ru.push(function(){var e=y(function*(t){t?(n.Su.Qo(),mP(n)?pP(n):n.bu.set("Unknown")):(yield n.Su.stop(),PX(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}class xP{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,a=new xP(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function th(n,e){if(en("AsyncQueue",`${e}: ${n}`),Ya(n))return new M(I.UNAVAILABLE,`${e}: ${n}`);throw n}class nh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||B.comparator(t.key,i.key):(t,i)=>B.comparator(t.key,i.key),this.keyedMap=Gm(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new nh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new nh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class UX{constructor(){this.Cu=new Et(B.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):K():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class ih{constructor(e,t,i,r,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new ih(e,t,nh.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$m(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class g2e{constructor(){this.Nu=void 0,this.listeners=[]}}class _2e{constructor(){this.queries=new qo(e=>aQ(e),$m),this.onlineState="Unknown",this.ku=new Set}}function MP(){return MP=y(function*(n,e){const t=j(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new g2e),r)try{s.Nu=yield t.onListen(i)}catch(o){const a=th(o,`Initialization of query '${SO(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&NP(t)}),MP.apply(this,arguments)}function RP(){return RP=y(function*(n,e){const t=j(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),RP.apply(this,arguments)}function y2e(n,e){const t=j(n);let i=!1;for(const r of e){const o=t.queries.get(r.query);if(o){for(const a of o.listeners)a.$u(r)&&(i=!0);o.Nu=r}}i&&NP(t)}function v2e(n,e,t){const i=j(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function NP(n){n.ku.forEach(e=>{e.next()})}class OP{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new ih(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ih.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class $X{constructor(e){this.key=e}}class zX{constructor(e){this.key=e}}class GX{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Se(),this.mutatedKeys=Se(),this.tc=cQ(e),this.ec=new nh(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new UX,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=zm(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),g=!0):this.rc(h,f)||(i.track({type:2,doc:f}),g=!0,(l&&this.tc(f,l)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{ec:o,ic:i,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return f(d)-f(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(i);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==s.length||l?{snapshot:new ih(this.query,e.ec,r,s,e.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new UX,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Se(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new zX(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new $X(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Se();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return ih.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class E2e{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class C2e{constructor(e){this.key=e,this.fc=!1}}class I2e{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new qo(a=>aQ(a),$m),this._c=new Map,this.mc=new Set,this.gc=new Et(B.comparator),this.yc=new Map,this.Ic=new KO,this.Tc={},this.Ec=new Map,this.Ac=Bc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function D2e(n,e){return PP.apply(this,arguments)}function PP(){return PP=y(function*(n,e){const t=function rF(n){const e=j(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WX.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O2e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x2e.bind(null,e),e.dc.nu=y2e.bind(null,e.eventManager),e.dc.Pc=v2e.bind(null,e.eventManager),e}(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const o=yield function Qd(n,e){const t=j(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,C.resolve(r)):t.Bs.allocateTargetId(i).next(o=>(r=new Yo(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,ki(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield function FP(n,e,t,i,r){return LP.apply(this,arguments)}(t,e,i,"current"===a,o.resumeToken),t.isPrimaryClient&&N0(t.remoteStore,o)}return r}),PP.apply(this,arguments)}function LP(){return LP=y(function*(n,e,t,i,r){n.Rc=(d,h,f)=>{return(p=y(function*(m,g,w,v){let D=g.view.sc(w);D.zi&&(D=yield x0(m.localStore,g.query,!1).then(({documents:ee})=>g.view.sc(ee,D)));const S=v&&v.targetChanges.get(g.targetId),H=g.view.applyChanges(D,m.isPrimaryClient,S);return qP(m,g.targetId,H.cc),H.snapshot}),function(m,g,w,v){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield x0(n.localStore,e,!0),o=new GX(e,s.ir),a=o.sc(s.documents),l=Xm.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);qP(n,t,c.cc);const u=new E2e(e,t,o);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),LP.apply(this,arguments)}function T2e(n,e){return VP.apply(this,arguments)}function VP(){return VP=y(function*(n,e){const t=j(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!$m(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Xd(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),dg(t.remoteStore,i.targetId),rh(t,i.targetId)}).catch(Ka))):(rh(t,i.targetId),yield Xd(t.localStore,i.targetId,!0))}),VP.apply(this,arguments)}function WX(n,e){return UP.apply(this,arguments)}function UP(){return UP=y(function*(n,e){const t=j(n);try{const i=yield function WVe(n,e){const t=j(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,g;null!==e.targetMismatches.get(d)?f=f.withResumeToken(xn.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),m=f,g=u,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let l=Qi(),c=Se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function DX(n,e,t){let i=Se(),r=Se();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Qi();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:r}})}(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!i.isEqual(te.min())){const u=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.yc.get(s);o&&(J(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?J(o.fc):r.removedDocuments.size>0&&(J(o.fc),o.fc=!1))}),yield Qo(t,i,e)}catch(i){yield Ka(i)}}),UP.apply(this,arguments)}function qX(n,e,t){const i=j(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=j(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(o)&&(l=!0)}),l&&NP(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function x2e(n,e,t){return jP.apply(this,arguments)}function jP(){return jP=y(function*(n,e,t){const i=j(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let o=new Et(B.comparator);o=o.insert(s,xt.newNoDocument(s,te.min()));const a=Se().add(s),l=new Qm(te.min(),new Map,new Et(ge),o,a);yield WX(i,l),i.gc=i.gc.remove(s),i.yc.delete(e),KP(i)}else yield Xd(i.localStore,e,!1).then(()=>rh(i,e,t)).catch(Ka)}),jP.apply(this,arguments)}function rh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||KX(n,i)})}function KX(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(dg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),KP(n))}function qP(n,e,t){for(const i of t)i instanceof $X?(n.Ic.addReference(i.key,e),R2e(n,i)):i instanceof zX?(R("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||KX(n,i.key)):K()}function R2e(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(R("SyncEngine","New document in limbo: "+t),n.mc.add(i),KP(n))}function KP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new B(We.fromString(e)),i=n.Ac.next();n.yc.set(i,new C2e(t)),n.gc=n.gc.insert(t,i),N0(n.remoteStore,new Yo(ki(jd(t.path)),i,"TargetPurposeLimboResolution",yr.ct))}}function Qo(n,e,t){return YP.apply(this,arguments)}function YP(){return YP=y(function*(n,e,t){const i=j(n),r=[],s=[],o=[];var a;i.wc.isEmpty()||(i.wc.forEach((a,l)=>{o.push(i.Rc(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=JO.Li(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.dc.nu(r),yield(a=y(function*(l,c){const u=j(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(c,h=>C.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ya(d))throw d;R("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(i.localStore,s))}),YP.apply(this,arguments)}function N2e(n,e){return QP.apply(this,arguments)}function QP(){return QP=y(function*(n,e){const t=j(n);if(!t.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const i=yield CX(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new M(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Qo(t,i.er)}var r}),QP.apply(this,arguments)}function O2e(n,e){const t=j(n),i=t.yc.get(e);if(i&&i.fc)return Se().add(i.key);{let r=Se();const s=t._c.get(e);if(!s)return r;for(const o of s){const a=t.wc.get(o);r=r.unionWith(a.view.nc)}return r}}class P0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return y(function*(){t.serializer=cg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function EX(n,e,t,i){return new zVe(n,e,t,i)}(this.persistence,new wX,e.initialUser,this.serializer)}createPersistence(e){return new YO(D0.zs,this.serializer)}createSharedClientState(e){return new kX}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sh{initialize(e,t){var i=this;return y(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>qX(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=N2e.bind(null,i.syncEngine),yield function TP(n,e){return SP.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _2e}createDatastore(e){const t=cg(e.databaseInfo.databaseId),i=new JVe(e.databaseInfo);return new i2e(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=a=>qX(this.syncEngine,a,0),o=RX.D()?new RX:new QVe,new o2e(t,i,r,s,o);var t,i,r,s,o}createSyncEngine(e,t){return function(i,r,s,o,a,l,c){const u=new I2e(i,r,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=y(function*(t){const i=j(t);R("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Zd(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class F0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):en("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class q2e{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Vn.UNAUTHENTICATED,this.clientId=IY.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=y(function*(a){R("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(R("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=th(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function L0(n,e){return oF.apply(this,arguments)}function oF(){return oF=y(function*(n,e){n.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=y(function*(s){i.isEqual(s)||(yield CX(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),oF.apply(this,arguments)}function aF(n,e){return lF.apply(this,arguments)}function lF(){return lF=y(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function cF(n){return uF.apply(this,arguments)}(n);R("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>BX(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>BX(e.remoteStore,s)),n._onlineComponents=e}),lF.apply(this,arguments)}function uF(){return uF=y(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield L0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function eZ(n){return"FirebaseError"===n.name?n.code===I.FAILED_PRECONDITION||n.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;ss("Error using user provided cache. Falling back to memory cache: "+t),yield L0(n,new P0)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield L0(n,new P0);return n._offlineComponents}),uF.apply(this,arguments)}function dF(){return dF=y(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield aF(n,n._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield aF(n,new sh))),n._onlineComponents}),dF.apply(this,arguments)}function fF(){return fF=y(function*(n){const e=yield function V0(n){return dF.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=D2e.bind(null,e.syncEngine),t.onUnlisten=T2e.bind(null,e.syncEngine),t}),fF.apply(this,arguments)}function sZ(n,e,t={}){const i=new Sn;return n.asyncQueue.enqueueAndForget(y(function*(){return function(r,s,o,a,l){const c=new F0({next:d=>{s.enqueueAndForget(()=>function kP(n,e){return RP.apply(this,arguments)}(r,u)),d.fromCache&&"server"===a.source?l.reject(new M(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new OP(o,c,{includeMetadataChanges:!0,Ku:!0});return function AP(n,e){return MP.apply(this,arguments)}(r,u)}(yield function oh(n){return fF.apply(this,arguments)}(n),n.asyncQueue,e,t,i)})),i.promise}function oZ(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const aZ=new Map;function cZ(n){if(B.isDocumentKey(n))throw new M(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $e(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function U0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":K()}(n);throw new M(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class dZ{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new M(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function nBe(n,e,t,i){if(!0===e&&!0===i)throw new M(I.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=oZ(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new M(I.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new M(I.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new M(I.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dZ({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dZ(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new JFe;switch(t.type){case"firstParty":return new iLe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new M(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aZ.get(e);t&&(R("ComponentProvider","Removing Datastore"),aZ.delete(e),t.terminate())}(this),Promise.resolve()}}class rn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class si{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new si(this.firestore,e,this._query)}}class Zs extends si{constructor(e,t,i){super(e,t,jd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new B(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function rBe(n,e,...t){if(n=dn(n),function pF(n,e,t){if(!t)throw new M(I.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}("collection","path",e),n instanceof hg){const i=We.fromString(e,...t);return cZ(i),new Zs(n,null,i)}{if(!(n instanceof rn||n instanceof Zs))throw new M(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(We.fromString(e,...t));return cZ(i),new Zs(n.firestore,null,i)}}class oBe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new cP(this,"async_queue_retry"),this.Xc=()=>{const t=R0();t&&R("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=R0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=R0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Sn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ya(t))throw t;R("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,en("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=xP.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&K()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class At extends hg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new oBe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fZ(this),this._firestoreClient.terminate()}}function lBe(n,e){const i="string"==typeof n?n:e||"(default)",r=Gi("object"==typeof n?n:Ms(),"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Uv("firestore");s&&function iBe(n,e,t,i={}){var r;const s=(n=$e(n,hg))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&ss("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let o,a;if("string"==typeof i.mockUserToken)o=i.mockUserToken,a=Vn.MOCK_USER;else{o=XS(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new M(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Vn(l)}n._authCredentials=new eLe(new EY(o,a))}}(r,...s)}return r}function fZ(n){var e,t,i;const r=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new NLe(n._databaseId,a,n._persistenceKey,(c=r).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,oZ(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new q2e(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jc(xn.fromBase64String(e))}catch(t){throw new M(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jc(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ah{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gF{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}const gBe=new RegExp("[~\\*/\\[\\]]");function $0(n,e,t,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new M(I.INVALID_ARGUMENT,a+n+l)}class bF{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _Be(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(z0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _Be extends bF{data(){return super.data()}}function z0(n,e){return"string"==typeof e?function H0(n,e,t){if(e.search(gBe)>=0)throw $0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ah(...e.split("."))._internalPath}catch{throw $0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof ah?e._internalPath:e._delegate._internalPath}class vBe{convertValue(e,t="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw K()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Qa(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new gF(Kt(e.latitude),Kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=s0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Vm(e));default:return null}}convertTimestamp(e){const t=Xa(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=We.fromString(e);J(WQ(i));const r=new xc(i.get(1),i.get(3)),s=new B(i.popFirst(5));return r.isEqual(t)||en(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class $c{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uh extends bF{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new K0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(z0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class K0 extends uh{data(e={}){return super.data(e)}}class dh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $c(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new K0(this._firestore,this._userDataWriter,i.key,i,new $c(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new K0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new $c(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||3!==o.type).map(o=>{const a=new K0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new $c(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:wBe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wBe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}class ll extends vBe{constructor(e){super(),this.firestore=e}convertBytes(e){return new jc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,t)}}function EBe(n){n=$e(n,si);const e=$e(n.firestore,At),t=function gn(n){return n._firestoreClient||fZ(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(e),i=new ll(e);return function TZ(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),sZ(t,n._query).then(r=>new dh(e,i,n,r))}!function(n,e=!0){Pd=ko,Tn(new hn("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),o=new At(new tLe(t.getProvider("auth-internal")),new rLe(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new M(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(a.options.projectId,l)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Re(wY,"3.12.1",n),Re(wY,"3.12.1","esm2017")}();class Q0{constructor(e){return e}}const OZ="firestore",IF=new E("angularfire2.firestore-instances");function FBe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Q0(i)}}const LBe={provide:class OBe{constructor(){return Os(OZ)}},deps:[[new Ae,IF]]},VBe={provide:Q0,useFactory:function PBe(n,e){const t=Ns(OZ,n,e);return t&&new Q0(t)},deps:[[new Ae,IF],dr]};let BBe=(()=>{class n{constructor(){Re("angularfire",ur.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[VBe,LBe]}),n})();function UBe(n,...e){return{ngModule:BBe,providers:[{provide:IF,useFactory:FBe(n),multi:!0,deps:[q,it,Ps,Fs,[new Ae,Ep],[new Ae,rd],...e]}]}}const jBe=xi(rBe,!0),HBe=xi(EBe,!0),$Be=xi(lBe,!0),TF="functions";class KBe{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return y(function*(){if(e.auth)try{const t=yield e.auth.getToken();return t?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return y(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var t=this;return y(function*(){if(t.appCheck){const i=e?yield t.appCheck.getLimitedUseToken():yield t.appCheck.getToken();return i.error?null:i.token}return null})()}getContext(e){var t=this;return y(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken(e)}})()}}const SF="us-central1";class QBe{constructor(e,t,i,r,s=SF,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new KBe(t,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=SF}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const VZ="@firebase/functions";function oUe(n=Ms(),e=SF){const i=Gi(dn(n),TF).getImmediate({identifier:e}),r=Uv("functions");return r&&function aUe(n,e,t){!function XBe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(dn(n),e,t)}(i,...r),i}!function sUe(n,e){Tn(new hn(TF,(i,{instanceIdentifier:r})=>{const s=i.getProvider("app").getImmediate(),o=i.getProvider("auth-internal"),a=i.getProvider("messaging-internal"),l=i.getProvider("app-check-internal");return new QBe(s,o,a,l,r,n)},"PUBLIC").setMultipleInstances(!0)),Re(VZ,"0.10.0",e),Re(VZ,"0.10.0","esm2017")}(fetch.bind(self));class MF{constructor(e){return e}}const UZ="functions",kF=new E("angularfire2.functions-instances");function uUe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new MF(i)}}const dUe={provide:class lUe{constructor(){return Os(UZ)}},deps:[[new Ae,kF]]},hUe={provide:MF,useFactory:function cUe(n,e){const t=Ns(UZ,n,e);return t&&new MF(t)},deps:[[new Ae,kF],dr]};let fUe=(()=>{class n{constructor(){Re("angularfire",ur.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[hUe,dUe]}),n})();function pUe(n,...e){return{ngModule:fUe,providers:[{provide:kF,useFactory:uUe(n),multi:!0,deps:[q,it,Ps,Fs,[new Ae,Ep],[new Ae,rd],...e]}]}}const mUe=xi(oUe,!0);class RF{constructor(e){return e}}const jZ="messaging",NF=new E("angularfire2.messaging-instances");function yUe(n){return(e,t)=>{if(!Jv.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new RF(i)}}const vUe={provide:class gUe{constructor(){return Os(jZ)}},deps:[[new Ae,NF]]},bUe={provide:RF,useFactory:function _Ue(n,e){if(!Jv.sync())return null;const t=Ns(jZ,n,e);return t&&new RF(t)},deps:[[new Ae,NF],dr]};let wUe=(()=>{class n{constructor(){Re("angularfire",ur.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[bUe,vUe,{provide:Q_,useValue:Jv.async,multi:!0}]}),n})();function EUe(n,...e){return{ngModule:wUe,providers:[{provide:NF,useFactory:yUe(n),multi:!0,deps:[q,it,Ps,Fs,...e]}]}}const CUe=xi(iTe,!0),HZ="@firebase/performance",OF="0.6.4",$Z=OF,PF="FB-PERF-TRACE-MEASURE",KZ="@firebase/performance/config",YZ="@firebase/performance/configexpire",QZ="Performance",oi=new Xr("performance",QZ,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Js=new Ta(QZ);let FF,XZ,ZZ,VF;Js.logLevel=de.INFO;class jn{constructor(e){if(this.window=e,!e)throw oi.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,i){!this.performance||!this.performance.measure||this.performance.measure(e,t,i)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&jv()?!!Da()||(Js.info("IndexedDB is not supported by current browswer"),!1):(Js.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(r=>{for(const s of r.getEntries())t(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===FF&&(FF=new jn(XZ)),FF}}function LF(){return ZZ}function JZ(n,e){const t=n.length-e.length;if(t<0||t>1)throw oi.create("invalid String merger input");const i=[];for(let r=0;r<n.length;r++)i.push(n.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}class vr{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=JZ("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=JZ("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===VF&&(VF=new vr),VF}}var br=(()=>((br=br||{})[br.UNKNOWN=0]="UNKNOWN",br[br.VISIBLE=1]="VISIBLE",br[br.HIDDEN=2]="HIDDEN",br))();const kUe=["firebase_","google_","ga_"],RUe=new RegExp("^[a-zA-Z]\\w*$");function PUe(){const n=jn.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function eJ(){switch(jn.getInstance().document.visibilityState){case"visible":return br.VISIBLE;case"hidden":return br.HIDDEN;default:return br.UNKNOWN}}function FUe(){const e=jn.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function tJ(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw oi.create("no app id");return t}const jUe="0.0.1",as={loggingEnabled:!0},HUe="FIREBASE_INSTALLATIONS_AUTH";const WUe="Could not fetch config, will use default configs";function nJ(n){if(!n)return n;const e=vr.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):as.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):as.logSource&&(e.logSource=as.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:as.logEndPointUrl&&(e.logEndPointUrl=as.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:as.transportKey&&(e.transportKey=as.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==as.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=as.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==as.tracesSamplingRate&&(e.tracesSamplingRate=as.tracesSamplingRate),e.logTraceAfterSampling=iJ(e.tracesSamplingRate),e.logNetworkAfterSampling=iJ(e.networkRequestsSamplingRate),n}function iJ(n){return Math.random()<=n}let UF,BF=1;function rJ(n){return BF=2,UF=UF||function QUe(n){return function XUe(){const n=jn.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function AUe(n){const e=n.getId();return e.then(t=>{ZZ=t}),e}(n.installations)).then(e=>function $Ue(n,e){const t=function zUe(){const n=jn.getInstance().localStorage;if(!n)return;const e=n.getItem(YZ);if(!e||!function KUe(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(KZ);if(t)try{return JSON.parse(t)}catch{return}}();return t?(nJ(t),Promise.resolve()):function qUe(n,e){return function MUe(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const i=function BUe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw oi.create("no project id");return t}(n.app),r=function UUe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw oi.create("no api key");return t}(n.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,{method:"POST",headers:{Authorization:`${HUe} ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:tJ(n.app),app_version:$Z,sdk_version:jUe})});return fetch(o).then(a=>{if(a.ok)return a.json();throw oi.create("RC response not ok")})}).catch(()=>{Js.info(WUe)})}(n,e).then(nJ).then(i=>function GUe(n){const e=jn.getInstance().localStorage;!n||!e||(e.setItem(KZ,JSON.stringify(n)),e.setItem(YZ,String(Date.now()+60*vr.getInstance().configTimeToLive*60*1e3)))}(i),()=>{})}(n,e)).then(()=>sJ(),()=>sJ())}(n),UF}function sJ(){BF=3}let HF,Z0=3,cl=[],aJ=!1;function J0(n){setTimeout(()=>{if(0!==Z0){if(!cl.length)return J0(1e4);!function tje(){const n=cl.splice(0,1e3),e=n.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)}));(function nje(n,e){return function ije(n){const e=vr.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||Js.info("Call to Firebase backend failed."),t.json())).then(t=>{const i=Number(t.nextRequestWaitMillis);let r=1e4;isNaN(i)||(r=Math.max(i,r));const s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(cl=[...e,...cl],Js.info("Retry transport request later.")),Z0=3,J0(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:vr.getInstance().logSource,log_event:e},n).catch(()=>{cl=[...n,...cl],Z0--,Js.info(`Tries left: ${Z0}.`),J0(1e4)})}()}},n)}function lJ(n,e){HF||(HF=function sje(n){return(...e)=>{!function rje(n){if(!n.eventTime||!n.message)throw oi.create("invalid cc log");cl=[...cl,n]}({message:n(...e),eventTime:Date.now()})}}(aje)),HF(n,e)}function eE(n){const e=vr.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||jn.getInstance().requiredApisAvailable()&&(n.isAuto&&eJ()!==br.VISIBLE||(function YUe(){return 3===BF}()?$F(n):rJ(n.performanceController).then(()=>$F(n),()=>$F(n))))}function $F(n){if(!LF())return;const e=vr.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>lJ(n,1),0)}function aje(n,e){return 0===e?function lje(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:cJ(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function cje(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const i={application_info:cJ(n.performanceController.app),trace_metric:e};return JSON.stringify(i)}(n)}function cJ(n){return{google_app_id:tJ(n),app_instance_id:LF(),web_app_info:{sdk_version:$Z,page_url:jn.getInstance().getUrl(),service_worker_status:PUe(),visibility_state:eJ(),effective_connection_type:FUe()},application_process_state:0}}const hje=["_fp","_fcp","_fid"];class ul{constructor(e,t,i=!1,r){this.performanceController=e,this.name=t,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=jn.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`${PF}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw oi.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw oi.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),eE(this)}record(e,t,i){if(e<=0)throw oi.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw oi.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Math.floor(Number(i.metrics[r])));eE(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function fje(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&hje.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw oi.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function pje(n){const e=Math.floor(n);return e<n&&Js.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const i=function LUe(n){return!(0===n.length||n.length>40||kUe.some(t=>n.startsWith(t))||!n.match(RUe))}(e),r=function VUe(n){return 0!==n.length&&n.length<=100}(t);if(i&&r)this.customAttributes[e]=t;else{if(!i)throw oi.create("invalid attribute name",{attributeName:e});if(!r)throw oi.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,i,r){const s=jn.getInstance().getUrl();if(!s)return;const o=new ul(e,"_wt_"+s,!0),a=Math.floor(1e3*jn.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),i){const u=i.find(h=>"first-paint"===h.name);u&&u.startTime&&o.putMetric("_fp",Math.floor(1e3*u.startTime));const d=i.find(h=>"first-contentful-paint"===h.name);d&&d.startTime&&o.putMetric("_fcp",Math.floor(1e3*d.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}eE(o)}static createUserTimingTrace(e,t){eE(new ul(e,t,!1,t))}}function uJ(n,e){const t=e;if(!t||void 0===t.responseStart)return;const i=jn.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+i)),s=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function oje(n){const e=vr.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];t===i||t===r||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>lJ(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function dJ(n){LF()&&(setTimeout(()=>function _je(n){const e=jn.getInstance(),t=e.getEntriesByType("navigation"),i=e.getEntriesByType("paint");if(e.onFirstInputDelay){let r=setTimeout(()=>{ul.createOobTrace(n,t,i),r=void 0},5e3);e.onFirstInputDelay(s=>{r&&(clearTimeout(r),ul.createOobTrace(n,t,i,s))})}else ul.createOobTrace(n,t,i)}(n),0),setTimeout(()=>function gje(n){const e=jn.getInstance(),t=e.getEntriesByType("resource");for(const i of t)uJ(n,i);e.setupObserver("resource",i=>uJ(n,i))}(n),0),setTimeout(()=>function yje(n){const e=jn.getInstance(),t=e.getEntriesByType("measure");for(const i of t)hJ(n,i);e.setupObserver("measure",i=>hJ(n,i))}(n),0))}function hJ(n,e){const t=e.name;t.substring(0,PF.length)!==PF&&ul.createUserTimingTrace(n,t)}class vje{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),jn.getInstance().requiredApisAvailable()?Zu().then(t=>{t&&(function eje(){aJ||(J0(5500),aJ=!0)}(),rJ(this).then(()=>dJ(this),()=>dJ(this)),this.initialized=!0)}).catch(t=>{Js.info(`Environment doesn't support IndexedDB: ${t}`)}):Js.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){vr.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return vr.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){vr.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return vr.getInstance().dataCollectionEnabled}}function wje(n=Ms()){return Gi(n=dn(n),"performance").getImmediate()}const Eje=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),i=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw oi.create("FB not default");if(typeof window>"u")throw oi.create("no window");!function xUe(n){XZ=n}(window);const r=new vje(t,i);return r._init(e),r};!function Cje(){Tn(new hn("performance",Eje,"PUBLIC")),Re(HZ,OF),Re(HZ,OF,"esm2017")}();class zF{constructor(e){return e}}const fJ="performance",GF=new E("angularfire2.performance-instances");function Tje(n){return(e,t,i)=>{if(!SD(t))return null;const r=e.runOutsideAngular(()=>n(i));return new zF(r)}}const Sje={provide:class Ije{constructor(){return Os(fJ)}},deps:[[new Ae,GF]]},xje={provide:zF,useFactory:function Dje(n,e,t){if(!SD(t))return null;const i=Ns(fJ,n,e);return i&&new zF(i)},deps:[[new Ae,GF],dr,Hr]};let Aje=(()=>{class n{constructor(){Re("angularfire",ur.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[xje,Sje]}),n})();function Mje(n,...e){return{ngModule:Aje,providers:[{provide:GF,useFactory:Tje(n),multi:!0,deps:[q,Hr,it,Ps,Fs,...e]}]}}const kje=xi(wje,!0);class WF{constructor(e){return e}}const pJ="remote-config",qF=new E("angularfire2.remote-config-instances");function Oje(n){return(e,t)=>{if(!eb.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new WF(i)}}const Pje={provide:class Rje{constructor(){return Os(pJ)}},deps:[[new Ae,qF]]},Fje={provide:WF,useFactory:function Nje(n,e){if(!eb.sync())return null;const t=Ns(pJ,n,e);return t&&new WF(t)},deps:[[new Ae,qF],dr]};let Lje=(()=>{class n{constructor(){Re("angularfire",ur.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[Fje,Pje,{provide:Q_,useValue:eb.async,multi:!0}]}),n})();function Vje(n,...e){return{ngModule:Lje,providers:[{provide:qF,useFactory:Oje(n),multi:!0,deps:[q,it,Ps,Fs,...e]}]}}const Bje=xi($Ie,!0),mJ="firebasestorage.googleapis.com";class Ut extends cr{constructor(e,t,i=0){super(KF(e),`Firebase Storage: ${t} (${KF(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return KF(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ae=(()=>((ae=ae||{}).UNKNOWN="unknown",ae.OBJECT_NOT_FOUND="object-not-found",ae.BUCKET_NOT_FOUND="bucket-not-found",ae.PROJECT_NOT_FOUND="project-not-found",ae.QUOTA_EXCEEDED="quota-exceeded",ae.UNAUTHENTICATED="unauthenticated",ae.UNAUTHORIZED="unauthorized",ae.UNAUTHORIZED_APP="unauthorized-app",ae.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ae.INVALID_CHECKSUM="invalid-checksum",ae.CANCELED="canceled",ae.INVALID_EVENT_NAME="invalid-event-name",ae.INVALID_URL="invalid-url",ae.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ae.NO_DEFAULT_BUCKET="no-default-bucket",ae.CANNOT_SLICE_BLOB="cannot-slice-blob",ae.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ae.NO_DOWNLOAD_URL="no-download-url",ae.INVALID_ARGUMENT="invalid-argument",ae.INVALID_ARGUMENT_COUNT="invalid-argument-count",ae.APP_DELETED="app-deleted",ae.INVALID_ROOT_OPERATION="invalid-root-operation",ae.INVALID_FORMAT="invalid-format",ae.INTERNAL_ERROR="internal-error",ae.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ae))();function KF(n){return"storage/"+n}function QF(n){return new Ut(ae.INVALID_ARGUMENT,n)}function bJ(){return new Ut(ae.APP_DELETED,"The Firebase app was deleted.")}class Ri{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ri.makeFromUrl(e,t)}catch{return new Ri(e,"")}if(""===i.path)return i;throw function Yje(n){return new Ut(ae.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(S){S.path_=decodeURIComponent(S.path)}const d=t.replace(/[.]/g,"\\."),D=[{regex:a,indices:{bucket:1,path:3},postModify:function s(S){"/"===S.path.charAt(S.path.length-1)&&(S.path_=S.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===mJ?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<D.length;S++){const H=D[S],ee=H.regex.exec(e);if(ee){let Mt=ee[H.indices.path];Mt||(Mt=""),i=new Ri(ee[H.indices.bucket],Mt),H.postModify(i);break}}if(null==i)throw function Kje(n){return new Ut(ae.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class tHe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ZF(n,e,t,i){if(i<e)throw QF(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw QF(`Invalid value for '${n}'. Expected ${t} or less.`)}var Xi=(()=>((Xi=Xi||{})[Xi.NO_ERROR=0]="NO_ERROR",Xi[Xi.NETWORK_ERROR=1]="NETWORK_ERROR",Xi[Xi.ABORT=2]="ABORT",Xi))();class aHe{constructor(e,t,i,r,s,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function rHe(n){return void 0!==n}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=function YF(){return new Ut(ae.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(r.canceled?this.appDelete_?bJ():function yJ(){return new Ut(ae.CANCELED,"User canceled the upload/download.")}():function _J(){return new Ut(ae.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new nE(!1,null,!0)):this.backoffId_=function nHe(n,e,t){let i=1,r=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(...g){c||(c=!0,e.apply(null,g))}function d(g){r=setTimeout(()=>{r=null,n(f,l())},g)}function h(){s&&clearTimeout(s)}function f(g,...w){if(c)return void h();if(g)return h(),void u.call(null,g,...w);if(l()||o)return h(),void u.call(null,g,...w);let D;i<64&&(i*=2),1===a?(a=2,D=0):D=1e3*(i+Math.random()),d(D)}let p=!1;function m(g){p||(p=!0,h(),!c&&(null!==r?(g||(a=2),clearTimeout(r),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},t),m}((i,r)=>{if(r)return void i(!1,new nE(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Xi.NO_ERROR,l=s.getStatus();if(!a||function CJ(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Xi.ABORT;return void i(!1,new nE(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);i(!0,new nE(c,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function iHe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nE{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}class zc{constructor(e,t){this._service=e,this._location=t instanceof Ri?t:Ri.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zc(e,t)}get root(){const e=new Ri(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function xJ(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function wHe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ri(this._location.bucket,e);return new zc(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function eHe(n){return new Ut(ae.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function $J(n,e){const t=e?.storageBucket;return null==t?null:Ri.makeFromBucketSpec(t,n)}class sL{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=mJ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ri.makeFromBucketSpec(r,this._host):$J(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ri.makeFromBucketSpec(this._url,e):$J(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return y(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return y(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zc(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new tHe(bJ());{const o=function hHe(n,e,t,i,r,s,o=!0){const a=function EJ(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function uHe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function lHe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function cHe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function dHe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,i),new aHe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var i=this;return y(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const zJ="@firebase/storage",WJ="storage";function o$e(n=Ms(),e){const i=Gi(n=dn(n),WJ).getImmediate({identifier:e}),r=Uv("storage");return r&&function a$e(n,e,t,i={}){!function s$e(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:XS(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function l$e(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new sL(t,i,r,e,ko)}!function c$e(){Tn(new hn(WJ,l$e,"PUBLIC").setMultipleInstances(!0)),Re(zJ,"0.11.2",""),Re(zJ,"0.11.2","esm2017")}();class oL{constructor(e){return e}}const qJ="storage",aL=new E("angularfire2.storage-instances");function h$e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new oL(i)}}const f$e={provide:class u$e{constructor(){return Os(qJ)}},deps:[[new Ae,aL]]},p$e={provide:oL,useFactory:function d$e(n,e){const t=Ns(qJ,n,e);return t&&new oL(t)},deps:[[new Ae,aL],dr]};let m$e=(()=>{class n{constructor(){Re("angularfire",ur.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n}),n.\u0275inj=ne({providers:[p$e,f$e]}),n})();function g$e(n,...e){return{ngModule:m$e,providers:[{provide:aL,useFactory:h$e(n),multi:!0,deps:[q,it,Ps,Fs,[new Ae,Ep],[new Ae,rd],...e]}]}}const _$e=xi(o$e,!0),KJ=(Ii("[tasks] add task",{_as:"props",_p:void 0}),Ii("[tasks] remove task",{_as:"props",_p:void 0})),YJ=Ii("[tasks] update task",{_as:"props",_p:void 0}),lL=Ii("[tasks] load tasks from db"),QJ=Ii("[tasks] load tasks from db success",{_as:"props",_p:void 0}),XJ=Ii("[tasks] load tasks from db fail"),ZJ=Ii("[tasks] upload task to db success",{_as:"props",_p:void 0}),cL=Ii("[tasks] upload task to db",{_as:"props",_p:void 0}),JJ=Ii("[tasks] upload task to db fail",{_as:"props",_p:void 0}),uL=Ii("[tasks] upload task to db",{_as:"props",_p:void 0}),eee=Ii("[tasks] upload task to db success",{_as:"props",_p:void 0}),tee=Ii("[tasks] upload task to db fail",{_as:"props",_p:void 0});function y$e(n,e){1&n&&(O(0,"h1",12),Fe(1,"Enter a new task"),P())}function v$e(n,e){1&n&&(O(0,"h1",12),Fe(1,"Update a task"),P())}function b$e(n,e){1&n&&(O(0,"mat-error"),Fe(1,"Title Required"),P())}function w$e(n,e){1&n&&(O(0,"mat-error"),Fe(1,"Description Required"),P())}function E$e(n,e){if(1&n){const t=_o();O(0,"button",13),Me("click",function(){return zn(t),Gn(Ve().save())}),Fe(1,"Add Task"),P()}2&n&&z("disabled",!Ve().form.valid)}function C$e(n,e){if(1&n){const t=_o();O(0,"button",13),Me("click",function(){return zn(t),Gn(Ve().save())}),Fe(1,"Update Task"),P()}2&n&&z("disabled",!Ve().form.valid)}let nee=(()=>{class n{constructor(t,i,r,s,o){this.dialogRef=t,this.data=i,this.formBuilder=r,this.snackBar=s,this.store=o,this.dataUploaded=!1;const a=this.data.task;this.form=this.formBuilder.group({title:[a.title,Gf.required],description:[a.description,Gf.required],due:[a.due,Gf.required]})}ngOnInit(){this.store.select("tasks").subscribe(t=>{if(this.dataUploaded&&t.updateSuccess?.i===this.data.i)if(t.updateSuccess.success){let i;this.dataUploaded=!1,this.store.dispatch(YJ({newValue:this.form.value,i:this.data.i})),this.dialogRef.close(this.form.value),i=this.data.create?"New TODO created!":"TODO updated!",this.snackBar.open(i,"Dismiss",{duration:2500})}else console.log("Error uploading data! Try Again.")})}save(){this.form.markAllAsTouched(),this.form.valid&&(this.store.dispatch(cL({task:this.form.value,i:this.data.i})),this.dataUploaded=!0)}}return n.\u0275fac=function(t){return new(t||n)(_(LS),_(IW),_(Bve),_(RW),_(xs))},n.\u0275cmp=lt({type:n,selectors:[["app-popup"]],decls:32,vars:9,consts:[["mat-dialog-title","",4,"ngIf"],["mat-dialog-content",""],[3,"formGroup"],["matInput","","formControlName","title"],[4,"ngIf"],["appearance","fill"],["cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5","matInput","","formControlName","description"],["matInput","","formControlName","due",3,"matDatepicker"],["matIconSuffix","",3,"for"],["dueDate",""],["mat-dialog-actions","","align","end"],["mat-button","",3,"disabled","click",4,"ngIf"],["mat-dialog-title",""],["mat-button","",3,"disabled","click"]],template:function(t,i){if(1&t&&(Ie(0,y$e,2,0,"h1",0),Ie(1,v$e,2,0,"h1",0),O(2,"div",1)(3,"p"),Fe(4,"Enter a title for the task"),P(),O(5,"form",2)(6,"mat-form-field")(7,"mat-label"),Fe(8,"Title"),P(),Je(9,"input",3),Ie(10,b$e,2,0,"mat-error",4),P(),O(11,"p"),Fe(12,"Enter a description for the task"),P(),O(13,"mat-form-field",5)(14,"mat-label"),Fe(15,"Description"),P(),Je(16,"textarea",6),Ie(17,w$e,2,0,"mat-error",4),P(),O(18,"p"),Fe(19,"Choose when the task is due"),P(),O(20,"mat-form-field")(21,"mat-label"),Fe(22,"Choose a date"),P(),O(23,"mat-hint"),Fe(24,"MM/DD/YYYY"),P(),Je(25,"input",7)(26,"mat-datepicker-toggle",8)(27,"mat-datepicker",null,9),P()()(),O(29,"div",10),Ie(30,E$e,2,1,"button",11),Ie(31,C$e,2,1,"button",11),P()),2&t){const r=xu(28);z("ngIf",i.data.create),L(1),z("ngIf",!i.data.create),L(4),z("formGroup",i.form),L(5),z("ngIf",i.form.controls.title.invalid),L(7),z("ngIf",i.form.controls.description.invalid),L(8),z("matDatepicker",r),L(1),z("for",r),L(4),z("ngIf",i.data.create),L(1),z("ngIf",!i.data.create)}},dependencies:[Nl,Wu,DG,lv,uG,dG,Vbe,Obe,DS,TS,Dbe,xbe,Zve,Owe,Pwe,Fwe,Jf,bS,G0e,KS,X0e],encapsulation:2}),n})();const iee=Ii("[theme] update theme",{_as:"props",_p:void 0});let I$e=(()=>{class n{constructor(t,i){this.dialog=t,this.store=i,this.length=0,this.theme="dark"}ngOnInit(){this.store.select("tasks").subscribe(t=>{t.dataPresent&&(this.length=t.tasks.length)})}openDialog(){this.dialog.open(nee,{data:{create:!0,task:{description:"",due:new Date,title:""},i:this.length}})}updateTheme(t){this.theme=t.value,this.store.dispatch(iee({theme:t.value}))}}return n.\u0275fac=function(t){return new(t||n)(_(kv),_(xs))},n.\u0275cmp=lt({type:n,selectors:[["app-navbar"]],decls:13,vars:2,consts:[["color","primary",1,"fixed","z-10","mat-elevation-z10"],[1,"spacer"],["name","theme","aria-label","Website Theme",1,"mr-4",3,"change"],["value","light",3,"checked"],["value","dark",3,"checked"],["mat-button","",3,"click"],[1,"invisible"]],template:function(t,i){1&t&&(O(0,"mat-toolbar",0)(1,"span"),Fe(2,"My TODOs"),P(),Je(3,"span",1),O(4,"span")(5,"mat-button-toggle-group",2),Me("change",function(s){return i.updateTheme(s)}),O(6,"mat-button-toggle",3),Fe(7,"Light"),P(),O(8,"mat-button-toggle",4),Fe(9,"Dark"),P()(),O(10,"button",5),Me("click",function(){return i.openDialog()}),Fe(11,"Add task"),P()()(),Je(12,"mat-toolbar",6)),2&t&&(L(6),z("checked","light"==i.theme),L(2),z("checked","dark"==i.theme))},dependencies:[Wu,Fye,LW,VW],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})(),D$e=(()=>{class n{constructor(t,i,r){this.dialog=t,this.store=i,this.snackBar=r,this.deletingTask=!1}ngOnInit(){this.store.select("tasks").subscribe(t=>{this.deletingTask&&t.deleteSuccess?.i==this.i&&(t.deleteSuccess.success?this.onTaskDeleted():console.log("Failed to delete the task"))})}getDueTime(t){const i=t.getTime()-(new Date).getTime();return Math.ceil(i/864e5)}deleteTask(){console.log("Dispatching delete task"),this.store.dispatch(uL({i:this.i})),this.deletingTask=!0}onTaskDeleted(){this.snackBar.open("TODO deleted","Dismiss",{duration:2500}),this.store.dispatch(KJ({i:this.i})),this.deletingTask=!1}editTask(){console.log("Editing task"),this.dialog.open(nee,{data:{create:!1,task:this.todo,i:this.i}})}}return n.\u0275fac=function(t){return new(t||n)(_(kv),_(xs),_(RW))},n.\u0275cmp=lt({type:n,selectors:[["app-todo-tile"]],inputs:{todo:"todo",i:"i"},decls:14,vars:3,consts:[[1,"mat-elevation-z20"],["mat-button","","color","primary",3,"click"],["mat-button","","color","secondary",3,"click"]],template:function(t,i){1&t&&(O(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),Fe(3),P(),O(4,"mat-card-subtitle"),Fe(5),P()(),O(6,"mat-card-content")(7,"span"),Fe(8),P()(),O(9,"mat-card-actions")(10,"button",1),Me("click",function(){return i.deleteTask()}),Fe(11,"Delete"),P(),O(12,"button",2),Me("click",function(){return i.editTask()}),Fe(13,"Edit"),P()()()),2&t&&(L(3),Is(i.todo.title),L(2),Is(i.todo.description),L(3),Wr("Due in: ",i.getDueTime(i.todo.due)," day(s)"))},dependencies:[Wu,N3,L3,P3,V3,F3,O3],encapsulation:2}),n})();function T$e(n,e){1&n&&(O(0,"div"),Je(1,"mat-spinner"),P())}function S$e(n,e){1&n&&(O(0,"div")(1,"p"),Fe(2,"There are no TODOs to show"),P()())}function x$e(n,e){if(1&n&&(O(0,"div",5,6),Je(2,"app-todo-tile",7),P()),2&n){const t=e.$implicit,i=e.index;L(2),z("todo",t)("i",i)}}let A$e=(()=>{class n{constructor(t){this.store=t,this.tasks=[],this.dataLoading=!0}ngOnInit(){this.store.select("tasks").subscribe(t=>{t.loadingData||t.dataPresent?t.errorLoadingData?console.log("Failed to load the tasks"):(this.dataLoading=!1,this.tasks=t.tasks):this.store.dispatch(lL())}),this.store.select("theme").subscribe(t=>{"light"===t?document.body.classList.add("light-theme"):document.body.classList.remove("light-theme")})}}return n.\u0275fac=function(t){return new(t||n)(_(xs))},n.\u0275cmp=lt({type:n,selectors:[["app-root"]],decls:10,vars:3,consts:[[1,"m-container"],[1,"mt-5"],[1,"tasks","pt-5","pb-5"],[4,"ngIf"],["class","p-2",4,"ngFor","ngForOf"],[1,"p-2"],["tasks",""],[3,"todo","i"]],template:function(t,i){1&t&&(O(0,"header"),Je(1,"app-navbar"),P(),O(2,"main",0)(3,"div",1)(4,"h1"),Fe(5,"Keep track of your TODOs"),P()(),O(6,"div",2),Ie(7,T$e,2,0,"div",3),Ie(8,S$e,3,0,"div",3),Ie(9,x$e,3,2,"div",4),P()()),2&t&&(L(7),z("ngIf",i.dataLoading),L(1),z("ngIf",!i.dataLoading&&0==i.tasks.length),L(1),z("ngForOf",i.tasks))},dependencies:[fy,Nl,aEe,I$e,D$e],encapsulation:2}),n})();const ree_firebase={projectId:"todo-project-2023",appId:"1:876541994566:web:f4fb64d36df3e45a50cc47",storageBucket:"todo-project-2023.appspot.com",apiKey:"AIzaSyDwFlS1pGlJ_JLZc4sa2900qjf1Jp_Fv2w",authDomain:"todo-project-2023.firebaseapp.com",messagingSenderId:"876541994566",measurementId:"G-MNRY1ESDEV"};let M$e=(()=>{class n{constructor(){this.db=N(Q0)}getTasks(){var t=this;return y(function*(){const i=jBe(t.db,"default"),r=yield HBe(i),s=[];return r.forEach(o=>{const a=o.data();s.push({description:a.description,due:a.due.toDate(),title:a.title})}),s})()}uploadTask(t,i){return y(function*(){void 0!==t&&console.log("Uploading a task:",t,i)})()}deleteTask(t){return y(function*(){console.log("Deleting a task",t)})()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k$e=(()=>{class n{constructor(t,i){this.actions$=t,this.taskService=i,this.loadTasks$=PT(()=>this.actions$.pipe(VT(lL),pr(()=>vn(this.taskService.getTasks()).pipe(le(r=>QJ({tasks:r})),Or(()=>Y(XJ())))))),this.updateTask$=PT(()=>this.actions$.pipe(VT(cL),pr(({task:r,i:s})=>vn(this.taskService.uploadTask(r,s)).pipe(le(()=>ZJ({i:s})),Or(()=>Y(JJ({i:s}))))))),this.deleteTask$=PT(()=>this.actions$.pipe(VT(uL),pr(({i:r})=>vn(this.taskService.deleteTask(r)).pipe(le(()=>eee({i:r})),Or(()=>Y(tee({i:r})))))))}}return n.\u0275fac=function(t){return new(t||n)(b(lge),b(M$e))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const R$e=v4("dark",Nr(iee,(n,{theme:e})=>e)),N$e=v4({tasks:[],loadingData:!1,dataPresent:!1,errorLoadingData:!1},Nr(KJ,(n,{i:e})=>{const t=[...n.tasks];return t.splice(e,1),{...n,tasks:t}}),Nr(YJ,(n,{i:e,newValue:t})=>{const i=[...n.tasks];return i[e]=t,{...n,tasks:i}}),Nr(lL,n=>({...n,loadingData:!0})),Nr(QJ,(n,{tasks:e})=>({...n,tasks:e,dataPresent:!0})),Nr(XJ,n=>({...n,errorLoadingData:!0})),Nr(uL,n=>({...n,deleteSuccess:void 0})),Nr(eee,(n,{i:e})=>({...n,deleteSuccess:{i:e,success:!0}})),Nr(tee,(n,{i:e})=>({...n,deleteSuccess:{i:e,success:!1}})),Nr(cL,n=>({...n,updateSuccess:void 0})),Nr(ZJ,(n,{i:e})=>({...n,updateSuccess:{i:e,success:!0}})),Nr(JJ,(n,{i:e})=>({...n,updateSuccess:{i:e,success:!1}})));let O$e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=re({type:n,bootstrap:[A$e]}),n.\u0275inj=ne({providers:[rK,vN],imports:[H$,Hpe,vye,sS,Lye,Gye,Wye,Uve,Bbe,xS,Vwe,qwe,jve,MW,f0e,F_e,eEe,lEe,JTe(()=>eSe(ree_firebase)),dNe(()=>hNe()),LMe(()=>BMe()),Zme.forRoot({theme:R$e,tasks:N$e}),Ige.forRoot([k$e]),GPe(()=>CPe()),UBe(()=>$Be()),pUe(()=>mUe()),EUe(()=>CUe()),Mje(()=>kje()),Vje(()=>Bje()),g$e(()=>_$e())]}),n})();Bhe().bootstrapModule(O$e).catch(n=>console.error(n))}},Ue=>{Ue(Ue.s=210)}]);